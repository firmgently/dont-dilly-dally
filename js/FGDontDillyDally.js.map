{"version":3,"sources":["FGUtils.js","FGHTMLBuild.js","DDDConsts.js","DontDillyDally.js"],"names":["uk","undefined","co","firmgently","FGUtils","addCSSRule","getIEVersion","isTouchDevice","registerEventHandler","unregisterEventHandler","stopPropagation","hexOpacityToRGBA","getRandomHexColor","createElementWithId","removeClassname","addClassname","getStyle","treatAsUTC","daysBetween","getFormattedDate","getFunctionFromString","logMsg","String","prototype","isEmpty","this","test","Storage","setObject","key","value","setItem","JSON","stringify","getObject","getItem","parse","Date","monthDays","getFullYear","getMonth","getDate","isLeapYear","year","getDOY","dayCount","mn","dn","dayOfYear","getWeekDay","length","ret","getDay","substring","e","preventDefault","cancelBubble","returnValue","node","event","handler","useCapture","addEventListener","attachEvent","removeEventListener","detachEvent","hexColour","opacity","r","g","b","parseInt","tone","hexString","Math","floor","random","toString","toUpperCase","elType","id","el","document","createElement","element","name","className","replace","selector","property","newValue","i","curStyleSheet","totalStyleSheets","styleSheets","newStyle","insertRule","cssRules","err1","addRule","err2","str","scope","window","chain_ar","split","chainLength","date","format","getUTCFullYear","substr","getUTCDate","slice","getUTCMonth","styleProp","style","currentStyle","getComputedStyle","defaultView","getPropertyValue","msg","v","div","all","getElementsByTagName","innerHTML","undef","navigator","MaxTouchPoints","msMaxTouchPoints","result","setMinutes","getMinutes","getTimezoneOffset","startDate","endDate","FGHTMLBuild","fillHTMLFromOb","createButtonFromOb","createRadioFromOb","createCheckboxFromOb","createInputFromOb","createSelectFromOb","addLIsFromOb","createBasicElementFromOb","createColorPickerFromOb","ob","prop","getElementById","button_el","parent_el","parent","appendChild","class","label","disabled","input_el","label_el","htmlFor","attributes","setAttribute","select_el","option_el","clientOrJob_ob","placeholderOption","placeholderText","Option","selected","hidden","options","contentType","checkbox_el","div_el","checked","wrapLabel","addDivToLabel","radio_el","checkIfMatched","li_el","UL_el","CLASS_ROW","ar","type","GUITYPE_COL","GUITYPE_ROW","GUITYPE_SECTION","DDDConsts","DATETYPE_DDMMYY","APP_ID","GUIDATA_NAVMAIN","methodPathStr","args","scopeID","PAGETYPE_TIMESHEETS","PAGETYPE_CONFIG","PAGETYPE_JOBSANDCLIENTS","PAGETYPE_DEFAULT","BODYID_TIMESHEETS","BODYID_CONFIG","BODYID_JOBSANDCLIENTS","GUITYPE_BTN","GUITYPE_RADIOBTN","GUITYPE_FORM","GUITYPE_SELECT","GUITYPE_TEXTINPUT","GUITYPE_METHODCALL","GUITYPE_COLORPICKER","GUITYPE_UL","TIMESHEETCONTAINER_ID","LOADINGINDICATOR_ID","PAGEDATA_JOBSANDCLIENTS","pageTitle","intro","GUIDATA_JOBSANDCLIENTS","title","el_ar","PAGEDATA_TIMESHEETS","GUIDATA_TIMESHEETS","PAGEDATA_CONFIG","GUIDATA_CONFIG","DATETYPE_MMDDYY","DATETYPE_YYMMDD","timespanWeek","timespanMonth","timespanYear","showTotalsWeek","showTotalsMonth","showTotalsWeekAndMonth","DATETYPE_DEFAULT","TIMESPAN_WEEK","TIMESPAN_MONTH","TIMESPAN_YEAR","TIMESPAN_DEFAULT","DAYSINWEEK","DAYSINMONTH","DAYSINYEAR","CLASS_BTNNAV","CLASS_FORMMAIN","CLASS_COL","EL_ID_COLHEADING","CLIENT_STR","JOB_STR","EL_ID_JOBNAMEIN","EL_ID_CLIENTNAMEIN","JOB_FG_COLPICK","JOB_BG_COLPICK","CLIENT_FG_COLPICK","CLIENT_BG_COLPICK","TXT_STORAGE_UNSUPPORTED","JOB_DEFAULT_1","color","bgcolor","JOB_DEFAULT_2","CLIENT_DEFAULT_1","CLIENT_DEFAULT_2","CONTENTTYPE_CLIENTS","CONTENTTYPE_JOBS","DATATYPE_JOB","DATATYPE_CLIENT","EL_ID_CLIENTSAVEBTN","EL_ID_JOBSAVEBTN","EL_ID_SELECTCLIENT","EL_ID_SELECTJOB","SHOWTOTALS_WEEK","SHOWTOTALS_MONTH","SHOWTOTALS_BOTH","CLIENT_SELECT_PLACEHOLDER","JOB_SELECT_PLACEHOLDER","JOBNOTES_PLACEHOLDER","MONEYNOTES_PLACEHOLDER","SHOWTOTALS_DEFAULT","DontDillyDally","dateDisplayStart","dateDisplaySelected","dateToday","clientNameInput_el","jobNameInput_el","clientSaveBtn_el","jobSaveBtn_el","colPickClientFG_el","colPickClientBG_el","colPickJobFG_el","colPickJobBG_el","doSetup","selectPage","drawPage","clearPage","drawGUIFromAr","createFormFromOb","addTask","removeTask","callMethodFromObOnElement","callMethodFromOb","onFormClick","drawTimesheets","getNextName","newClientCreate","newJobCreate","navClick","onClientTyped","onFormSubmit","onUpdateInput","onIsMoneyTaskChkChange","dataStoragePossible","initDataObject","dataStoreObject","dataRetrieveObject","dataUpdateObject","createClientOrJobFromOb","newClientFormSave","newJobFormSave","updateRefsToElements","updateSelected","addWorkItem","removeWorkItem","pagetype","timespan","dateFormat","totalsToShow","category","localStorage","clear","location","hash","decodeURIComponent","setTimeout","body","el_temp","form_el","display","parentNode","prefix","n","dataType","newItemCSS_selector","colorPickerFGSelector","colorPickerBGSelector","target","push","apply","j","daysToDraw","isOddDay","weekdayCur","rowClassname","day_el","date_el","dayDataContainer_el","dayWorkItems","workingFragment","createDocumentFragment","allWorkItems","dayCur","setDate","setMonth","round","itemID","workItem_el","getAttribute","children","placeholder","item_el","removeChild","form","timesheetRange","checkbox","getElementsByClassName","countInput","notesInput","fgCol","bgCol","arguments","day_ar","day_ob","option_selector","pageType","work","time","client","job","jobNotes","money","moneyNotes","call"],"mappings":"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","file":"FGDontDillyDally.js","sourcesContent":["/*\n---------------------------------------------------------\n  Firm Gently Utilities\n  Mark Mayes 2016\n---------------------------------------------------------\n*/\n// create namespace: uk.co.firmgently\nvar uk = (uk !== undefined) ? uk : {};\nuk.co = (uk.co !== undefined) ? uk.co : {};\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\n//\nuk.co.firmgently.FGUtils = (function() {\n\t\"use strict\";\n\n\tvar\n\taddCSSRule, getIEVersion, isTouchDevice,\n\tregisterEventHandler, unregisterEventHandler, stopPropagation,\n\thexOpacityToRGBA, getRandomHexColor, createElementWithId,\n\tremoveClassname, addClassname, getStyle,\n  treatAsUTC, daysBetween, getFormattedDate,\n\tgetFunctionFromString,\n\tlogMsg;\n\n\n  /* -------------------------------------------------------------------------------\n  \textend some global objects\n  ---------------------------------------------------------------------------------- */\n\n\tString.prototype.isEmpty = function() {\n\t\treturn (!this || /^\\s*$/.test(this));\n\t};\n\n\n\n  Storage.prototype.setObject = function(key, value) {\n    this.setItem(key, JSON.stringify(value));\n  };\n\n\n/*\n  http://stackoverflow.com/questions/2010892/storing-objects-in-html5-localstorage\n  Because of short-circuit evaluation, getObject() will immediately return null\n  if key is not in Storage. It also will not throw a SyntaxError exception if\n  value is \"\" (the empty string; JSON.parse() cannot handle that). */\n  Storage.prototype.getObject = function(key) {\n      var value = this.getItem(key);\n      return value && JSON.parse(value);\n  };\n\n\n\n\t// http://stackoverflow.com/questions/1184334/get-number-days-in-a-specified-month-using-javascript\n\tDate.prototype.monthDays= function() {\n\t    var d = new Date(this.getFullYear(), this.getMonth() + 1, 0);\n\t    return d.getDate();\n\t};\n\n\n\t// http://stackoverflow.com/questions/8619879/javascript-calculate-the-day-of-the-year-1-366\n\tDate.prototype.isLeapYear = function() {\n\t    var year = this.getFullYear();\n\t    if ((year & 3) !== 0) { return false; }\n\t    return ((year % 100) !== 0 || (year % 400) === 0);\n\t};\n\n\t//http://stackoverflow.com/questions/8619879/javascript-calculate-the-day-of-the-year-1-366\n\t// Get Day of Year\n\tDate.prototype.getDOY = function() {\n\t    var dayCount = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n\t    var mn = this.getMonth();\n\t    var dn = this.getDate();\n\t    var dayOfYear = dayCount[mn] + dn;\n\t    if(mn > 1 && this.isLeapYear()) dayOfYear++;\n\t    return dayOfYear;\n\t};\n\n\tDate.prototype.getWeekDay = function(length) {\n\t    var ret,\n\t\t\t\t\tweekday = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n\n\t\t\tret = weekday[this.getDay()];\n\t\t\tif (length > 0) { ret = ret.substring(0, length);\t}\n\n\t    return ret;\n\t};\n\n\n\t/* -------------------------------------------------------------------------------\n\t\tgeneral helpers\n\t---------------------------------------------------------------------------------- */\n\n\t// prevent bubbling/propagation/default events (image drag and drop etc)\n\t// also when showing another image on click we don't want the event to bubble\n\t// up to its container, as a click on the container closes the overlay\n\tstopPropagation = function(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    if (e.stopPropagation) { e.stopPropagation(); }\n    e.cancelBubble = true;\n    e.returnValue = false;\n    return false;\n\t};\n\n\n\tregisterEventHandler = function(node, event, handler, useCapture) {\n    useCapture = (useCapture === undefined) ? false : useCapture;\n    if (typeof node.addEventListener === \"function\") {\n      node.addEventListener(event, handler, useCapture);\n    } else {\n      node.attachEvent(\"on\" + event, handler);\n    }\n\t\t// logMsg(\"node: \" + node);\n\t\t// logMsg(\"event: \" + event);\n\t\t// logMsg(\"handler: \" + handler);\n  };\n\n\n\tunregisterEventHandler = function(node, event, handler, useCapture) {\n    useCapture = (useCapture === undefined) ? false : useCapture;\n    if (typeof node.removeEventListener === \"function\") {\n      node.removeEventListener(event, handler, useCapture);\n    } else {\n      node.detachEvent(\"on\" + event, handler);\n    }\n  };\n\n\n  hexOpacityToRGBA = function(hexColour, opacity) {\n    var r, g, b;\n    r = parseInt(hexColour.substring(0,2), 16);\n    g = parseInt(hexColour.substring(2,4), 16);\n    b = parseInt(hexColour.substring(4,6), 16);\n    return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + opacity + \")\";\n  };\n\n\n\tgetRandomHexColor = function(tone) {\n\t\t// Based on http://www.paulirish.com/2009/random-hex-color-code-snippets/\n\t\tvar full = 16777215, mid = 8388607, third = 5592405, smalln = 1864135, hexString;\n\t\tif (tone === undefined) {\n\t\t\thexString = '#' + Math.floor(Math.random()*full).toString(16);\n\t\t} else if (tone.toUpperCase() === \"LIGHT\") {\n\t\t\thexString = '#' + Math.floor(full - Math.random()*third).toString(16);\n\t\t} else if (tone.toUpperCase() === \"DARK\") {\n\t\t\thexString = '#' + Math.floor(Math.random()*smalln).toString(16);\n\t\t}\n\t\treturn hexString;\n\t};\n\n\n  createElementWithId = function(elType, id) {\n    var el = document.createElement(elType);\n\t\tel.id = id;\n    return el;\n  };\n\n\n  removeClassname = function(element, name) {\n    element.className = element.className.replace(\" \" + name,\"\");\n  };\n\n\n  addClassname = function(element, name) {\n    name = \" \" + name;\n    element.className = element.className.replace(name,\"\");\n    element.className = element.className + name;\n  };\n\n\n\taddCSSRule = function(selector, property, newValue) {\n\t\tlogMsg(\"selector: \" + selector);\n\t\tlogMsg(\"\\tproperty: \" + property);\n\t\tlogMsg(\"\\tnewValue: \" + newValue);\n\t\tvar\n\t\ti, curStyleSheet,\n\t\ttotalStyleSheets = document.styleSheets.length,\n\t\tnewStyle = property + \": \" + newValue;\n\n\t\tfor (i = 0; i < totalStyleSheets; i++) {\n\t\t\tcurStyleSheet = document.styleSheets[i];\n\t\t\t// logMsg(\"curStyleSheet: \" + curStyleSheet);\n\t\t\ttry {\n\t\t\t\tcurStyleSheet.insertRule(selector + \" {\" + newStyle + \"}\", curStyleSheet.cssRules.length);\n\t\t\t} catch(err1) {\n\t\t\t\ttry {\n\t\t\t\t\tcurStyleSheet.addRule(selector, newStyle);\n\t\t\t\t} catch(err2) {}\n\t\t\t}\n\t\t}\n\t};\n\n\n\tgetFunctionFromString = function(str) {\n\t\t\tvar\n\t\t\ti,\n\t\t\tscope = window,\n\t\t\tchain_ar = str.split('.'),\n\t\t\tchainLength = chain_ar.length - 1;\n\n\t\t\tfor (i = 0; i < chainLength; i++) {\n\t\t\t\t\tscope = scope[chain_ar[i]];\n\t\t\t\t\tif (scope === undefined) { return; }\n\t\t\t}\n\n\t\t\treturn scope[chain_ar[chainLength]];\n\t};\n\n\n\tgetFormattedDate = function(date, format) {\n\t\tvar dateString;\n\t\tformat = format.replace(\"yy\", date.getUTCFullYear().toString().substr(-2));\n\t\tformat = format.replace(\"dd\", (\"0\" + (date.getUTCDate())).slice(-2));\n\t\tformat = format.replace(\"mm\", (\"0\" + (date.getUTCMonth()+1)).slice(-2));\n\t\treturn format;\n\t\t// =\n\t\t//   date.getUTCFullYear() +\"/\"+\n\t\t//   (\"0\" + (date.getUTCMonth()+1)).slice(-2) +\"/\"+\n\t\t//   (\"0\" + date.getUTCDate()).slice(-2);\n\t};\n\n\n\tgetStyle = function(el, styleProp) {\n\t\tvar style;\n\t\tif (el.currentStyle) {\n\t\t\tstyle = el.currentStyle[styleProp];\n\t\t} else if (window.getComputedStyle) {\n\t\t\tstyle = document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\n\t\t}\n\t\treturn style;\n\t};\n\n\n\tlogMsg = function(msg) {\n  //  console.log(msg);\n  };\n\n\n\t// ----------------------------------------------------------\n  // A short snippet for detecting versions of IE in JavaScript\n  // without resorting to user-agent sniffing\n  // http://james.padolsey.com/javascript/detect-ie-in-js-using-conditional-comments/\n  // ----------------------------------------------------------\n  // If you're not in IE (or IE version is less than 5) then:\n  //     getIEVersion() === undefined\n  // If you're in IE (>=5) then you can determine which version:\n  //     getIEVersion() === 7; // IE7\n  // Thus, to detect IE:\n  //     if (getIEVersion()) {}\n  // And to detect the version:\n  //     getIEVersion() === 6 // IE6\n  //     getIEVersion() > 7 // IE8, IE9 ...\n  //     getIEVersion() < 9 // Anything less than IE9\n  // ----------------------------------------------------------\n\n  // UPDATE: Now using Live NodeList idea from @jdalton\n  getIEVersion = function(){\n    var undef,\n      v = 3,\n      div = document.createElement('div'),\n      all = div.getElementsByTagName('i');\n\n    while (\n      div.innerHTML = '<!--[if gt IE ' + (++v) + ']><i></i><![endif]-->',\n      all[0]\n    );\n\n    return v > 4 ? v : undef;\n  };\n\n\n\tisTouchDevice = function() {\n    // window.alert(\"ontouchstart in window: \" + ('ontouchstart' in window) );\n    // window.alert(\"onmsgesturechange in window: \" + ('onmsgesturechange' in window) );\n    // return 'ontouchstart' in window || 'onmsgesturechange' in window;\n\n     return (('ontouchstart' in window) || (navigator.MaxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0));\n  };\n\n\n  // http://stackoverflow.com/questions/542938/how-do-i-get-the-number-of-days-between-two-dates-in-javascript\n  treatAsUTC = function(date) {\n    var result = new Date(date);\n    result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\n    return result;\n  };\n  daysBetween = function(startDate, endDate) {\n      var msPerDay = 24 * 60 * 60 * 1000;\n      return (treatAsUTC(endDate) - treatAsUTC(startDate)) / msPerDay;\n  };\n\n\n\n\n\treturn {\n\t\t/*\n\t\t---------------------------------------------------------\n\t\t\t\t\t\t\t\tPUBLIC\n\t\t---------------------------------------------------------\n\t\t*/\n\t\tregisterEventHandler: registerEventHandler,\n\t\tunregisterEventHandler: unregisterEventHandler,\n\t\tstopPropagation: stopPropagation,\n\t\tremoveClassname: removeClassname,\n\t\taddClassname: addClassname,\n\t\taddCSSRule: addCSSRule,\n\t\thexOpacityToRGBA: hexOpacityToRGBA,\n\t\tgetRandomHexColor: getRandomHexColor,\n\t\tcreateElementWithId: createElementWithId,\n\t\tgetFunctionFromString: getFunctionFromString,\n\t\tgetFormattedDate: getFormattedDate,\n\t\ttreatAsUTC: treatAsUTC,\n\t\tdaysBetween: daysBetween,\n\t\tlogMsg: logMsg,\n\t\tgetIEVersion: getIEVersion,\n\t\tgetStyle: getStyle,\n\t\tisTouchDevice: isTouchDevice\n\t};\n\n}());\n","/*\n---------------------------------------------------------\n  Firm Gently Utilities\n  Mark Mayes 2016\n---------------------------------------------------------\n*/\n// create namespace: uk.co.firmgently\nvar uk = (uk !== undefined) ? uk : {};\nuk.co = (uk.co !== undefined) ? uk.co : {};\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\n//\nuk.co.firmgently.FGHTMLBuild = (function() {\n\t\"use strict\";\n\n\tvar\n\tfillHTMLFromOb,\n\tcreateButtonFromOb, createRadioFromOb, createCheckboxFromOb,\n\tcreateInputFromOb, createSelectFromOb,\n\tcreateFormFromOb,\n\taddLIsFromOb, createBasicElementFromOb, createColorPickerFromOb\n\t;\n\n\n\tfillHTMLFromOb = function(ob) {\n    for (var prop in ob) {\n      document.getElementById(prop).innerHTML = ob[prop];\n    }\n  };\n\n\n\t/* -----------------------------------------------------------------------------\n    create individual specific elements\n  ----------------------------------------------------------------------------- */\n\n  createButtonFromOb = function(ob) {\n    var\n    button_el,\n    // ob.parent can be the ID(string) of the parent\n    // or a reference to the HTML node/element itself\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    if (ob.id) {\n      button_el = createElementWithId(\"button\", ob.id);\n    } else {\n      button_el = document.createElement(\"button\");\n    }\n    parent_el.appendChild(button_el);\n\n    if (ob.class) { addClassname(button_el, ob.class); }\n    button_el.innerHTML = ob.label;\n    button_el.ob = ob;\n    // registerEventHandler(button_el, \"mousedown\", uk.co.firmgently.DontDillyDally.callMethodFromObOnElement);\n\n    if (ob.disabled) { button_el.disabled = ob.disabled; }\n\n\t\treturn button_el;\n  };\n\n\n  createInputFromOb = function(ob) {\n    var\n    prop, input_el, label_el,\n    innerHTML = \"\",\n    // parent_el = document.getElementById(ob.parent);\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    // logMsg(\"ob.parent: \" + ob.parent);\n    // logMsg(\"parent_el: \" + parent_el);\n    // logMsg(\"typeof ob.parent: \" + typeof ob.parent);\n\n    if (ob.id) {\n      if (ob.label) {\n        label_el = document.createElement(\"label\");\n        label_el.innerHTML = ob.label;\n        parent_el.appendChild(label_el);\n        label_el.htmlFor = ob.id;\n      }\n      input_el = createElementWithId(\"input\", ob.id);\n      input_el.name = ob.id;\n      input_el.id = ob.id;\n    } else {\n      input_el = document.createElement(\"input\");\n    }\n    if (ob.class) { addClassname(input_el, ob.class); }\n    parent_el.appendChild(input_el);\n\n    if (ob.attributes) {\n      for (prop in ob.attributes) {\n        input_el.setAttribute(\"\" + prop, \"\" + ob.attributes[prop]);\n      }\n    }\n\n    input_el.ob = ob;\n\n\t\treturn input_el;\n  };\n\n\n  createSelectFromOb = function(ob) {\n    var\n    i, prop, select_el, label_el, option_el, clientOrJob_ob,\n    dayPrefix, placeholderOption,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    if (ob.id) {\n      if (ob.label) {\n        label_el = document.createElement(\"label\");\n        label_el.innerHTML = ob.label;\n        parent_el.appendChild(label_el);\n        label_el.htmlFor = ob.id;\n      }\n      select_el = createElementWithId(\"select\", ob.id);\n      select_el.name = ob.id;\n      select_el.id = ob.id;\n    } else {\n      select_el = document.createElement(\"select\");\n    }\n    if (ob.class) { addClassname(select_el, ob.class); }\n    parent_el.appendChild(select_el);\n\n    select_el.setAttribute(\"size\", \"1\"); // HACK maybe to allow styling of individual options\n\n\t\tif (ob.placeholderText) {\n\t\t\tplaceholderOption = new Option(ob.placeholderText, \"\");\n\t\t\tplaceholderOption.disabled = true;\n\t\t\tplaceholderOption.selected = true;\n\t\t\tplaceholderOption.hidden = true;\n\t\t\tselect_el.options[select_el.options.length] = placeholderOption;\n\t\t}\n\n    if (ob.contentType) { // clients / jobs options get treated differently to normal options\n/*      if (ob.contentType === CONTENTTYPE_CLIENTS) {\n        ob.options = ob.clientOptions;\n      } else if (ob.contentType === CONTENTTYPE_JOBS) {\n        ob.options = ob.jobOptions;\n      }*/\n\t\t\t// logMsg(\"ob.options:\");\n      for (prop in ob.options) {\n        clientOrJob_ob = ob.options[prop];\n\t\t\t\t// logMsg(JSON.stringify(clientOrJob_ob));\n        option_el = select_el.options[select_el.options.length] = new Option(clientOrJob_ob.name, clientOrJob_ob.class);\n        addClassname(option_el, clientOrJob_ob.class);\n        //addCSSRule(\".\" + clientOrJob_ob.class, \"background-color\", clientOrJob_ob.bgcolor);\n        //addCSSRule(\".\" + clientOrJob_ob.class, \"color\", clientOrJob_ob.color);\n      }\n    } else { // normal options\n      for (prop in ob.options) {\n        select_el.options[select_el.options.length] = new Option(ob.options[prop], prop);\n      }\n    }\n\n    select_el.ob = ob;\n\n\t\treturn select_el;\n  };\n\n\n  createCheckboxFromOb = function(ob) {\n    var\n    prop, checkbox_el, label_el, div_el,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    if (ob.label) {\n      label_el = document.createElement(\"label\");\n      label_el.innerHTML = ob.label;\n      parent_el.appendChild(label_el);\n    }\n\n\t\tif (ob.id) {\n\t\t\tcheckbox_el.id = ob.id;\n\t\t\tcheckbox_el.name = ob.id;\n\t\t\tif (ob.label) {\n\t\t\t\tlabel_el.htmlFor = ob.id;\n\t\t\t}\n\t\t}\n\n    checkbox_el = document.createElement(\"input\");\n    if (ob.class) { addClassname(checkbox_el, ob.class); }\n\n    checkbox_el.setAttribute(\"type\", \"checkbox\");\n    checkbox_el.ob = ob;\n    logMsg(\"ob.checked: \" + ob.checked);\n    checkbox_el.checked = ob.checked;\n\t\tif (ob.wrapLabel) {\n\t\t\tlabel_el.appendChild(checkbox_el);\n\t\t\tif (ob.addDivToLabel) { // add empty div to facilitate 'toggle switch' CSS\n\t\t\t\tdiv_el = document.createElement(\"div\");\n\t\t\t\tlabel_el.appendChild(div_el);\n\t\t\t}\n\t\t} else {\n    \tparent_el.appendChild(checkbox_el);\n\t\t}\n\n\t\treturn checkbox_el;\n  };\n\n\n  createRadioFromOb = function(ob) {\n    var\n    prop, radio_el, label_el,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    for (prop in ob.options) {\n      label_el = document.createElement(\"label\");\n      label_el.innerHTML = ob.options[prop];\n      parent_el.appendChild(label_el);\n\n      radio_el = document.createElement(\"input\");\n      if (ob.class) { addClassname(radio_el, ob.class); }\n      parent_el.appendChild(radio_el);\n\n      radio_el.setAttribute(\"type\", \"radio\");\n      radio_el.id = ob.id;\n      radio_el.name = ob.id;\n      radio_el.value = prop;\n\t\t\tlogMsg(\"ob.checkIfMatched: \" + ob.checkIfMatched);\n      if (prop === ob.checkIfMatched) { radio_el.checked = true; }\n      // if (prop === dataRetrieveObject(\"prefs\").timespan) { radio_el.checked = true; }\n      label_el.htmlFor = ob.id;\n    }\n\n\t\treturn radio_el;\n  };\n\n\n  addLIsFromOb = function(ob) {\n    var\n    i, li_el, UL_el,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n\t\tif (ob.id) {\n\t\t\tUL_el = createElementWithId(\"ul\", ob.id)\n\t\t} else {\n\t\t\tUL_el = document.createElement(\"ul\");\n\t\t}\n\n    addClassname(UL_el, CLASS_ROW);\n\n\t\tif (ob.ar) {\n\t    for (i = 0; i < ob.ar.length; i++) {\n\t      li_el = document.createElement(\"li\");\n\t      li_el.innerHTML = ob.ar[i];\n\t      UL_el.appendChild(li_el);\n\t      if (ob.class) { addClassname(li_el, ob.class); }\n\t    }\n\t\t}\n\n    parent_el.appendChild(UL_el);\n  };\n\n\n  createBasicElementFromOb = function(ob) {\n    var\n    el, elType,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    switch (ob.type) {\n      case GUITYPE_COL:\n      case GUITYPE_ROW:\n        elType = \"span\";\n        break;\n      case GUITYPE_SECTION:\n        elType = \"section\";\n        break;\n      default:\n        elType = \"div\";\n        break;\n    }\n\n    if (ob.id) {\n      el = createElementWithId(elType, ob.id);\n    } else {\n      el = document.createElement(elType);\n    }\n    parent_el.appendChild(el);\n    if (ob.class) { addClassname(el, ob.class); }\n\n\t\treturn el;\n  };\n\n\n  createColorPickerFromOb = function(ob) {\n    var\n    el,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n    if (ob.id) {\n      el = createElementWithId(\"span\", ob.id);\n    } else {\n      el = document.createElement(\"span\");\n    }\n    parent_el.appendChild(el);\n    if (ob.class) { addClassname(el, ob.class); }\n\n\t\treturn el;\n  };\n\n\n/*\tcreateFormFromOb = function(ob) {\n    var\n    i, form_el,\n    parent_el = document.getElementById(ob.parent);\n\n    if (ob.id) {\n      form_el = createElementWithId(\"form\", ob.id);\n    } else {\n      form_el = document.createElement(\"form\");\n    }\n    parent_el.appendChild(form_el);\n\n    if (ob.class) { addClassname(form_el, ob.class); }\n    if (ob.title) { form_el.innerHTML = \"<h2>\" + ob.title + \"</h2>\"; }\n\n    if (ob.el_ar) { drawGUIFromAr(ob.el_ar); }\n\n    if (ob.hidden) { form_el.style.display = \"none\"; }\n\n    form_el.ob = ob;\n    registerEventHandler(form_el, \"submit\", onFormSubmit);\n    registerEventHandler(form_el, \"click\", onFormClick);\n\n\t\treturn form_el;\n  };*/\n\n\n\n\n\n\n\n\n\treturn {\n\t\t/*\n\t\t---------------------------------------------------------\n\t\t\t\t\t\t\t\tPUBLIC\n\t\t---------------------------------------------------------\n\t\t*/\n\t\tfillHTMLFromOb: fillHTMLFromOb,\n\t\tcreateButtonFromOb: createButtonFromOb,\n\t\tcreateSelectFromOb: createSelectFromOb,\n\t\t// createFormFromOb: createFormFromOb,\n\t\tcreateInputFromOb: createInputFromOb,\n\t\t// createTextInputFromOb: createTextInputFromOb,\n\t\tcreateRadioFromOb: createRadioFromOb,\n\t\tcreateCheckboxFromOb: createCheckboxFromOb,\n\t\taddLIsFromOb: addLIsFromOb,\n\t\tcreateBasicElementFromOb: createBasicElementFromOb,\n\t\tcreateColorPickerFromOb: createColorPickerFromOb\n\t};\n\n}());\n","/*\n---------------------------------------------------------\n  Firm Gently\n  DontDillyDally\n  Mark Mayes 2016\n---------------------------------------------------------\n*/\n// create namespace: uk.co.firmgently\nvar uk = (uk !== undefined) ? uk : {};\nuk.co = (uk.co !== undefined) ? uk.co : {};\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\n//\nuk.co.firmgently.DDDConsts = (function() {\n  \"use strict\";\n\n\t/* ---------------------------------------------------------------------------\n\t\tfake constants -\n\n    ** EVERYTHING ADDED HERE UNDER var MUST ALSO BE ADDED TO THE\n       OBJECT IN THE RETURN STATEMENT **\n\n    This is a hackabout but lets us achieve a separate file of 'constants'\n    that can be concatanated into place...\n\t--------------------------------------------------------------------------- */\n\n\tvar\n  APP_ID = \"FGDDD\",\n\n  PAGETYPE_TIMESHEETS = \" > timesheets\",\n  PAGETYPE_CONFIG = \" > preferences\",\n  PAGETYPE_JOBSANDCLIENTS = \" > jobsAndClients\",\n  PAGETYPE_DEFAULT = PAGETYPE_TIMESHEETS,\n  BODYID_TIMESHEETS = \"timesheets\",\n  BODYID_CONFIG = \"config\",\n  BODYID_JOBSANDCLIENTS = \"jobsClients\",\n\n  GUITYPE_COL = \"GUITypeCol\",\n  GUITYPE_ROW = \"GUITypeRow\",\n  GUITYPE_BTN = \"GUITypeBtn\",\n  GUITYPE_COLORPICKER = \"GUITypeColorPicker\",\n  GUITYPE_RADIOBTN = \"GUITypeRadioBtn\",\n  GUITYPE_TEXTINPUT = \"GUITypeTextInput\",\n  GUITYPE_SELECT = \"GUITypeSelect\",\n  GUITYPE_FORM = \"GUITypeForm\",\n  GUITYPE_SECTION = \"GUITypeSection\",\n  GUITYPE_METHODCALL = \"GUITypeMethodCall\",\n  GUITYPE_UL = \"GUITypeUL\",\n\n  CLASS_BTNNAV = \"btnNav\",\n  CLASS_FORMMAIN = \"formMain\",\n  CLASS_COL = \"col\",\n  CLASS_ROW = \"row\",\n\n  CLIENT_STR = \"client\",\n  JOB_STR = \"job\",\n  CLIENT_SELECT_PLACEHOLDER = \"select client\",\n  JOB_SELECT_PLACEHOLDER = \"select job\",\n  JOBNOTES_PLACEHOLDER = \"job notes\",\n  MONEYNOTES_PLACEHOLDER = \"money notes\",\n\n  EL_ID_COLHEADING = \"column-headings\",\n  EL_ID_JOBNAMEIN = \"jobNameIn\",\n  EL_ID_CLIENTNAMEIN = \"clientNameIn\",\n  EL_ID_CLIENTSAVEBTN = \"saveNewClientBtn\",\n  EL_ID_JOBSAVEBTN = \"saveNewJobBtn\",\n  EL_ID_SELECTCLIENT = \"selectClient\",\n  EL_ID_SELECTJOB = \"selectJob\",\n\n  CLIENT_FG_COLPICK = \"clientFGPicker\",\n  CLIENT_BG_COLPICK = \"clientBGPicker\",\n  JOB_FG_COLPICK = \"jobFGPicker\",\n  JOB_BG_COLPICK = \"jobBGPicker\",\n\n  DATATYPE_JOB = \"dataTypeJob\",\n  DATATYPE_CLIENT = \"dataTypeClient\",\n\n  CONTENTTYPE_CLIENTS = \"contentTypeClients\",\n  CONTENTTYPE_JOBS = \"contentTypeJobs\",\n\n  TIMESHEETCONTAINER_ID = \"timesheetContainer\",\n  LOADINGINDICATOR_ID = \"loading-indicator\",\n\n  GUIDATA_NAVMAIN = [\n    {\n      type: GUITYPE_BTN,\n      class: CLASS_BTNNAV,\n      id: BODYID_TIMESHEETS,\n      label: \"Timesheets\",\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.navClick\",\n      args: [PAGETYPE_TIMESHEETS],\n      scopeID: \"main\",\n      parent: \"nav-main\"\n    }, {\n      type: GUITYPE_BTN,\n      class: CLASS_BTNNAV,\n      id: BODYID_JOBSANDCLIENTS,\n      label: \"Jobs & Clients\",\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.navClick\",\n      args: [PAGETYPE_JOBSANDCLIENTS],\n      scopeID: \"main\",\n      parent: \"nav-main\"\n    }, {\n      type: GUITYPE_BTN,\n      class: CLASS_BTNNAV,\n      id: BODYID_CONFIG,\n      label: \"Preferences\",\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.navClick\",\n      args: [PAGETYPE_CONFIG],\n      scopeID: \"main\",\n      parent: \"nav-main\"\n    }/*, {\n      type: GUITYPE_UL,\n      ar: [\n        \"date\", \"hrs\", \"client\", \"job\", \"job notes\", \"\", \" notes\"\n      ],\n      id: EL_ID_COLHEADING,\n      class: CLASS_COL,\n      parent: \"header-main\"\n    }*/\n  ],\n\n\n  PAGEDATA_JOBSANDCLIENTS = {\n    pageTitle: \"Jobs and Clients\",\n    intro: \"Add, delete or edit jobs and clients.\"\n  },\n  GUIDATA_JOBSANDCLIENTS = [\n    {\n      type: GUITYPE_COL,\n      id: \"editClientCol\",\n      class: CLASS_COL,\n      parent: \"main\",\n    }, {\n      type: GUITYPE_FORM,\n      id: \"createClientForm\",\n      class: CLASS_FORMMAIN,\n      title: \"Fill in client details\",\n      // method: null,\n      parent: \"editClientCol\",\n      el_ar: [\n        {\n          type: GUITYPE_ROW,\n          id: \"clientNewRow\",\n          class: CLASS_ROW,\n          parent: \"createClientForm\",\n        }, {\n          type: GUITYPE_ROW,\n          id: \"clientsExistingRow\",\n          class: CLASS_ROW,\n          parent: \"createClientForm\",\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Create new\",\n          id: \"createNewClientBtn\",\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.newClientCreate\",\n          args: [],\n          scopeID: \"createClientForm\",\n          parent: \"clientNewRow\"\n        }, {\n          type: GUITYPE_TEXTINPUT,\n          id: EL_ID_CLIENTNAMEIN,\n          label: \"Client name\",\n          parent: \"clientNewRow\",\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.onClientTyped\",\n          args: [],\n          scopeID: \"createClientForm\",\n          attributes: { \"type\": \"text\" }\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Save\",\n          id: EL_ID_CLIENTSAVEBTN,\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.newClientFormSave\",\n          args: [],\n          scopeID: \"createClientForm\",\n          parent: \"clientNewRow\",\n          disabled: true\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: CLIENT_FG_COLPICK,\n          class: \"color-picker\",\n          parent: \"clientsExistingRow\"\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: CLIENT_BG_COLPICK,\n          class: \"color-picker\",\n          parent: \"clientsExistingRow\"\n        }, {\n          type: GUITYPE_SELECT,\n          label: \"Existing clients\",\n          args: [],\n          scopeID: \"createClientForm\",\n          parent: \"clientsExistingRow\",\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.updateSelected\",\n          id: EL_ID_SELECTCLIENT,\n          contentType: CONTENTTYPE_CLIENTS\n        }\n      ]\n    }, {\n      type: GUITYPE_COL,\n      id: \"editJobCol\",\n      class: CLASS_COL,\n      parent: \"main\",\n    }, {\n      type: GUITYPE_FORM,\n      id: \"createJobForm\",\n      class: CLASS_FORMMAIN,\n      title: \"Fill in job details\",\n      // methodPathStr: null,\n      parent: \"editJobCol\",\n      hidden: false,\n      el_ar: [\n        {\n          type: GUITYPE_ROW,\n          id: \"jobNewRow\",\n          class: CLASS_ROW,\n          parent: \"createJobForm\",\n        }, {\n          type: GUITYPE_ROW,\n          id: \"jobsExistingRow\",\n          class: CLASS_ROW,\n          parent: \"createJobForm\",\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Create new\",\n          id: \"createNewJobBtn\",\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.newJobCreate\",\n          scopeID: \"createJobForm\",\n          args: [],\n          parent: \"jobNewRow\"\n        }, {\n          type: GUITYPE_TEXTINPUT,\n          id: EL_ID_JOBNAMEIN,\n          label: \"Job name\",\n          parent: \"jobNewRow\",\n          attributes: { \"type\": \"text\" }\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Save\",\n          id: EL_ID_JOBSAVEBTN,\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.newJobFormSave\",\n          scopeID: \"createJobForm\",\n          args: [],\n          parent: \"jobNewRow\",\n          disabled: true\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: JOB_FG_COLPICK,\n          class: \"color-picker\",\n          parent: \"jobsExistingRow\"\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: JOB_BG_COLPICK,\n          class: \"color-picker\",\n          parent: \"jobsExistingRow\"\n        }, {\n          type: GUITYPE_SELECT,\n          label: \"Existing jobs\",\n          args: [],\n          scopeID: \"createJobForm\",\n          parent: \"jobsExistingRow\",\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.updateSelected\",\n          id: \"selectJob\",\n          contentType: CONTENTTYPE_JOBS\n        }\n      ]\n    }\n  ],\n\n  PAGEDATA_TIMESHEETS = {\n    pageTitle: \"Timesheets\",\n    intro: \"Keep track of where you spend your time. Also record payments in and expenses paid out.\"\n  },\n  GUIDATA_TIMESHEETS = [\n    {\n      type: GUITYPE_UL,\n      id: TIMESHEETCONTAINER_ID,\n      parent: \"main\"\n    }, {\n      type: GUITYPE_METHODCALL,\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.drawTimesheets\",\n      scopeID: \"main\"\n    }\n  ],\n\n  PAGEDATA_CONFIG = {\n    pageTitle: \"Preferences\",\n    intro: \"Show and hide things and customise settings.\"\n  },\n  GUIDATA_CONFIG = [\n    {\n      type: GUITYPE_FORM,\n      id: \"configForm\",\n      class: CLASS_FORMMAIN,\n      title: \"Set your preferences here\",\n      parent: \"main\",\n      hidden: false,\n      el_ar: [\n         {\n           type: GUITYPE_RADIOBTN,\n           id: \"dateFormat\",\n           label: \"Format used to show dates\",\n           parent: \"configForm\",\n           options: {\n             DATETYPE_DDMMYY: \"dd/mm/yy\",\n             DATETYPE_MMDDYY: \"mm/dd/yy\",\n             DATETYPE_YYMMDD: \"yy/mm/dd\"\n           },\n           disabled: true\n         }, {\n           type: GUITYPE_RADIOBTN,\n           id: \"timesheetRange\",\n           label: \"Choose how many days you want to show on the timesheet page\",\n           parent: \"configForm\",\n           options: {\n             timespanWeek: \"A week\",\n             timespanMonth: \"A month\",\n             timespanYear: \"A year\"\n           },\n           disabled: true\n         }, {\n           type: GUITYPE_RADIOBTN,\n           id: \"totalsToShow\",\n           label: \"Choose which totals you want totted up and displayed\",\n           parent: \"configForm\",\n           options: {\n             showTotalsWeek: \"Show weekly totals\",\n             showTotalsMonth: \"Show monthly totals\",\n             showTotalsWeekAndMonth: \"Show both weekly and monthly totals\"\n           },\n           disabled: true\n         }\n      ]\n    },\n  ],\n\n  DATETYPE_YYMMDD = {\n    label: \"yy/mm/dd\"\n  },\n  DATETYPE_DDMMYY = {\n    label: \"dd/mm/yy\"\n  },\n  DATETYPE_MMDDYY = {\n    label: \"mm/dd/yy\"\n  },\n  DATETYPE_DEFAULT = DATETYPE_DDMMYY,\n\n  JOB_DEFAULT_1 = {\n    name: \"Purchasing\",\n    color: \"#000\",\n    bgcolor: \"#0ff\"\n  },\n\n  JOB_DEFAULT_2 = {\n    name: \"Administration\",\n    color: \"#0f0\",\n    bgcolor: \"#123\"\n  },\n\n  CLIENT_DEFAULT_1 = {\n    name: \"Will @ ACME CO\",\n    color: \"#fff\",\n    bgcolor: \"#f00\"\n  },\n\n  CLIENT_DEFAULT_2 = {\n    name: \"Diamond Jules\",\n    color: \"#435\",\n    bgcolor: \"#89a\"\n  },\n\n  // these string values have to match those used in the GUIDATA_CONFIG options\n  TIMESPAN_WEEK = \"timespanWeek\",\n  TIMESPAN_MONTH = \"timespanMonth\",\n  TIMESPAN_YEAR = \"timespanYear\",\n  TIMESPAN_DEFAULT = TIMESPAN_MONTH,\n  DAYSINWEEK = 7,\n  DAYSINMONTH = 31, // set to maxiumum possible (only used for display purposes)\n  DAYSINYEAR = 365,\n\n  // which totals to showing\n  SHOWTOTALS_WEEK = \"showTotalsWeek\",\n  SHOWTOTALS_MONTH = \"showTotalsMonth\",\n  SHOWTOTALS_BOTH = \"showTotalsWeekAndMonth\",\n  SHOWTOTALS_DEFAULT = SHOWTOTALS_BOTH,\n\n  TXT_STORAGE_UNSUPPORTED = \"Sorry - storage is not supported on this device or browser\"\n  ;\n\n\n  /* ---------------------------------------------------------------------------\n\t\tReturn an object mirroring all the constants created above\n    ** EVERYTHING ADDED ABOVE UNDER var MUST ALSO BE ADDED HERE **\n\t--------------------------------------------------------------------------- */\n\treturn {\n    APP_ID: APP_ID,\n    GUIDATA_NAVMAIN: GUIDATA_NAVMAIN,\n    PAGETYPE_TIMESHEETS: PAGETYPE_TIMESHEETS,\n    PAGETYPE_CONFIG: PAGETYPE_CONFIG,\n    PAGETYPE_JOBSANDCLIENTS: PAGETYPE_JOBSANDCLIENTS,\n    PAGETYPE_DEFAULT: PAGETYPE_DEFAULT,\n    BODYID_TIMESHEETS: BODYID_TIMESHEETS,\n    BODYID_CONFIG: BODYID_CONFIG,\n    BODYID_JOBSANDCLIENTS: BODYID_JOBSANDCLIENTS,\n    GUITYPE_COL: GUITYPE_COL,\n    GUITYPE_ROW: GUITYPE_ROW,\n    GUITYPE_BTN: GUITYPE_BTN,\n    GUITYPE_RADIOBTN: GUITYPE_RADIOBTN,\n    GUITYPE_FORM: GUITYPE_FORM,\n    GUITYPE_SELECT: GUITYPE_SELECT,\n    GUITYPE_TEXTINPUT: GUITYPE_TEXTINPUT,\n    GUITYPE_SECTION: GUITYPE_SECTION,\n    GUITYPE_METHODCALL: GUITYPE_METHODCALL,\n    GUITYPE_COLORPICKER: GUITYPE_COLORPICKER,\n    GUITYPE_UL: GUITYPE_UL,\n    TIMESHEETCONTAINER_ID: TIMESHEETCONTAINER_ID,\n    LOADINGINDICATOR_ID: LOADINGINDICATOR_ID,\n    PAGEDATA_JOBSANDCLIENTS: PAGEDATA_JOBSANDCLIENTS,\n    GUIDATA_JOBSANDCLIENTS: GUIDATA_JOBSANDCLIENTS,\n    PAGEDATA_TIMESHEETS: PAGEDATA_TIMESHEETS,\n    GUIDATA_TIMESHEETS: GUIDATA_TIMESHEETS,\n    PAGEDATA_CONFIG: PAGEDATA_CONFIG,\n    GUIDATA_CONFIG: GUIDATA_CONFIG,\n    DATETYPE_YYMMDD: DATETYPE_YYMMDD,\n    DATETYPE_DDMMYY: DATETYPE_DDMMYY,\n    DATETYPE_MMDDYY: DATETYPE_MMDDYY,\n    DATETYPE_DEFAULT: DATETYPE_DEFAULT,\n    TIMESPAN_WEEK: TIMESPAN_WEEK,\n    TIMESPAN_MONTH: TIMESPAN_MONTH,\n    TIMESPAN_YEAR: TIMESPAN_YEAR,\n    TIMESPAN_DEFAULT: TIMESPAN_DEFAULT,\n    DAYSINWEEK: DAYSINWEEK,\n    DAYSINMONTH: DAYSINMONTH,\n    DAYSINYEAR: DAYSINYEAR,\n    CLASS_BTNNAV: CLASS_BTNNAV,\n    CLASS_FORMMAIN: CLASS_FORMMAIN,\n    CLASS_COL: CLASS_COL,\n    CLASS_ROW: CLASS_ROW,\n    EL_ID_COLHEADING: EL_ID_COLHEADING,\n    CLIENT_STR: CLIENT_STR,\n    JOB_STR: JOB_STR,\n    EL_ID_JOBNAMEIN: EL_ID_JOBNAMEIN,\n    EL_ID_CLIENTNAMEIN: EL_ID_CLIENTNAMEIN,\n    JOB_FG_COLPICK: JOB_FG_COLPICK,\n    JOB_BG_COLPICK: JOB_BG_COLPICK,\n    CLIENT_FG_COLPICK: CLIENT_FG_COLPICK,\n    CLIENT_BG_COLPICK: CLIENT_BG_COLPICK,\n    TXT_STORAGE_UNSUPPORTED: TXT_STORAGE_UNSUPPORTED,\n    JOB_DEFAULT_1: JOB_DEFAULT_1,\n    JOB_DEFAULT_2: JOB_DEFAULT_2,\n    CLIENT_DEFAULT_1: CLIENT_DEFAULT_1,\n    CLIENT_DEFAULT_2: CLIENT_DEFAULT_2,\n    CONTENTTYPE_CLIENTS: CONTENTTYPE_CLIENTS,\n    CONTENTTYPE_JOBS: CONTENTTYPE_JOBS,\n    DATATYPE_JOB: DATATYPE_JOB,\n    DATATYPE_CLIENT: DATATYPE_CLIENT,\n    EL_ID_CLIENTSAVEBTN: EL_ID_CLIENTSAVEBTN,\n    EL_ID_JOBSAVEBTN: EL_ID_JOBSAVEBTN,\n    EL_ID_SELECTCLIENT: EL_ID_SELECTCLIENT,\n    EL_ID_SELECTJOB: EL_ID_SELECTJOB,\n    SHOWTOTALS_WEEK: SHOWTOTALS_WEEK,\n    SHOWTOTALS_MONTH: SHOWTOTALS_MONTH,\n    SHOWTOTALS_BOTH: SHOWTOTALS_BOTH,\n    CLIENT_SELECT_PLACEHOLDER: CLIENT_SELECT_PLACEHOLDER,\n    JOB_SELECT_PLACEHOLDER: JOB_SELECT_PLACEHOLDER,\n    JOBNOTES_PLACEHOLDER: JOBNOTES_PLACEHOLDER,\n    MONEYNOTES_PLACEHOLDER: MONEYNOTES_PLACEHOLDER,\n    SHOWTOTALS_DEFAULT: SHOWTOTALS_DEFAULT\n  };\n\n\n}());\n","/*\n---------------------------------------------------------\n  Firm Gently\n  DontDillyDally\n  Mark Mayes 2016\n---------------------------------------------------------\n*/\n// create namespace: uk.co.firmgently\nvar uk = (uk !== undefined) ? uk : {};\nuk.co = (uk.co !== undefined) ? uk.co : {};\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\n//\nuk.co.firmgently.DontDillyDally = (function() {\n  \"use strict\";\n\n  /* ---------------------------------------------------------------------------\n\t\tdeclare / init vars\n\t--------------------------------------------------------------------------- */\n\tvar\n  // variables\n  prop, dateDisplayStart, dateDisplaySelected, dateToday, //timespanDisplay,\n  clientNameInput_el, jobNameInput_el, clientSaveBtn_el, jobSaveBtn_el,\n  colPickClientFG_el, colPickClientBG_el, colPickJobFG_el, colPickJobBG_el,\n  dayOfYear,\n\n\t// methods\n  doSetup, selectPage, drawPage, clearPage, drawGUIFromAr,\n  createFormFromOb, addTask, removeTask,\n  callMethodFromObOnElement, callMethodFromOb, onFormClick,\n  drawTimesheets, getNextName, newClientCreate, newJobCreate,\n  navClick, onClientTyped, onJobTyped, onFormSubmit, onUpdateInput, onIsMoneyTaskChkChange,\n  dataStoragePossible, initDataObject, dataStoreObject, dataRetrieveObject,\n  dataUpdateObject, clientAndJobStyleSheet, createClientOrJobFromOb,\n  newClientFormSave, newJobFormSave, clientInputWasLastEmpty,\n  updateRefsToElements, updateSelected, addWorkItem, removeWorkItem, updateSavedWorkItem\n\t;\n\n\n  /* ---------------------------------------------------------------------------\n    create local references to public members from external sources\n\t--------------------------------------------------------------------------- */\n\n  // constants\n  for (prop in uk.co.firmgently.DDDConsts) {\n    this[prop] = uk.co.firmgently.DDDConsts[prop];\n  }\n\n  // general utility methods\n\tfor (prop in uk.co.firmgently.FGUtils) {\n\t\tthis[prop] = uk.co.firmgently.FGUtils[prop];\n\t}\n\n  // HTML/DOM creation methods\n\tfor (prop in uk.co.firmgently.FGHTMLBuild) {\n\t\tthis[prop] = uk.co.firmgently.FGHTMLBuild[prop];\n\t}\n\n\n\n  /* -----------------------------------------------------------------------------\n    data storage methods\n  ----------------------------------------------------------------------------- */\n\n  dataStoragePossible = function() {\n    if(typeof(Storage) === \"undefined\") {\n      logMsg(TXT_STORAGE_UNSUPPORTED);\n    } else {\n      return true;\n    }\n  };\n\n\n  initDataObject = function() {\n    // if no preferences are stored create some defaults\n    if (!dataRetrieveObject(\"prefs\")) {\n      dataStoreObject(\"prefs\", {\n        pagetype: PAGETYPE_DEFAULT,\n        timespan: TIMESPAN_DEFAULT,\n        dateFormat: DATETYPE_DEFAULT,\n        totalsToShow: SHOWTOTALS_DEFAULT\n      });\n      dataStoreObject(\"clientNum\", 0);\n      dataStoreObject(\"jobNum\", 0);\n\n      dataStoreObject(CLIENT_STR, {});\n      createClientOrJobFromOb(CLIENT_DEFAULT_1, DATATYPE_CLIENT);\n      createClientOrJobFromOb(CLIENT_DEFAULT_2, DATATYPE_CLIENT);\n\n      dataStoreObject(JOB_STR, {});\n      createClientOrJobFromOb(JOB_DEFAULT_1, DATATYPE_JOB);\n      createClientOrJobFromOb(JOB_DEFAULT_2, DATATYPE_JOB);\n\n      dataStoreObject(\"day\", {});\n    }\n  };\n\n\n  dataStoreObject = function(category, ob) {\n    localStorage.setItem(APP_ID + \"_\" + category, JSON.stringify(ob));\n  };\n\n\n  dataRetrieveObject = function(category) {\n    return JSON.parse(localStorage.getItem(APP_ID + \"_\" + category));\n  };\n\n\n  dataUpdateObject = function(category, key, value) {\n    var prop,\n    ob = dataRetrieveObject(category);\n    for (prop in ob) {\n      if (prop === key) {\n        ob[prop] = value;\n        break;\n      }\n    }\n    dataStoreObject(category, ob);\n  };\n\n\n\n\n\n  /* -----------------------------------------------------------------------------\n    setup methods\n  ----------------------------------------------------------------------------- */\n\n  doSetup = function() {\n    dateDisplayStart = new Date();\n    dateDisplaySelected = new Date();\n    dateToday = new Date();\n\n\n   localStorage.clear();\n\n\n    if(dataStoragePossible()) {\n      initDataObject();\n      drawGUIFromAr(GUIDATA_NAVMAIN);\n      if (location.hash) {\n        selectPage(decodeURIComponent(location.hash.substring(1)));\n      } else {\n        selectPage(dataRetrieveObject(\"prefs\").pagetype);\n      }\n    }\n  };\n\n\n  selectPage = function(pagetype) {\n    logMsg(\"selectPage('\" + pagetype + \"')\");\n    dataUpdateObject(\"prefs\", \"pagetype\", pagetype);\n    location.hash = pagetype;\n    clearPage();\n    setTimeout(drawPage, 100); // on timer to force reflow after clearPage()\n  };\n\n\n  clearPage = function() {\n    removeClassname(document.getElementById(LOADINGINDICATOR_ID), \"hidden\");\n    document.getElementById(\"main\").innerHTML = \"\";\n  };\n\n\n  drawPage = function() {\n    // var colHeading_el;\n    // clear any pre-created html content\n\n    switch (dataRetrieveObject(\"prefs\").pagetype) {\n      case PAGETYPE_TIMESHEETS:\n        document.body.id = BODYID_TIMESHEETS;\n        fillHTMLFromOb(PAGEDATA_TIMESHEETS);\n        drawGUIFromAr(GUIDATA_TIMESHEETS);\n        break;\n      case PAGETYPE_CONFIG:\n        document.body.id = BODYID_CONFIG;\n        fillHTMLFromOb(PAGEDATA_CONFIG);\n        drawGUIFromAr(GUIDATA_CONFIG);\n        break;\n      case PAGETYPE_JOBSANDCLIENTS:\n        document.body.id = BODYID_JOBSANDCLIENTS;\n        fillHTMLFromOb(PAGEDATA_JOBSANDCLIENTS);\n        drawGUIFromAr(GUIDATA_JOBSANDCLIENTS);\n        break;\n      default:\n        break;\n    }\n    updateRefsToElements();\n    addClassname(document.getElementById(LOADINGINDICATOR_ID), \"hidden\");\n  };\n\n\n  drawGUIFromAr = function(ar) {\n    var i, ob, el_temp;\n    for (i = 0; i < ar.length; i++) {\n      ob = ar[i];\n      switch (ob.type) {\n        case GUITYPE_BTN:\n          el_temp = createButtonFromOb(ob);\n          if (ob.methodPathStr) {\n            registerEventHandler(el_temp, \"mousedown\", callMethodFromObOnElement);\n          }\n          break;\n        case GUITYPE_FORM:\n          createFormFromOb(ob);\n          break;\n        case GUITYPE_TEXTINPUT:\n          el_temp = createInputFromOb(ob);\n          if (ob.methodPathStr) {\n            registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n            registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n            registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n            registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);\n          }\n          break;\n        case GUITYPE_SELECT:\n          el_temp = createSelectFromOb(ob);\n          if (ob.methodPathStr) {\n            registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n          }\n          break;\n        case GUITYPE_RADIOBTN:\n          // alert(dataRetrieveObject(\"prefs\").timespan);\n          // TODO this checkIfMatched should not be added here it should\n          // be included in main data higher up\n          ob.checkIfMatched = dataRetrieveObject(\"prefs\").timespan;\n          el_temp = createRadioFromOb(ob);\n          if (ob.methodPathStr) {\n            registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n          }\n          break;\n        case GUITYPE_UL:\n          addLIsFromOb(ob);\n          break;\n          // intentional rollthrough as they all do exactly the same thing\n        case GUITYPE_SECTION:\n        case GUITYPE_COL:\n        case GUITYPE_ROW:\n          createBasicElementFromOb(ob);\n          break;\n        case GUITYPE_COLORPICKER:\n          createColorPickerFromOb(ob);\n          break;\n        case GUITYPE_METHODCALL:\n          callMethodFromOb(ob);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n\n  createFormFromOb = function(ob) {\n    var\n    i, form_el,\n    parent_el = document.getElementById(ob.parent);\n\n    if (ob.id) {\n      form_el = createElementWithId(\"form\", ob.id);\n    } else {\n      form_el = document.createElement(\"form\");\n    }\n    parent_el.appendChild(form_el);\n\n    if (ob.class) { addClassname(form_el, ob.class); }\n    if (ob.title) { form_el.innerHTML = \"<h2>\" + ob.title + \"</h2>\"; }\n\n    if (ob.el_ar) { drawGUIFromAr(ob.el_ar); }\n\n    if (ob.hidden) { form_el.style.display = \"none\"; }\n\n    form_el.ob = ob;\n    registerEventHandler(form_el, \"submit\", onFormSubmit);\n    registerEventHandler(form_el, \"click\", onFormClick);\n\n\t\treturn form_el;\n  };\n\n\n  // addTask is called from the scope of the 'add task' button\n  addTask = function() {\n    addWorkItem(this.parentNode);\n  };\n\n\tremoveTask = function() {\n\t\tremoveWorkItem(this);\n\t};\n\n  getNextName = function(type) {\n    var prefix, name, n;\n    if (type === DATATYPE_JOB) {\n      prefix = JOB_STR;\n    } else if (type === DATATYPE_CLIENT) {\n      prefix = CLIENT_STR;\n    }\n    n = 0 + (dataRetrieveObject(prefix + \"Num\")) + 1;\n    dataStoreObject(prefix + \"Num\", n);\n    return prefix + n;\n  };\n\n\n\n  /* ---------------------------------------------------------------------------\n\n\t--------------------------------------------------------------------------- */\n\n  createClientOrJobFromOb = function(ob, dataType) {\n    logMsg(\"createClientOrJobFromOb()\");\n    // create unique number to be used in object name/key\n    var\n    id, ar, n, prefix, newItemCSS_selector, //pluralName,\n    input_el,\n    colorPickerFGSelector, colorPickerBGSelector;\n\n    if (dataType === DATATYPE_CLIENT) {\n      input_el = document.getElementById(EL_ID_CLIENTNAMEIN);\n      prefix = CLIENT_STR;\n    } else if (dataType === DATATYPE_JOB) {\n      input_el = document.getElementById(EL_ID_JOBNAMEIN);\n      prefix = JOB_STR;\n    }\n    id = getNextName(dataType);\n    ob.id = id;\n    ob.class = id;\n\n    ar = dataRetrieveObject(prefix);\n    ar[ob.id] = ob;\n    dataStoreObject(prefix, ar);\n\n    newItemCSS_selector = \".\" + id + \", \" +\n      \".\" + id + \":hover, \" +\n      \".\" + id + \":active\";\n    addCSSRule(newItemCSS_selector, \"color\", ob.color);\n    addCSSRule(newItemCSS_selector, \"background-color\", ob.bgcolor);\n\n    if (dataType === DATATYPE_CLIENT) {\n      colorPickerFGSelector = \"#\" + CLIENT_FG_COLPICK;\n      colorPickerBGSelector = \"#\" + CLIENT_BG_COLPICK;\n    } else if (dataType === DATATYPE_JOB) {\n      colorPickerFGSelector = \"#\" + JOB_FG_COLPICK;\n      colorPickerBGSelector = \"#\" + JOB_BG_COLPICK;\n    }\n\n    addCSSRule(colorPickerFGSelector, \"background-color\", ob.color);\n    addCSSRule(colorPickerBGSelector, \"background-color\", ob.bgcolor);\n  };\n\n\n  callMethodFromObOnElement = function(event) {\n    // logMsg(\"callMethodFromObOnElement()\");\n    // logMsg(\"\\te.target.ob: \" + JSON.stringify(e.target.ob));\n    // logMsg(\"\\tthis: \" + this);\n    // event.target.ob.event = new event.constructor(event.type, event);\n    // logMsg(event);\n    callMethodFromOb(event.target.ob, event);\n  };\n\n\n  callMethodFromOb = function(ob, event) {\n    logMsg(\"callMethodFromOb()\");\n    // logMsg(\"\\tob: \" + JSON.stringify(ob));\n    var scope;\n/*    if (ob.scopeID !== undefined) {\n      scope = document.getElementById(ob.scopeID);\n    } else {\n      scope = undefined;\n    }*/\n\n    if (ob.scope) {\n      scope = ob.scope;\n    } else if (ob.scopeID) {\n      scope = document.getElementById(ob.scopeID);\n    } else {\n      scope = undefined;\n    }\n\n    logMsg(\"\\tob.methodPathStr: \" + ob.methodPathStr);\n    logMsg(\"\\tscope: \" + scope);\n\n    if (event) {\n      // logMsg(ob.args = event);\n      if (ob.args) {\n        ob.args.push(event);\n      } else {\n        ob.args = [event];\n      }\n    }\n\n    getFunctionFromString(ob.methodPathStr).apply(scope, ob.args);\n  };\n\n\n  onClientTyped = function() {\n    clientSaveBtn_el.disabled = clientNameInput_el.value.isEmpty();\n  };\n\n\n  onJobTyped = function() {\n    jobSaveBtn_el.disabled = jobNameInput_el.value.isEmpty();\n  };\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\t\tpage drawing methods\n\t--------------------------------------------------------------------------- */\n\n  drawTimesheets = function() {\n    var\n    i, j, daysToDraw, isOddDay, weekdayCur,\n    isToday, rowClassname,\n    day_el, date_el, workItem_el, dayDataContainer_el, hrs_el, client_el, job_el, jobnotes_el,\n    ob_temp, dayWorkItems,\n    weekStartDay = 1, // 0 = Sunday, 1 = Monday etc\n    parent_el = document.getElementById(TIMESHEETCONTAINER_ID),\n    // TODO timesheet should be <ul>\n    workingFragment = document.createDocumentFragment(),\n    allWorkItems = dataRetrieveObject(\"day\"),\n    dayCur = new Date();\n\n    switch(dataRetrieveObject(\"prefs\").timespan) {\n      case TIMESPAN_WEEK:\n        weekdayCur = dayCur.getDay(); // 0 = Sunday, 1 = Monday etc\n        dayCur.setDate(dayCur.getDate() - weekdayCur + weekStartDay); // gets first day of week\n        daysToDraw = DAYSINWEEK;\n        break;\n      case TIMESPAN_MONTH:\n        dayCur.setDate(1);\n        daysToDraw = dayCur.monthDays();\n        break;\n      case TIMESPAN_YEAR:\n        dayCur.setMonth(0);\n        dayCur.setDate(1);\n        daysToDraw = DAYSINYEAR;\n        if (dayCur.isLeapYear()) { daysToDraw += 1; }\n        break;\n      default:\n        break;\n    }\n\n    logMsg(\"daysToDraw: \" + daysToDraw);\n\n    isOddDay = false;\n    for (i = 0; i < daysToDraw; i++) {\n      dayOfYear = dayCur.getDOY();\n      rowClassname = \"day row \";\n      isToday = !Math.round(daysBetween(dayCur, dateToday));\n      if (isToday) { rowClassname += \"today \"; }\n      if (isOddDay) { rowClassname += \"odd \"; }\n      isOddDay = !isOddDay; // flip state\n      if (dayCur.getDay() === weekStartDay) { rowClassname += \"week-start \"; }\n      if (dayCur.getDate() === 1) { rowClassname += \"month-start \"; }\n      day_el = createElementWithId(\"li\", \"day\" + dayOfYear);\n      addClassname(day_el, rowClassname);\n      day_el.setAttribute(\"dayOfYear\", dayOfYear);\n      // create days in documentFragment to avoid unneccessary reflows\n      workingFragment.appendChild(day_el);\n\n      // date\n      date_el = document.createElement(\"p\");\n      addClassname(date_el, \"date col\");\n      date_el.innerHTML = \"<em>\" + dayCur.getWeekDay(1) + \"</em>\" + getFormattedDate(dayCur, DATETYPE_DEFAULT.label);\n      dayCur.setDate(dayCur.getDate() + 1);\n      day_el.appendChild(date_el);\n\n      dayDataContainer_el = document.createElement(\"ul\");\n      addClassname(dayDataContainer_el, \"day-data col\");\n      day_el.appendChild(dayDataContainer_el);\n\n      dayWorkItems = allWorkItems[dayOfYear];\n      if (dayWorkItems === undefined) {\n        addWorkItem(dayDataContainer_el);\n      } else {\n        for (j = 0; j < dayWorkItems.length; j++) {\n          addWorkItem(dayDataContainer_el);\n        }\n      }\n    }\n\n    parent_el.appendChild(workingFragment);\n  };\n\n\n  addWorkItem = function(dayDataContainer_el) {\n    var\n    hrs_el, money_el, ob_temp, el_temp,\n    itemID, workItem_el, dayOfYear, itemNum,\n    day_el = dayDataContainer_el.parentNode;\n\n    dayOfYear = day_el.getAttribute(\"dayOfYear\");\n    itemNum = dayDataContainer_el.children.length;\n    itemID = \"item\" + dayOfYear + \"_\" + itemNum;\n\n    workItem_el = createElementWithId(\"li\", itemID);\n    dayDataContainer_el.appendChild(workItem_el);\n\n    // 'add task' button\n    el_temp = createButtonFromOb({\n      class: \"addTaskBtn\",\n      label: \"&#xe821;\",\n      parent: workItem_el,\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.addTask\",\n      scopeID: itemID\n    });\n    registerEventHandler(el_temp, \"mousedown\", callMethodFromObOnElement);\n\n    // 'money/task' checkbox\n    el_temp = createCheckboxFromOb({\n      class: \"ios-switch isMoneyTaskChk\",\n      label: \" \", // a label is needed for wrapLabel/addDivToLabel to work\n\t\t\twrapLabel: true,\n\t\t\taddDivToLabel: true,\n      parent: workItem_el,\n      checked: false,\n      //id: itemID + \"_\" + \"MoneyChk\",\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.onIsMoneyTaskChkChange\",\n      scopeID: itemID\n    });\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n\n    // hours/money\n    el_temp = createInputFromOb({\n      class: \"count hrs\",\n      parent: workItem_el,\n      attributes: {\n        \"type\": \"number\", \"value\": \"00\"\n      },\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.onUpdateInput\"\n    });\n    el_temp.ob.scope = el_temp;\n    //el_temp.id = itemID + \"_\" + \"Spinner\";\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);\n\n    // client select/dropdown\n    el_temp = createSelectFromOb({\n      contentType: CONTENTTYPE_CLIENTS,\n      placeholderText: CLIENT_SELECT_PLACEHOLDER,\n      options: dataRetrieveObject(CLIENT_STR),\n      parent: workItem_el,\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.updateSelected\",\n    });\n    el_temp.ob.scope = el_temp;\n    //el_temp.id = itemID + \"_\" + CLIENT_STR + \"Select\";\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n\n    // job select/dropdown\n    el_temp = createSelectFromOb({\n      contentType: CONTENTTYPE_JOBS,\n      placeholderText: JOB_SELECT_PLACEHOLDER,\n      options: dataRetrieveObject(JOB_STR),\n      parent: workItem_el,\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.updateSelected\"\n    });\n    el_temp.ob.scope = el_temp;\n    //el_temp.id = itemID + \"_\" + JOB_STR + \"Select\";\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n\n    // job/money notes\n    el_temp = createInputFromOb({\n      class: \"notes job\",\n      parent: workItem_el,\n      attributes: { \"type\": \"text\", \"placeholder\": JOBNOTES_PLACEHOLDER },\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.onUpdateInput\",\n      scopeID: itemID\n    });\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);\n\n    // 'remove task' button\n    el_temp = createButtonFromOb({\n      class: \"removeTaskBtn\",\n      label: \"&#xe83d;\",\n      parent: workItem_el,\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.removeTask\",\n      scopeID: itemID\n    });\n    registerEventHandler(el_temp, \"mousedown\", callMethodFromObOnElement);\n\n  };\n\n\tremoveWorkItem = function(item_el) {\n\t\titem_el.parentNode.removeChild(item_el);\n\t};\n\n/*  updateColoursFromPickers = function(type, fgCol, bgCol) {\n\n  };\n\n*/\n\n  updateRefsToElements = function() {\n    clientNameInput_el = document.getElementById(EL_ID_CLIENTNAMEIN);\n    clientSaveBtn_el = document.getElementById(EL_ID_CLIENTSAVEBTN);\n    colPickClientFG_el = document.getElementById(CLIENT_FG_COLPICK);\n    colPickClientBG_el = document.getElementById(CLIENT_BG_COLPICK);\n    jobNameInput_el = document.getElementById(EL_ID_JOBNAMEIN);\n    jobSaveBtn_el = document.getElementById(EL_ID_JOBSAVEBTN);\n    colPickJobFG_el = document.getElementById(JOB_FG_COLPICK);\n    colPickJobBG_el = document.getElementById(JOB_BG_COLPICK);\n  };\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\t\tFORMS\n\t--------------------------------------------------------------------------- */\n\n\n\n\n  onFormClick = function(e) {\n    var form = e.target.form;\n    if (form && form.id) {\n      switch (form.id) {\n        case \"configForm\":\n          dataUpdateObject(\"prefs\", \"timespan\", form.timesheetRange.value);\n          // dateFormat is an object, the form just stores the name of it so grab it here\n          dataUpdateObject(\"prefs\", \"dateFormat\", uk.co.firmgently.DDDConsts[form.dateFormat.value]);\n          dataUpdateObject(\"prefs\", \"totalsToShow\", form.totalsToShow.value);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n\n  onFormSubmit = function(e) {\n    logMsg(\"FORM SUBMITTED\");\n    stopPropagation(e);\n  };\n\n\n  onUpdateInput = function(event) {\n    logMsg(this);\n    logMsg(event);\n  };\n\n\n  onIsMoneyTaskChkChange = function() {\n    var\n    checkbox = this.getElementsByClassName(\"isMoneyTaskChk\")[0],\n    countInput = this.getElementsByClassName(\"count\")[0],\n    notesInput = this.getElementsByClassName(\"notes\")[0];\n    if (checkbox.checked) {\n      addClassname(countInput, \"money\");\n      removeClassname(countInput, \"hrs\");\n      addClassname(notesInput, \"money\");\n      removeClassname(notesInput, \"job\");\n      notesInput.placeholder = MONEYNOTES_PLACEHOLDER;\n    } else {\n      addClassname(countInput, \"hrs\");\n      removeClassname(countInput, \"money\");\n      addClassname(notesInput, \"job\");\n      removeClassname(notesInput, \"money\");\n      notesInput.placeholder = JOBNOTES_PLACEHOLDER;\n    }\n    logMsg(\"\\tcheckbox: \" + checkbox);\n    logMsg(\"\\tinput: \" + notesInput);\n    logMsg(\"\\tinput.id: \" + notesInput.id);\n  };\n\n\n  newClientCreate = function() {\n    var\n    fgCol = getRandomHexColor(\"dark\"),\n    bgCol = getRandomHexColor(\"light\");\n    logMsg(\"newClientCreate()\");\n    document.getElementById(EL_ID_CLIENTNAMEIN).value = getNextName(DATATYPE_CLIENT);\n    addCSSRule(\"#\" + CLIENT_FG_COLPICK, \"background-color\", fgCol);\n    addCSSRule(\"#\" + CLIENT_BG_COLPICK, \"background-color\", bgCol);\n    addCSSRule(\"#\" + EL_ID_CLIENTNAMEIN, \"color\", fgCol);\n    addCSSRule(\"#\" + EL_ID_CLIENTNAMEIN, \"background-color\", bgCol);\n\n    clientSaveBtn_el.disabled = false;\n    updateRefsToElements();\n  };\n\n\n  newJobCreate = function() {\n    var\n    fgCol = getRandomHexColor(\"light\"),\n    bgCol = getRandomHexColor(\"dark\");\n    logMsg(\"newJobCreate()\");\n\n    document.getElementById(EL_ID_JOBNAMEIN).value = getNextName(DATATYPE_JOB);\n    addCSSRule(\"#\" + JOB_FG_COLPICK, \"background-color\", fgCol);\n    addCSSRule(\"#\" + JOB_BG_COLPICK, \"background-color\", bgCol);\n    addCSSRule(\"#\" + EL_ID_JOBNAMEIN, \"color\", fgCol);\n    addCSSRule(\"#\" + EL_ID_JOBNAMEIN, \"background-color\", bgCol);\n\n    jobSaveBtn_el.disabled = false;\n    updateRefsToElements();\n  };\n\n\n  newClientFormSave = function() {\n    createClientOrJobFromOb({\n      name: document.getElementById(EL_ID_CLIENTNAMEIN).value,\n      color: getStyle(colPickClientFG_el, \"background-color\"),\n      bgcolor: getStyle(colPickClientBG_el, \"background-color\")\n    }, DATATYPE_CLIENT);\n    drawPage();\n  };\n\n\n  newJobFormSave = function() {\n    createClientOrJobFromOb({\n      name: document.getElementById(EL_ID_JOBNAMEIN).value,\n      color: getStyle(colPickJobFG_el, \"background-color\"),\n      bgcolor: getStyle(colPickJobBG_el, \"background-color\")\n    }, DATATYPE_JOB);\n    drawPage();\n  };\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\n\t--------------------------------------------------------------------------- */\n\n\n  navClick = function(e) {\n    selectPage(arguments[0]);\n  };\n\n\n  updateSavedWorkItem = function(workItem_el) {\n    var\n    dayOfYear = workItem_el.getAttribute(\"dayOfYear\"),\n    itemNum = workItem_el.getAttribute(\"itemNum\");\n  };\n\n\n  updateSelected = function() {\n    var\n    day_ar, workItem_ar, day_ob,\n    //select_selector = \"#\" + this.id,\n    option_selector = this.value,\n    pageType = dataRetrieveObject(\"prefs\").pagetype,\n    workItem_el = this.parentNode,\n    day_el = this.parentNode.parentNode,\n    dayOfYear = day_el.getAttribute(\"dayOfYear\");\n\n    //logMsg(\"\\tthis: \" + this);\n\n    switch (pageType) {\n      case PAGETYPE_TIMESHEETS: // run on to next case\n      case PAGETYPE_JOBSANDCLIENTS:\n        this.className = option_selector;\n        //if (this.id.toUpperCase().indexOf(CLIENT_STR.toUpperCase()) !=-1) {\n          //addClassname(this, \"client1\");\n          //addCSSRule(select_selector, \"color\", dataRetrieveObject(CLIENT_STR)[option_selector].color);\n          //addCSSRule(select_selector, \"background-color\", dataRetrieveObject(CLIENT_STR)[option_selector].bgcolor);\n        //} else {\n          //addClassname(this, \"job1\");\n          //addCSSRule(select_selector, \"color\", dataRetrieveObject(JOB_STR)[option_selector].color);\n          //addCSSRule(select_selector, \"background-color\", dataRetrieveObject(JOB_STR)[option_selector].bgcolor);\n        //}\n        break;\n      case PAGETYPE_CONFIG:\n        break;\n      default:\n        break;\n    }\n    if (pageType === PAGETYPE_TIMESHEETS) {\n      day_ar = dataRetrieveObject(\"day\");\n      day_ob = day_ar[dayOfYear];\n      if (day_ob === undefined) {\n        day_ob = { work: [] };\n      }\n      workItem_ar = day_ob.work;\n      // TODO this test data should be shown on the page\n      workItem_ar.push({\n        time: \"02:30\",\n        client: \"test client\",\n        job: \"test job\",\n        jobNotes: \"painting the edges\",\n        money: -50,\n        moneyNotes: \"bought canvas REceipt no.11234\"\n      });\n      day_ar[dayOfYear] = day_ob;\n      dataStoreObject(\"day\", day_ar);\n    }\n/*    if (e.target.id === EL_ID_SELECTCLIENT) {\n\n    } else if (e.target.id === EL_ID_SELECTJOB) {\n\n    }*/\n  };\n\n\n\n\t/* ---------------------------------------------------------------------------\n\t\tBEGIN...\n\t--------------------------------------------------------------------------- */\n\n  doSetup();\n\n  return {\n    drawTimesheets: drawTimesheets,\n    addTask: addTask,\n    removeTask: removeTask,\n    navClick: navClick,\n    newClientCreate: newClientCreate,\n    newJobCreate: newJobCreate,\n    newClientFormSave: newClientFormSave,\n    newJobFormSave: newJobFormSave,\n    updateSelected: updateSelected,\n    onUpdateInput: onUpdateInput,\n    onIsMoneyTaskChkChange: onIsMoneyTaskChkChange,\n    onClientTyped: onClientTyped\n  };\n\n\n// 'this' would be undefined because of \"use strict\",\n// calling the function with .call(this) fixes it\n}).call(this);\n"]}