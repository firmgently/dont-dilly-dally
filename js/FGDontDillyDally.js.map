{"version":3,"sources":["DDDConsts.js","FGUtils.js","DontDillyDally.js"],"names":["uk","undefined","co","firmgently","DDDConsts","DATETYPE_DDMMYY","label","APP_ID","GUIDATA_NAVMAIN","type","class","id","methodName","args","scopeID","parent","ar","ulID","PAGETYPE_TIMESHEETS","PAGETYPE_CONFIG","PAGETYPE_JOBSANDCLIENTS","PAGETYPE_DEFAULT","BODYID_TIMESHEETS","BODYID_CONFIG","BODYID_JOBSANDCLIENTS","GUITYPE_COL","GUITYPE_ROW","GUITYPE_BTN","GUITYPE_RADIOBTN","GUITYPE_FORM","GUITYPE_SELECT","GUITYPE_TEXTINPUT","GUITYPE_SECTION","GUITYPE_METHODCALL","GUITYPE_COLORPICKER","GUITYPE_UL","TIMESHEETCONTAINER_ID","PAGEDATA_JOBSANDCLIENTS","pageTitle","intro","GUIDATA_JOBSANDCLIENTS","title","el_ar","attributes","disabled","contentType","hidden","PAGEDATA_TIMESHEETS","GUIDATA_TIMESHEETS","PAGEDATA_CONFIG","GUIDATA_CONFIG","options","DATETYPE_MMDDYY","DATETYPE_YYMMDD","timespanWeek","timespanMonth","timespanYear","showTotalsWeek","showTotalsMonth","showTotalsWeekAndMonth","DATETYPE_DEFAULT","TIMESPAN_WEEK","TIMESPAN_MONTH","TIMESPAN_YEAR","TIMESPAN_DEFAULT","DAYSINWEEK","DAYSINMONTH","DAYSINYEAR","CLASS_BTNNAV","CLASS_FORMMAIN","CLASS_COL","CLASS_ROW","EL_ID_COLHEADING","CLIENT_STR","JOB_STR","EL_ID_JOBNAMEIN","EL_ID_CLIENTNAMEIN","JOB_FG_COLPICK","JOB_BG_COLPICK","CLIENT_FG_COLPICK","CLIENT_BG_COLPICK","TXT_STORAGE_UNSUPPORTED","JOB_DEFAULT_1","name","color","bgcolor","JOB_DEFAULT_2","CLIENT_DEFAULT_1","CLIENT_DEFAULT_2","CONTENTTYPE_CLIENTS","CONTENTTYPE_JOBS","DATATYPE_JOB","DATATYPE_CLIENT","EL_ID_CLIENTSAVEBTN","EL_ID_JOBSAVEBTN","EL_ID_SELECTCLIENT","EL_ID_SELECTJOB","SHOWTOTALS_WEEK","SHOWTOTALS_MONTH","SHOWTOTALS_BOTH","SHOWTOTALS_DEFAULT","FGUtils","addCSSRule","getIEVersion","isTouchDevice","registerEventHandler","unregisterEventHandler","stopPropagation","hexOpacityToRGBA","getRandomHexColor","createElementWithId","removeClassname","addClassname","getStyle","treatAsUTC","daysBetween","getFormattedDate","logMsg","String","prototype","isEmpty","this","test","Storage","setObject","key","value","setItem","JSON","stringify","getObject","getItem","parse","Date","monthDays","getFullYear","getMonth","getDate","isLeapYear","year","getDOY","dayCount","mn","dn","dayOfYear","e","preventDefault","cancelBubble","returnValue","node","event","handler","useCapture","addEventListener","attachEvent","removeEventListener","detachEvent","hexColour","opacity","r","g","b","parseInt","substring","tone","hexString","Math","floor","random","toString","toUpperCase","elType","el","document","createElement","element","className","replace","selector","property","newValue","i","curStyleSheet","totalStyleSheets","styleSheets","length","newStyle","insertRule","cssRules","err1","addRule","err2","date","format","getUTCFullYear","getUTCDate","slice","getUTCMonth","styleProp","style","currentStyle","window","getComputedStyle","defaultView","getPropertyValue","msg","console","log","v","div","all","getElementsByTagName","innerHTML","undef","navigator","MaxTouchPoints","msMaxTouchPoints","result","setMinutes","getMinutes","getTimezoneOffset","startDate","endDate","DontDillyDally","prop","dateDisplayStart","dateDisplaySelected","dateToday","clientNameInput_el","jobNameInput_el","clientSaveBtn_el","jobSaveBtn_el","colPickClientFG_el","colPickClientBG_el","colPickJobFG_el","colPickJobBG_el","doSetup","selectPage","drawPage","fillHTMLFromOb","drawGUIFromAr","createButtonFromOb","createFormFromOb","createInputFromOb","callMethodFromObOnElement","callMethodFromOb","onFormClick","createSelectFromOb","createRadioFromOb","addLIsFromOb","createBasicElementFromOb","createColorPickerFromOb","drawTimesheets","getNextName","newClientCreate","newJobCreate","navClick","onClientTyped","onJobTyped","onFormSubmit","dataStoragePossible","initDataObject","dataStoreObject","dataRetrieveObject","dataUpdateObject","clientAndJobStyleSheet","createClientOrJobFromOb","newClientFormSave","newJobFormSave","clientInputWasLastEmpty","updateRefsToElements","updateSelected","addWorkItem","updateSavedWorkItem","pagetype","timespan","dateFormat","totalsToShow","category","ob","localStorage","clear","location","hash","getElementById","body","prefix","n","button_el","parent_el","appendChild","input_el","label_el","htmlFor","setAttribute","select_el","option_el","clientOrJob_ob","Option","radio_el","checked","li_el","UL_el","dataType","newItemCSS_selector","colorPickerFGSelector","colorPickerBGSelector","target","scope","eval","apply","j","daysToDraw","isOddDay","weekdayCur","rowClassname","day_el","date_el","workItemCol_el","dayWorkItems","allWorkItems","dayCur","getDay","setDate","setMonth","round","dayNum","itemNum","itemID","workItem_el","min","max","step","size","form_el","display","form","timesheetRange","fgCol","bgCol","arguments","getAttribute","day_ar","day_ob","select_selector","option_selector","pageType","parentNode","indexOf","work","push","time","client","job","jobNotes","money","moneyNotes","call"],"mappings":"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","file":"FGDontDillyDally.js","sourcesContent":["/*\n---------------------------------------------------------\n  Firm Gently\n  DontDillyDally\n  Mark Mayes 2016\n---------------------------------------------------------\n*/\n// create namespace: uk.co.firmgently\nvar uk = (uk !== undefined) ? uk : {};\nuk.co = (uk.co !== undefined) ? uk.co : {};\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\n//\nuk.co.firmgently.DDDConsts = (function() {\n  \"use strict\";\n\n\t/* ---------------------------------------------------------------------------\n\t\tfake constants -\n\n    ** EVERYTHING ADDED HERE UNDER var MUST ALSO BE ADDED TO THE\n       OBJECT IN THE RETURN STATEMENT **\n\n    This is a hackabout but lets us achieve a separate file of 'constants'\n    that can be concatanated into place...\n\t--------------------------------------------------------------------------- */\n\n\tvar\n  APP_ID = \"FGDDD\",\n\n  PAGETYPE_TIMESHEETS = \" > timesheets\",\n  PAGETYPE_CONFIG = \" > settings\",\n  PAGETYPE_JOBSANDCLIENTS = \" > jobsAndClients\",\n  PAGETYPE_DEFAULT = PAGETYPE_TIMESHEETS,\n  BODYID_TIMESHEETS = \"timesheets\",\n  BODYID_CONFIG = \"config\",\n  BODYID_JOBSANDCLIENTS = \"jobsClients\",\n\n  GUITYPE_COL = \"GUITypeCol\",\n  GUITYPE_ROW = \"GUITypeRow\",\n  GUITYPE_BTN = \"GUITypeBtn\",\n  GUITYPE_COLORPICKER = \"GUITypeColorPicker\",\n  GUITYPE_RADIOBTN = \"GUITypeRadioBtn\",\n  GUITYPE_TEXTINPUT = \"GUITypeTextInput\",\n  GUITYPE_SELECT = \"GUITypeSelect\",\n  GUITYPE_FORM = \"GUITypeForm\",\n  GUITYPE_SECTION = \"GUITypeSection\",\n  GUITYPE_METHODCALL = \"GUITypeMethodCall\",\n  GUITYPE_UL = \"GUITypeUL\",\n\n  CLASS_BTNNAV = \"btnNav\",\n  CLASS_FORMMAIN = \"formMain\",\n  CLASS_COL = \"col\",\n  CLASS_ROW = \"row\",\n\n  CLIENT_STR = \"client\",\n  JOB_STR = \"job\",\n\n  EL_ID_COLHEADING = \"column-headings\",\n  EL_ID_JOBNAMEIN = \"jobNameIn\",\n  EL_ID_CLIENTNAMEIN = \"clientNameIn\",\n  EL_ID_CLIENTSAVEBTN = \"saveNewClientBtn\",\n  EL_ID_JOBSAVEBTN = \"saveNewJobBtn\",\n  EL_ID_SELECTCLIENT = \"selectClient\",\n  EL_ID_SELECTJOB = \"selectJob\",\n\n  CLIENT_FG_COLPICK = \"clientFGPicker\",\n  CLIENT_BG_COLPICK = \"clientBGPicker\",\n  JOB_FG_COLPICK = \"jobFGPicker\",\n  JOB_BG_COLPICK = \"jobBGPicker\",\n\n  DATATYPE_JOB = \"dataTypeJob\",\n  DATATYPE_CLIENT = \"dataTypeClient\",\n\n  CONTENTTYPE_CLIENTS = \"contentTypeClients\",\n  CONTENTTYPE_JOBS = \"contentTypeJobs\",\n\n  TIMESHEETCONTAINER_ID = \"timesheetContainer\",\n\n  GUIDATA_NAVMAIN = [\n    {\n      type: GUITYPE_BTN,\n      class: CLASS_BTNNAV,\n      id: BODYID_TIMESHEETS,\n      label: \"Timesheets\",\n      methodName: \"navClick\",\n      args: [PAGETYPE_TIMESHEETS],\n      scopeID: \"main\",\n      parent: \"nav-main\"\n    }, {\n      type: GUITYPE_BTN,\n      class: CLASS_BTNNAV,\n      id: BODYID_JOBSANDCLIENTS,\n      label: \"Jobs & Clients\",\n      methodName: \"navClick\",\n      args: [PAGETYPE_JOBSANDCLIENTS],\n      scopeID: \"main\",\n      parent: \"nav-main\"\n    }, {\n      type: GUITYPE_BTN,\n      class: CLASS_BTNNAV,\n      id: BODYID_CONFIG,\n      label: \"Settings\",\n      methodName: \"navClick\",\n      args: [PAGETYPE_CONFIG],\n      scopeID: \"main\",\n      parent: \"nav-main\"\n    }, {\n      type: GUITYPE_UL,\n      ar: [\n        \"date\", \"hrs\", \"client\", \"job\", \"job notes\", \"£\", \"£ notes\"\n      ],\n      ulID: EL_ID_COLHEADING,\n      class: CLASS_COL,\n      parent: \"header-main\"\n    }\n  ],\n\n\n  PAGEDATA_JOBSANDCLIENTS = {\n    pageTitle: \"Jobs and Clients\",\n    intro: \"Add, delete or edit jobs and clients.\"\n  },\n  GUIDATA_JOBSANDCLIENTS = [\n    {\n      type: GUITYPE_COL,\n      id: \"editClientCol\",\n      class: CLASS_COL,\n      parent: \"main\",\n    }, {\n      type: GUITYPE_FORM,\n      id: \"createClientForm\",\n      class: CLASS_FORMMAIN,\n      title: \"Fill in client details\",\n      // method: null,\n      parent: \"editClientCol\",\n      el_ar: [\n        {\n          type: GUITYPE_ROW,\n          id: \"clientNewRow\",\n          class: CLASS_ROW,\n          parent: \"createClientForm\",\n        }, {\n          type: GUITYPE_ROW,\n          id: \"clientsExistingRow\",\n          class: CLASS_ROW,\n          parent: \"createClientForm\",\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Create new\",\n          id: \"createNewClientBtn\",\n          methodName: \"newClientCreate\",\n          args: [],\n          scopeID: \"createClientForm\",\n          parent: \"clientNewRow\"\n        }, {\n          type: GUITYPE_TEXTINPUT,\n          id: EL_ID_CLIENTNAMEIN,\n          label: \"Client name\",\n          parent: \"clientNewRow\",\n          methodName: \"onClientTyped\",\n          args: [],\n          scopeID: \"createClientForm\",\n          attributes: { \"type\": \"text\" }\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Save\",\n          id: EL_ID_CLIENTSAVEBTN,\n          methodName: \"newClientFormSave\",\n          args: [],\n          scopeID: \"createClientForm\",\n          parent: \"clientNewRow\",\n          disabled: true\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: CLIENT_FG_COLPICK,\n          class: \"color-picker\",\n          parent: \"clientsExistingRow\"\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: CLIENT_BG_COLPICK,\n          class: \"color-picker\",\n          parent: \"clientsExistingRow\"\n        }, {\n          type: GUITYPE_SELECT,\n          label: \"Existing clients\",\n          args: [],\n          scopeID: \"createClientForm\",\n          parent: \"clientsExistingRow\",\n          methodName: \"updateSelected\",\n          id: EL_ID_SELECTCLIENT,\n          contentType: CONTENTTYPE_CLIENTS\n        }\n      ]\n    }, {\n      type: GUITYPE_COL,\n      id: \"editJobCol\",\n      class: CLASS_COL,\n      parent: \"main\",\n    }, {\n      type: GUITYPE_FORM,\n      id: \"createJobForm\",\n      class: CLASS_FORMMAIN,\n      title: \"Fill in job details\",\n      // methodName: null,\n      parent: \"editJobCol\",\n      hidden: false,\n      el_ar: [\n        {\n          type: GUITYPE_ROW,\n          id: \"jobNewRow\",\n          class: CLASS_ROW,\n          parent: \"createJobForm\",\n        }, {\n          type: GUITYPE_ROW,\n          id: \"jobsExistingRow\",\n          class: CLASS_ROW,\n          parent: \"createJobForm\",\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Create new\",\n          id: \"createNewJobBtn\",\n          methodName: \"newJobCreate\",\n          scopeID: \"createJobForm\",\n          args: [],\n          parent: \"jobNewRow\"\n        }, {\n          type: GUITYPE_TEXTINPUT,\n          id: EL_ID_JOBNAMEIN,\n          label: \"Job name\",\n          parent: \"jobNewRow\",\n          attributes: { \"type\": \"text\" }\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Save\",\n          id: EL_ID_JOBSAVEBTN,\n          methodName: \"newJobFormSave\",\n          scopeID: \"createJobForm\",\n          args: [],\n          parent: \"jobNewRow\",\n          disabled: true\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: JOB_FG_COLPICK,\n          class: \"color-picker\",\n          parent: \"jobsExistingRow\"\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: JOB_BG_COLPICK,\n          class: \"color-picker\",\n          parent: \"jobsExistingRow\"\n        }, {\n          type: GUITYPE_SELECT,\n          label: \"Existing jobs\",\n          args: [],\n          scopeID: \"createJobForm\",\n          parent: \"jobsExistingRow\",\n          methodName: \"updateSelected\",\n          id: \"selectJob\",\n          contentType: CONTENTTYPE_JOBS\n        }\n      ]\n    }\n  ],\n\n  PAGEDATA_TIMESHEETS = {\n    pageTitle: \"Timesheets\",\n    intro: \"This is where you keep track of actual work.\"\n  },\n  GUIDATA_TIMESHEETS = [\n    {\n      type: GUITYPE_SECTION,\n      id: TIMESHEETCONTAINER_ID,\n      parent: \"main\"\n    }, {\n      type: GUITYPE_METHODCALL,\n      methodName: \"drawTimesheets\",\n      scopeID: \"main\"\n    }\n  ],\n\n  PAGEDATA_CONFIG = {\n    pageTitle: \"Settings\",\n    intro: \"Show and hide things and customise settings.\"\n  },\n  GUIDATA_CONFIG = [\n    {\n      type: GUITYPE_FORM,\n      id: \"configForm\",\n      class: CLASS_FORMMAIN,\n      title: \"Set your preferences here\",\n      parent: \"main\",\n      hidden: false,\n      el_ar: [\n         {\n           type: GUITYPE_RADIOBTN,\n           id: \"dateFormat\",\n           label: \"Format used to show dates\",\n           parent: \"configForm\",\n           options: {\n             DATETYPE_DDMMYY: \"dd/mm/yy\",\n             DATETYPE_MMDDYY: \"mm/dd/yy\",\n             DATETYPE_YYMMDD: \"yy/mm/dd\"\n           },\n           disabled: true\n         }, {\n           type: GUITYPE_RADIOBTN,\n           id: \"timesheetRange\",\n           label: \"Choose how many days you want to show on the timesheet page\",\n           parent: \"configForm\",\n           options: {\n             timespanWeek: \"A week\",\n             timespanMonth: \"A month\",\n             timespanYear: \"A year\"\n           },\n           disabled: true\n         }, {\n           type: GUITYPE_RADIOBTN,\n           id: \"totalsToShow\",\n           label: \"Choose which totals you want totted up and displayed\",\n           parent: \"configForm\",\n           options: {\n             showTotalsWeek: \"Show weekly totals\",\n             showTotalsMonth: \"Show monthly totals\",\n             showTotalsWeekAndMonth: \"Show both weekly and monthly totals\"\n           },\n           disabled: true\n         }\n      ]\n    },\n  ],\n\n  DATETYPE_YYMMDD = {\n    label: \"yy/mm/dd\"\n  },\n  DATETYPE_DDMMYY = {\n    label: \"dd/mm/yy\"\n  },\n  DATETYPE_MMDDYY = {\n    label: \"mm/dd/yy\"\n  },\n  DATETYPE_DEFAULT = DATETYPE_DDMMYY,\n\n  JOB_DEFAULT_1 = {\n    name: \"Purchasing\",\n    color: \"#000\",\n    bgcolor: \"#0ff\"\n  },\n\n  JOB_DEFAULT_2 = {\n    name: \"Administration\",\n    color: \"#0f0\",\n    bgcolor: \"#123\"\n  },\n\n  CLIENT_DEFAULT_1 = {\n    name: \"Will @ ACME CO\",\n    color: \"#fff\",\n    bgcolor: \"#f00\"\n  },\n\n  CLIENT_DEFAULT_2 = {\n    name: \"Diamond Jules\",\n    color: \"#435\",\n    bgcolor: \"#821\"\n  },\n\n  // these string values have to match those used in the GUIDATA_CONFIG options\n  TIMESPAN_WEEK = \"timespanWeek\",\n  TIMESPAN_MONTH = \"timespanMonth\",\n  TIMESPAN_YEAR = \"timespanYear\",\n  TIMESPAN_DEFAULT = TIMESPAN_MONTH,\n  DAYSINWEEK = 7,\n  DAYSINMONTH = 31, // set to maxiumum possible (only used for display purposes)\n  DAYSINYEAR = 365,\n\n  // which totals to showing\n  SHOWTOTALS_WEEK = \"showTotalsWeek\",\n  SHOWTOTALS_MONTH = \"showTotalsMonth\",\n  SHOWTOTALS_BOTH = \"showTotalsWeekAndMonth\",\n  SHOWTOTALS_DEFAULT = SHOWTOTALS_BOTH,\n\n  TXT_STORAGE_UNSUPPORTED = \"Sorry - storage is not supported on this device or browser\"\n  ;\n\n\n  /* ---------------------------------------------------------------------------\n\t\tReturn an object mirroring all the constants created above\n    ** EVERYTHING ADDED ABOVE UNDER var MUST ALSO BE ADDED HERE **\n\t--------------------------------------------------------------------------- */\n\treturn {\n    APP_ID: APP_ID,\n    GUIDATA_NAVMAIN: GUIDATA_NAVMAIN,\n    PAGETYPE_TIMESHEETS: PAGETYPE_TIMESHEETS,\n    PAGETYPE_CONFIG: PAGETYPE_CONFIG,\n    PAGETYPE_JOBSANDCLIENTS: PAGETYPE_JOBSANDCLIENTS,\n    PAGETYPE_DEFAULT: PAGETYPE_DEFAULT,\n    BODYID_TIMESHEETS: BODYID_TIMESHEETS,\n    BODYID_CONFIG: BODYID_CONFIG,\n    BODYID_JOBSANDCLIENTS: BODYID_JOBSANDCLIENTS,\n    GUITYPE_COL: GUITYPE_COL,\n    GUITYPE_ROW: GUITYPE_ROW,\n    GUITYPE_BTN: GUITYPE_BTN,\n    GUITYPE_RADIOBTN: GUITYPE_RADIOBTN,\n    GUITYPE_FORM: GUITYPE_FORM,\n    GUITYPE_SELECT: GUITYPE_SELECT,\n    GUITYPE_TEXTINPUT: GUITYPE_TEXTINPUT,\n    GUITYPE_SECTION: GUITYPE_SECTION,\n    GUITYPE_METHODCALL: GUITYPE_METHODCALL,\n    GUITYPE_COLORPICKER: GUITYPE_COLORPICKER,\n    GUITYPE_UL: GUITYPE_UL,\n    TIMESHEETCONTAINER_ID: TIMESHEETCONTAINER_ID,\n    PAGEDATA_JOBSANDCLIENTS: PAGEDATA_JOBSANDCLIENTS,\n    GUIDATA_JOBSANDCLIENTS: GUIDATA_JOBSANDCLIENTS,\n    PAGEDATA_TIMESHEETS: PAGEDATA_TIMESHEETS,\n    GUIDATA_TIMESHEETS: GUIDATA_TIMESHEETS,\n    PAGEDATA_CONFIG: PAGEDATA_CONFIG,\n    GUIDATA_CONFIG: GUIDATA_CONFIG,\n    DATETYPE_YYMMDD: DATETYPE_YYMMDD,\n    DATETYPE_DDMMYY: DATETYPE_DDMMYY,\n    DATETYPE_MMDDYY: DATETYPE_MMDDYY,\n    DATETYPE_DEFAULT: DATETYPE_DEFAULT,\n    TIMESPAN_WEEK: TIMESPAN_WEEK,\n    TIMESPAN_MONTH: TIMESPAN_MONTH,\n    TIMESPAN_YEAR: TIMESPAN_YEAR,\n    TIMESPAN_DEFAULT: TIMESPAN_DEFAULT,\n    DAYSINWEEK: DAYSINWEEK,\n    DAYSINMONTH: DAYSINMONTH,\n    DAYSINYEAR: DAYSINYEAR,\n    CLASS_BTNNAV: CLASS_BTNNAV,\n    CLASS_FORMMAIN: CLASS_FORMMAIN,\n    CLASS_COL: CLASS_COL,\n    CLASS_ROW: CLASS_ROW,\n    EL_ID_COLHEADING: EL_ID_COLHEADING,\n    CLIENT_STR: CLIENT_STR,\n    JOB_STR: JOB_STR,\n    EL_ID_JOBNAMEIN: EL_ID_JOBNAMEIN,\n    EL_ID_CLIENTNAMEIN: EL_ID_CLIENTNAMEIN,\n    JOB_FG_COLPICK: JOB_FG_COLPICK,\n    JOB_BG_COLPICK: JOB_BG_COLPICK,\n    CLIENT_FG_COLPICK: CLIENT_FG_COLPICK,\n    CLIENT_BG_COLPICK: CLIENT_BG_COLPICK,\n    TXT_STORAGE_UNSUPPORTED: TXT_STORAGE_UNSUPPORTED,\n    JOB_DEFAULT_1: JOB_DEFAULT_1,\n    JOB_DEFAULT_2: JOB_DEFAULT_2,\n    CLIENT_DEFAULT_1: CLIENT_DEFAULT_1,\n    CLIENT_DEFAULT_2: CLIENT_DEFAULT_2,\n    CONTENTTYPE_CLIENTS: CONTENTTYPE_CLIENTS,\n    CONTENTTYPE_JOBS: CONTENTTYPE_JOBS,\n    DATATYPE_JOB: DATATYPE_JOB,\n    DATATYPE_CLIENT: DATATYPE_CLIENT,\n    EL_ID_CLIENTSAVEBTN: EL_ID_CLIENTSAVEBTN,\n    EL_ID_JOBSAVEBTN: EL_ID_JOBSAVEBTN,\n    EL_ID_SELECTCLIENT: EL_ID_SELECTCLIENT,\n    EL_ID_SELECTJOB: EL_ID_SELECTJOB,\n    SHOWTOTALS_WEEK: SHOWTOTALS_WEEK,\n    SHOWTOTALS_MONTH: SHOWTOTALS_MONTH,\n    SHOWTOTALS_BOTH: SHOWTOTALS_BOTH,\n    SHOWTOTALS_DEFAULT: SHOWTOTALS_DEFAULT\n  };\n\n\n}());\n","/*\r\n---------------------------------------------------------\r\n  Firm Gently Utilities\r\n  Mark Mayes 2016\r\n---------------------------------------------------------\r\n*/\r\n// create namespace: uk.co.firmgently\r\nvar uk = (uk !== undefined) ? uk : {};\r\nuk.co = (uk.co !== undefined) ? uk.co : {};\r\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\r\n//\r\nuk.co.firmgently.FGUtils = (function() {\r\n\t\"use strict\";\r\n\r\n\tvar\r\n\taddCSSRule, getIEVersion, isTouchDevice,\r\n\tregisterEventHandler, unregisterEventHandler, stopPropagation,\r\n\thexOpacityToRGBA, getRandomHexColor, createElementWithId,\r\n\tremoveClassname, addClassname, getStyle,\n  treatAsUTC, daysBetween, getFormattedDate,\n\tlogMsg;\r\n\r\n\n  /* -------------------------------------------------------------------------------\n  \textend some global objects\n  ---------------------------------------------------------------------------------- */\n\n\tString.prototype.isEmpty = function() {\n\t\treturn (!this || /^\\s*$/.test(this));\n\t};\n\n\n\n  Storage.prototype.setObject = function(key, value) {\n    this.setItem(key, JSON.stringify(value));\n  };\n\n\n/*\n  http://stackoverflow.com/questions/2010892/storing-objects-in-html5-localstorage\n  Because of short-circuit evaluation, getObject() will immediately return null\n  if key is not in Storage. It also will not throw a SyntaxError exception if\n  value is \"\" (the empty string; JSON.parse() cannot handle that). */\n  Storage.prototype.getObject = function(key) {\n      var value = this.getItem(key);\n      return value && JSON.parse(value);\n  };\n\n\n\n\t// http://stackoverflow.com/questions/1184334/get-number-days-in-a-specified-month-using-javascript\n\tDate.prototype.monthDays= function() {\n\t    var d = new Date(this.getFullYear(), this.getMonth() + 1, 0);\n\t    return d.getDate();\n\t};\n\n\n\t// http://stackoverflow.com/questions/8619879/javascript-calculate-the-day-of-the-year-1-366\n\tDate.prototype.isLeapYear = function() {\n\t    var year = this.getFullYear();\n\t    if ((year & 3) !== 0) { return false; }\n\t    return ((year % 100) !== 0 || (year % 400) === 0);\n\t};\n\n\t//http://stackoverflow.com/questions/8619879/javascript-calculate-the-day-of-the-year-1-366\n\t// Get Day of Year\n\tDate.prototype.getDOY = function() {\n\t    var dayCount = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n\t    var mn = this.getMonth();\n\t    var dn = this.getDate();\n\t    var dayOfYear = dayCount[mn] + dn;\n\t    if(mn > 1 && this.isLeapYear()) dayOfYear++;\n\t    return dayOfYear;\n\t};\n\n\n\t/* -------------------------------------------------------------------------------\n\t\tgeneral helpers\n\t---------------------------------------------------------------------------------- */\n\r\n\t// prevent bubbling/propagation/default events (image drag and drop etc)\r\n\t// also when showing another image on click we don't want the event to bubble\r\n\t// up to its container, as a click on the container closes the overlay\r\n\tstopPropagation = function(e) {\r\n    if (e.preventDefault) { e.preventDefault(); }\r\n    if (e.stopPropagation) { e.stopPropagation(); }\r\n    e.cancelBubble = true;\r\n    e.returnValue = false;\r\n    return false;\r\n\t};\r\n\r\n\r\n\tregisterEventHandler = function(node, event, handler, useCapture) {\r\n    useCapture = (useCapture === undefined) ? false : useCapture;\r\n    if (typeof node.addEventListener === \"function\") {\r\n      node.addEventListener(event, handler, useCapture);\r\n    } else {\r\n      node.attachEvent(\"on\" + event, handler);\r\n    }\r\n\t\t// logMsg(\"node: \" + node);\r\n\t\t// logMsg(\"event: \" + event);\r\n\t\t// logMsg(\"handler: \" + handler);\r\n  };\r\n\r\n\r\n\tunregisterEventHandler = function(node, event, handler, useCapture) {\r\n    useCapture = (useCapture === undefined) ? false : useCapture;\r\n    if (typeof node.removeEventListener === \"function\") {\r\n      node.removeEventListener(event, handler, useCapture);\r\n    } else {\r\n      node.detachEvent(\"on\" + event, handler);\r\n    }\r\n  };\r\n\r\n\r\n  hexOpacityToRGBA = function(hexColour, opacity) {\r\n    var r, g, b;\r\n    r = parseInt(hexColour.substring(0,2), 16);\r\n    g = parseInt(hexColour.substring(2,4), 16);\r\n    b = parseInt(hexColour.substring(4,6), 16);\r\n    return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + opacity + \")\";\r\n  };\r\n\r\n\r\n\tgetRandomHexColor = function(tone) {\r\n\t\t// Based on http://www.paulirish.com/2009/random-hex-color-code-snippets/\r\n\t\tvar full = 16777215, mid = 8388607, third = 5592405, smalln = 1864135, hexString;\r\n\t\tif (tone === undefined) {\r\n\t\t\thexString = '#' + Math.floor(Math.random()*full).toString(16);\r\n\t\t} else if (tone.toUpperCase() === \"LIGHT\") {\r\n\t\t\thexString = '#' + Math.floor(full - Math.random()*third).toString(16);\r\n\t\t} else if (tone.toUpperCase() === \"DARK\") {\r\n\t\t\thexString = '#' + Math.floor(Math.random()*smalln).toString(16);\r\n\t\t}\r\n\t\treturn hexString;\r\n\t};\r\n\r\n\r\n  createElementWithId = function(elType, id) {\r\n    var el = document.createElement(elType);\r\n\t\tel.id = id;\r\n    return el;\r\n  };\r\n\r\n\r\n  removeClassname = function(element, name) {\r\n    element.className = element.className.replace(\" \" + name,\"\");\r\n  };\r\n\r\n\r\n  addClassname = function(element, name) {\r\n    name = \" \" + name;\r\n    element.className = element.className.replace(name,\"\");\r\n    element.className = element.className + name;\r\n  };\r\n\r\n\r\n\taddCSSRule = function(selector, property, newValue) {\r\n\t\t// logMsg(\"selector: \" + selector);\r\n\t\t// logMsg(\"property: \" + property);\r\n\t\t// logMsg(\"newValue: \" + newValue);\r\n\t\tvar\ti, curStyleSheet,\r\n\t\t\ttotalStyleSheets = document.styleSheets.length,\r\n\t\t\tnewStyle = property + \": \" + newValue;\r\n\t\tfor (i = 0; i < totalStyleSheets; i++) {\r\n\t\t\tcurStyleSheet = document.styleSheets[i];\r\n\t\t\t// logMsg(\"curStyleSheet: \" + curStyleSheet);\r\n\t\t\ttry {\r\n\t\t\t\tcurStyleSheet.insertRule(selector + \" {\" + newStyle + \"}\", curStyleSheet.cssRules.length);\r\n\t\t\t} catch(err1) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tcurStyleSheet.addRule(selector, newStyle);\r\n\t\t\t\t} catch(err2) {}\r\n\t\t\t}\r\n\t\t}\r\n\t};\n\n\n\tgetFormattedDate = function(date, format) {\n\t\tvar dateString;\n\t\tformat = format.replace(\"yy\", date.getUTCFullYear());\n\t\tformat = format.replace(\"dd\", (\"0\" + (date.getUTCDate())).slice(-2));\n\t\tformat = format.replace(\"mm\", (\"0\" + (date.getUTCMonth()+1)).slice(-2));\n\t\treturn format;\n\t\t// =\n\t\t//   date.getUTCFullYear() +\"/\"+\n\t\t//   (\"0\" + (date.getUTCMonth()+1)).slice(-2) +\"/\"+\n\t\t//   (\"0\" + date.getUTCDate()).slice(-2);\n\t};\n\n\n\tgetStyle = function(el, styleProp) {\n\t\tvar style;\n\t\tif (el.currentStyle) {\n\t\t\tstyle = el.currentStyle[styleProp];\n\t\t} else if (window.getComputedStyle) {\n\t\t\tstyle = document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\n\t\t}\n\t\treturn style;\n\t};\n\r\n\r\n\tlogMsg = function(msg) {\r\n    console.log(msg);\r\n  };\n\n\n\t// ----------------------------------------------------------\n  // A short snippet for detecting versions of IE in JavaScript\n  // without resorting to user-agent sniffing\n  // http://james.padolsey.com/javascript/detect-ie-in-js-using-conditional-comments/\n  // ----------------------------------------------------------\n  // If you're not in IE (or IE version is less than 5) then:\n  //     getIEVersion() === undefined\n  // If you're in IE (>=5) then you can determine which version:\n  //     getIEVersion() === 7; // IE7\n  // Thus, to detect IE:\n  //     if (getIEVersion()) {}\n  // And to detect the version:\n  //     getIEVersion() === 6 // IE6\n  //     getIEVersion() > 7 // IE8, IE9 ...\n  //     getIEVersion() < 9 // Anything less than IE9\n  // ----------------------------------------------------------\n\n  // UPDATE: Now using Live NodeList idea from @jdalton\n  getIEVersion = function(){\n    var undef,\n      v = 3,\n      div = document.createElement('div'),\n      all = div.getElementsByTagName('i');\n\n    while (\n      div.innerHTML = '<!--[if gt IE ' + (++v) + ']><i></i><![endif]-->',\n      all[0]\n    );\n\n    return v > 4 ? v : undef;\n  };\n\n\n\tisTouchDevice = function() {\n    // window.alert(\"ontouchstart in window: \" + ('ontouchstart' in window) );\n    // window.alert(\"onmsgesturechange in window: \" + ('onmsgesturechange' in window) );\n    // return 'ontouchstart' in window || 'onmsgesturechange' in window;\n\n     return (('ontouchstart' in window) || (navigator.MaxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0));\n  };\n\n\n  // http://stackoverflow.com/questions/542938/how-do-i-get-the-number-of-days-between-two-dates-in-javascript\n  treatAsUTC = function(date) {\n    var result = new Date(date);\n    result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\n    return result;\n  };\n  daysBetween = function(startDate, endDate) {\n      var msPerDay = 24 * 60 * 60 * 1000;\n      return (treatAsUTC(endDate) - treatAsUTC(startDate)) / msPerDay;\n  };\n\r\n\r\n\r\n\r\n\treturn {\r\n\t\t/*\r\n\t\t---------------------------------------------------------\r\n\t\t\t\t\t\t\t\tPUBLIC\r\n\t\t---------------------------------------------------------\r\n\t\t*/\r\n\t\tregisterEventHandler: registerEventHandler,\r\n\t\tunregisterEventHandler: unregisterEventHandler,\r\n\t\tstopPropagation: stopPropagation,\r\n\t\tremoveClassname: removeClassname,\r\n\t\taddClassname: addClassname,\r\n\t\taddCSSRule: addCSSRule,\r\n\t\thexOpacityToRGBA: hexOpacityToRGBA,\r\n\t\tgetRandomHexColor: getRandomHexColor,\r\n\t\tcreateElementWithId: createElementWithId,\r\n\t\tgetFormattedDate: getFormattedDate,\n\t\ttreatAsUTC: treatAsUTC,\n\t\tdaysBetween: daysBetween,\n\t\tlogMsg: logMsg,\n\t\tgetIEVersion: getIEVersion,\n\t\tgetStyle: getStyle,\n\t\tisTouchDevice: isTouchDevice\n\t};\r\n\r\n}());\r\n","/*\n---------------------------------------------------------\n  Firm Gently\n  DontDillyDally\n  Mark Mayes 2016\n---------------------------------------------------------\n*/\n// create namespace: uk.co.firmgently\nvar uk = (uk !== undefined) ? uk : {};\nuk.co = (uk.co !== undefined) ? uk.co : {};\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\n//\nuk.co.firmgently.DontDillyDally = (function() {\n  \"use strict\";\n\n  /* ---------------------------------------------------------------------------\n\t\tdeclare / init vars\n\t--------------------------------------------------------------------------- */\n\tvar\n  // variables\n  prop, dateDisplayStart, dateDisplaySelected, dateToday, //timespanDisplay,\n  clientNameInput_el, jobNameInput_el, clientSaveBtn_el, jobSaveBtn_el,\n  colPickClientFG_el, colPickClientBG_el, colPickJobFG_el, colPickJobBG_el,\n  dayOfYear,\n\n\t// methods\n  doSetup, selectPage, drawPage, fillHTMLFromOb, drawGUIFromAr,\n  createButtonFromOb, createFormFromOb, createInputFromOb,\n  callMethodFromObOnElement, callMethodFromOb, onFormClick,\n  createSelectFromOb, createRadioFromOb, addLIsFromOb,\n  createBasicElementFromOb, createColorPickerFromOb,\n  drawTimesheets, getNextName, newClientCreate, newJobCreate,\n  navClick, onClientTyped, onJobTyped, onFormSubmit,\n  dataStoragePossible, initDataObject, dataStoreObject, dataRetrieveObject,\n  dataUpdateObject, clientAndJobStyleSheet, createClientOrJobFromOb,\n  newClientFormSave, newJobFormSave, clientInputWasLastEmpty,\n  updateRefsToElements, updateSelected, addWorkItem, updateSavedWorkItem\n\t;\n\n  /* ---------------------------------------------------------------------------\n    create local references to public vars (unenforced constants) from DDDConsts\n\t--------------------------------------------------------------------------- */\n  for (prop in uk.co.firmgently.DDDConsts) {\n    this[prop] = uk.co.firmgently.DDDConsts[prop];\n  }\n\n  /* ---------------------------------------------------------------------------\n    create local references to public methods from FGUtils\n    (saves typing/less verbosity)\n\t--------------------------------------------------------------------------- */\n\n\tfor (prop in uk.co.firmgently.FGUtils) {\n\t\tthis[prop] = uk.co.firmgently.FGUtils[prop];\n\t}\n\n\n  /* -----------------------------------------------------------------------------\n    data storage methods\n  ----------------------------------------------------------------------------- */\n\n  dataStoragePossible = function() {\n    if(typeof(Storage) === \"undefined\") {\n      logMsg(TXT_STORAGE_UNSUPPORTED);\n    } else {\n      return true;\n    }\n  };\n\n\n  initDataObject = function() {\n    // if no preferences are stored create some defaults\n    if (!dataRetrieveObject(\"prefs\")) {\n      dataStoreObject(\"prefs\", {\n        pagetype: PAGETYPE_DEFAULT,\n        timespan: TIMESPAN_DEFAULT,\n        dateFormat: DATETYPE_DEFAULT,\n        totalsToShow: SHOWTOTALS_DEFAULT\n      });\n      dataStoreObject(\"clientNum\", 0);\n      dataStoreObject(\"jobNum\", 0);\n\n      dataStoreObject(CLIENT_STR, {});\n      createClientOrJobFromOb(CLIENT_DEFAULT_1, DATATYPE_CLIENT);\n      createClientOrJobFromOb(CLIENT_DEFAULT_2, DATATYPE_CLIENT);\n\n      dataStoreObject(JOB_STR, {});\n      createClientOrJobFromOb(JOB_DEFAULT_1, DATATYPE_JOB);\n      createClientOrJobFromOb(JOB_DEFAULT_2, DATATYPE_JOB);\n\n      dataStoreObject(\"day\", {});\n    }\n  };\n\n\n  dataStoreObject = function(category, ob) {\n    localStorage.setItem(APP_ID + \"_\" + category, JSON.stringify(ob));\n  };\n\n\n  dataRetrieveObject = function(category) {\n    return JSON.parse(localStorage.getItem(APP_ID + \"_\" + category));\n  };\n\n\n  dataUpdateObject = function(category, key, value) {\n    var prop,\n    ob = dataRetrieveObject(category);\n    for (prop in ob) {\n      if (prop === key) {\n        ob[prop] = value;\n        break;\n      }\n    }\n    dataStoreObject(category, ob);\n  };\n\n\n\n\n\n  /* -----------------------------------------------------------------------------\n    set up methods\n  ----------------------------------------------------------------------------- */\n\n  doSetup = function() {\n    dateDisplayStart = new Date();\n    dateDisplaySelected = new Date();\n    dateToday = new Date();\n\n\n   localStorage.clear();\n\n\n    if(dataStoragePossible()) {\n      initDataObject();\n      selectPage(dataRetrieveObject(\"prefs\").pagetype);\n      drawGUIFromAr(GUIDATA_NAVMAIN);\n      if (location.hash) {\n        selectPage(location.hash.substring(1));\n      }\n    }\n  };\n\n\n  selectPage = function(pagetype) {\n    dataUpdateObject(\"prefs\", \"pagetype\", pagetype);\n    location.hash = pagetype;\n    drawPage();\n  };\n\n\n  drawPage = function() {\n    // var colHeading_el;\n    // clear any pre-created html content\n    document.getElementById(\"main\").innerHTML = \"\";\n\n    switch (dataRetrieveObject(\"prefs\").pagetype) {\n      case PAGETYPE_TIMESHEETS:\n        document.body.id = BODYID_TIMESHEETS;\n        fillHTMLFromOb(PAGEDATA_TIMESHEETS);\n        drawGUIFromAr(GUIDATA_TIMESHEETS);\n        break;\n      case PAGETYPE_CONFIG:\n        document.body.id = BODYID_CONFIG;\n        fillHTMLFromOb(PAGEDATA_CONFIG);\n        drawGUIFromAr(GUIDATA_CONFIG);\n        break;\n      case PAGETYPE_JOBSANDCLIENTS:\n        document.body.id = BODYID_JOBSANDCLIENTS;\n        fillHTMLFromOb(PAGEDATA_JOBSANDCLIENTS);\n        drawGUIFromAr(GUIDATA_JOBSANDCLIENTS);\n        break;\n      default:\n        break;\n    }\n    updateRefsToElements();\n  };\n\n\n  fillHTMLFromOb = function(ob) {\n    for (var prop in ob) {\n      document.getElementById(prop).innerHTML = ob[prop];\n    }\n  };\n\n\n  drawGUIFromAr = function(ar) {\n    var i, ob;\n    for (i = 0; i < ar.length; i++) {\n      ob = ar[i];\n      switch (ob.type) {\n        case GUITYPE_BTN:\n          createButtonFromOb(ob);\n          break;\n        case GUITYPE_FORM:\n          createFormFromOb(ob);\n          break;\n        case GUITYPE_TEXTINPUT:\n          createInputFromOb(ob);\n          break;\n        case GUITYPE_SELECT:\n          createSelectFromOb(ob);\n          break;\n        case GUITYPE_RADIOBTN:\n          createRadioFromOb(ob);\n          break;\n        case GUITYPE_UL:\n          addLIsFromOb(ob);\n          break;\n          // intentional rollthrough as they all do exactly the same thing\n        case GUITYPE_SECTION:\n        case GUITYPE_COL:\n        case GUITYPE_ROW:\n          createBasicElementFromOb(ob);\n          break;\n        case GUITYPE_COLORPICKER:\n          createColorPickerFromOb(ob);\n          break;\n        case GUITYPE_METHODCALL:\n          callMethodFromOb(ob);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n\n  getNextName = function(type) {\n    var prefix, name, n;\n    if (type === DATATYPE_JOB) {\n      prefix = JOB_STR;\n    } else if (type === DATATYPE_CLIENT) {\n      prefix = CLIENT_STR;\n    }\n    n = 0 + (dataRetrieveObject(prefix + \"Num\")) + 1;\n    dataStoreObject(prefix + \"Num\", n);\n    return prefix + n;\n  };\n\n\n\n\n\n  /* -----------------------------------------------------------------------------\n    create individual specific elements\n  ----------------------------------------------------------------------------- */\n\n  createButtonFromOb = function(ob) {\n    var\n    button_el,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    if (ob.id) {\n      button_el = createElementWithId(\"button\", ob.id);\n    } else {\n      button_el = document.createElement(\"button\");\n    }\n    parent_el.appendChild(button_el);\n\n    if (ob.class) { addClassname(button_el, ob.class); }\n    button_el.innerHTML = ob.label;\n    button_el.ob = ob;\n    registerEventHandler(button_el, \"mousedown\", callMethodFromObOnElement);\n\n    if (ob.disabled) { button_el.disabled = ob.disabled; }\n  };\n\n\n  createInputFromOb = function(ob) {\n    var\n    prop, input_el, label_el,\n    innerHTML = \"\",\n    // parent_el = document.getElementById(ob.parent);\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    logMsg(\"ob.parent: \" + ob.parent);\n    logMsg(\"parent_el: \" + parent_el);\n    logMsg(\"typeof ob.parent: \" + typeof ob.parent);\n\n    if (ob.id) {\n      if (ob.label) {\n        label_el = document.createElement(\"label\");\n        label_el.innerHTML = ob.label;\n        parent_el.appendChild(label_el);\n        label_el.htmlFor = ob.id;\n      }\n      input_el = createElementWithId(\"input\", ob.id);\n      input_el.name = ob.id;\n      input_el.id = ob.id;\n    } else {\n      input_el = document.createElement(\"input\");\n    }\n    if (ob.class) { addClassname(input_el, ob.class); }\n    parent_el.appendChild(input_el);\n\n    if (ob.attributes) {\n      for (prop in ob.attributes) {\n        input_el.setAttribute(\"\" + prop, \"\" + ob.attributes[prop]);\n      }\n    }\n\n    input_el.ob = ob;\n\n    if (ob.methodName !== undefined) {\n      registerEventHandler(input_el, \"change\", callMethodFromObOnElement);\n      registerEventHandler(input_el, \"keyup\", callMethodFromObOnElement);\n      registerEventHandler(input_el, \"paste\", callMethodFromObOnElement);\n      registerEventHandler(input_el, \"input\", callMethodFromObOnElement);\n    }\n  };\n\n\n  createSelectFromOb = function(ob) {\n    var\n    i, prop, select_el, label_el, option_el, clientOrJob_ob,\n    dayPrefix,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    if (ob.id) {\n      if (ob.label) {\n        label_el = document.createElement(\"label\");\n        label_el.innerHTML = ob.label;\n        parent_el.appendChild(label_el);\n        label_el.htmlFor = ob.id;\n      }\n      select_el = createElementWithId(\"select\", ob.id);\n      select_el.name = ob.id;\n      select_el.id = ob.id;\n    } else {\n      select_el = document.createElement(\"select\");\n    }\n    if (ob.class) { addClassname(select_el, ob.class); }\n    parent_el.appendChild(select_el);\n\n    select_el.setAttribute(\"size\", \"1\"); // HACK maybe to allow styling of individual options\n\n    if (ob.contentType) { // clients / jobs options get treated differently to normal options\n      if (ob.contentType === CONTENTTYPE_CLIENTS) {\n        ob.options = dataRetrieveObject(CLIENT_STR);\n      } else if (ob.contentType === CONTENTTYPE_JOBS) {\n        ob.options = dataRetrieveObject(JOB_STR);\n      }\n      for (prop in ob.options) {\n        clientOrJob_ob = ob.options[prop];\n        option_el = select_el.options[select_el.options.length] = new Option(clientOrJob_ob.name, clientOrJob_ob.class);\n        addClassname(option_el, clientOrJob_ob.class);\n        addCSSRule(\".\" + clientOrJob_ob.class, \"background-color\", clientOrJob_ob.bgcolor);\n        addCSSRule(\".\" + clientOrJob_ob.class, \"color\", clientOrJob_ob.color);\n      }\n    } else { // normal options\n      for (prop in ob.options) {\n        select_el.options[select_el.options.length] = new Option(ob.options[prop], prop);\n      }\n    }\n\n    select_el.ob = ob;\n    // select_el.ob.methodName = \"updateSelected\";\n    if (ob.methodName) {\n      registerEventHandler(select_el, \"change\", callMethodFromObOnElement);\n    }\n  };\n\n\n  createRadioFromOb = function(ob) {\n    var\n    prop, radio_el, label_el,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    for (prop in ob.options) {\n      label_el = document.createElement(\"label\");\n      label_el.innerHTML = ob.options[prop];\n      parent_el.appendChild(label_el);\n\n      radio_el = document.createElement(\"input\");\n      if (ob.class) { addClassname(radio_el, ob.class); }\n      parent_el.appendChild(radio_el);\n\n      radio_el.setAttribute(\"type\", \"radio\");\n      radio_el.id = ob.id;\n      radio_el.name = ob.id;\n      radio_el.value = prop;\n      if (prop === dataRetrieveObject(\"prefs\").timespan) { radio_el.checked = true; }\n      label_el.htmlFor = ob.id;\n    }\n  };\n\n\n  addLIsFromOb = function(ob) {\n    var\n    i, li_el,\n    UL_el = createElementWithId(\"ul\", EL_ID_COLHEADING),\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    addClassname(UL_el, CLASS_ROW);\n\n    for (i = 0; i < ob.ar.length; i++) {\n      li_el = document.createElement(\"li\");\n      li_el.innerHTML = ob.ar[i];\n      UL_el.appendChild(li_el);\n      if (ob.class) { addClassname(li_el, ob.class); }\n    }\n\n    parent_el.appendChild(UL_el);\n  };\n\n\n  createBasicElementFromOb = function(ob) {\n    var\n    el, elType,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    switch (ob.type) {\n      case GUITYPE_COL:\n      case GUITYPE_ROW:\n        elType = \"span\";\n        break;\n      case GUITYPE_SECTION:\n        elType = \"section\";\n        break;\n      default:\n        elType = \"div\";\n        break;\n    }\n\n    if (ob.id) {\n      el = createElementWithId(elType, ob.id);\n    } else {\n      el = document.createElement(elType);\n    }\n    parent_el.appendChild(el);\n    if (ob.class) { addClassname(el, ob.class); }\n  };\n\n\n  createColorPickerFromOb = function(ob) {\n    var\n    el,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n    if (ob.id) {\n      el = createElementWithId(\"span\", ob.id);\n    } else {\n      el = document.createElement(\"span\");\n    }\n    parent_el.appendChild(el);\n    if (ob.class) { addClassname(el, ob.class); }\n  };\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\n\t--------------------------------------------------------------------------- */\n\n  createClientOrJobFromOb = function(ob, dataType) {\n    // create unique number to be used in object name/key\n    var\n    id, ar, n, prefix, newItemCSS_selector, //pluralName,\n    input_el,\n    colorPickerFGSelector, colorPickerBGSelector;\n\n    if (dataType === DATATYPE_CLIENT) {\n      input_el = document.getElementById(EL_ID_CLIENTNAMEIN);\n      prefix = CLIENT_STR;\n    } else if (dataType === DATATYPE_JOB) {\n      input_el = document.getElementById(EL_ID_JOBNAMEIN);\n      prefix = JOB_STR;\n    }\n    id = getNextName(dataType);\n    ob.id = id;\n    ob.class = id;\n\n    ar = dataRetrieveObject(prefix);\n    ar[ob.id] = ob;\n    dataStoreObject(prefix, ar);\n\n    newItemCSS_selector = \".\" + id + \", \" +\n      \".\" + id + \":hover, \" +\n      \".\" + id + \":active\";\n    addCSSRule(newItemCSS_selector, \"color\", ob.color);\n    addCSSRule(newItemCSS_selector, \"background-color\", ob.bgcolor);\n\n    if (dataType === DATATYPE_CLIENT) {\n      colorPickerFGSelector = \"#\" + CLIENT_FG_COLPICK;\n      colorPickerBGSelector = \"#\" + CLIENT_BG_COLPICK;\n    } else if (dataType === DATATYPE_JOB) {\n      colorPickerFGSelector = \"#\" + JOB_FG_COLPICK;\n      colorPickerBGSelector = \"#\" + JOB_BG_COLPICK;\n    }\n\n    addCSSRule(colorPickerFGSelector, \"background-color\", ob.color);\n    addCSSRule(colorPickerBGSelector, \"background-color\", ob.bgcolor);\n  };\n\n\n  callMethodFromObOnElement = function(e) {\n    logMsg(\"callMethodFromObOnElement()\");\n    logMsg(\"\\tcallMethodFromObOnElement: \" + JSON.stringify(e.target.ob));\n    callMethodFromOb(e.target.ob);\n  };\n\n\n  callMethodFromOb = function(ob) {\n    logMsg(\"\\tcallMethodFromOb: \" + JSON.stringify(ob));\n    var scope = (ob.scopeID !== undefined) ? document.getElementById(ob.scopeID) : undefined;\n\n    /*\n    eval usage has been carefully considered and is the best solution\n    for calling one of many methods whose names (strings) have been stored in\n    the constants file\n\n    ob.methodName contains a hard-coded string from DDDConsts.js\n\n    ! NO USER INPUT CAN MAKE IT INTO THIS LOCATION UNLESS THE SOURCE CODE\n    ! HAS BEEN COMPROMISED. IF THAT HAPPENS WE'RE BUGGERED ANYWAY !!\n    */\n\n    /* jshint ignore:start */\n    eval(ob.methodName).apply(scope, ob.args);\n    /* jshint ignore:end */\n  };\n\n\n  onClientTyped = function() {\n    clientSaveBtn_el.disabled = clientNameInput_el.value.isEmpty();\n  };\n\n\n  onJobTyped = function() {\n      jobSaveBtn_el.disabled = jobNameInput_el.value.isEmpty();\n  };\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\t\tpage drawing methods\n\t--------------------------------------------------------------------------- */\n\n  drawTimesheets = function() {\n    var\n    i, j, daysToDraw, isOddDay, weekdayCur,\n    isToday, rowClassname,\n    day_el, date_el, workItem_el, workItemCol_el, hrs_el, client_el, job_el, jobnotes_el,\n    ob_temp, dayWorkItems,\n    weekStartDay = 1, // 0 = Sunday, 1 = Monday etc\n    parent_el = document.getElementById(TIMESHEETCONTAINER_ID),\n    allWorkItems = dataRetrieveObject(\"day\"),\n    dayCur = new Date();\n\n    switch(dataRetrieveObject(\"prefs\").timespan) {\n      case TIMESPAN_WEEK:\n        weekdayCur = dayCur.getDay(); // 0 = Sunday, 1 = Monday etc\n        dayCur.setDate(dayCur.getDate() - weekdayCur + weekStartDay); // gets first day of week\n        daysToDraw = DAYSINWEEK;\n        break;\n      case TIMESPAN_MONTH:\n        dayCur.setDate(1);\n        daysToDraw = dayCur.monthDays();\n        break;\n      case TIMESPAN_YEAR:\n        dayCur.setMonth(0);\n        dayCur.setDate(1);\n        daysToDraw = DAYSINYEAR;\n        if (dayCur.isLeapYear()) { daysToDraw += 1; }\n        break;\n      default:\n        break;\n    }\n\n    isOddDay = false;\n    for (i = 0; i < daysToDraw; i++) {\n      dayOfYear = dayCur.getDOY();\n      rowClassname = \"day row \";\n      isToday = !Math.round(daysBetween(dayCur, dateToday));\n      if (isToday) { rowClassname += \"today \"; }\n      if (isOddDay) { rowClassname += \"odd \"; }\n      isOddDay = !isOddDay; // flip state\n      if (dayCur.getDay() === weekStartDay) { rowClassname += \"week-start \"; }\n      if (dayCur.getDate() === 1) { rowClassname += \"month-start \"; }\n      day_el = createElementWithId(\"div\", \"day\" + dayOfYear);\n      parent_el.appendChild(day_el);\n      addClassname(day_el, rowClassname);\n\n      // date\n      date_el = document.createElement(\"span\");\n      addClassname(date_el, \"date\");\n      addClassname(date_el, \"col\");\n      day_el.appendChild(date_el);\n      date_el.innerHTML = getFormattedDate(dayCur, DATETYPE_DEFAULT.label);\n      dayCur.setDate(dayCur.getDate() + 1);\n      day_el.dayNum = dayOfYear;\n\n      workItemCol_el = document.createElement(\"span\");\n      day_el.appendChild(workItemCol_el);\n      addClassname(workItemCol_el, \"day-data\");\n      addClassname(workItemCol_el, \"col\");\n\n      dayWorkItems = allWorkItems[dayOfYear];\n      logMsg(\"allWorkItems: \" + allWorkItems);\n      logMsg(\"dayWorkItems: \" + dayWorkItems);\n      if (dayWorkItems === undefined) {\n        addWorkItem(workItemCol_el, \"\" + dayOfYear + \"_0\");\n      } else {\n        for (j = 0; j < dayWorkItems.length; j++) {\n          addWorkItem(workItemCol_el, \"\" + dayOfYear + \"_\" + j);\n        }\n      }\n\n\n    }\n  };\n\n\n  addWorkItem = function(parent_el, dayOfYear, itemNum) {\n    var\n    hrs_el, money_el, ob_temp,\n    itemID = \"item\" + dayOfYear + \"_\" + itemNum,\n    // workItem_el = document.createElement(\"span\");\n    workItem_el = createElementWithId(\"span\", itemID);\n\n    workItem_el.setAttribute(\"dayOfYear\", dayOfYear);\n    workItem_el.setAttribute(\"itemNum\", itemNum);\n\n\n    parent_el.appendChild(workItem_el);\n\n    // hours\n    createInputFromOb({\n      class: \"hrs\",\n      parent: workItem_el,\n      attributes: {\n        \"type\": \"number\",\n        \"min\":  \"0\", \"max\":  \"59\",\n        \"step\": \"15\", \"size\": \"5\"\n      }\n    });\n    // client select/dropdown\n    createSelectFromOb({\n      contentType: CONTENTTYPE_CLIENTS,\n      parent: workItem_el,\n      methodName: \"updateSelected\",\n      args: [],\n      scopeID: parent_el.id\n    });\n    // job select/dropdown\n    createSelectFromOb({\n      contentType: CONTENTTYPE_JOBS,\n      parent: workItem_el,\n      methodName: \"updateSelected\",\n      scopeID: parent_el.id\n    });\n    // job  notes\n    createInputFromOb({\n      class: \"jobNotes\",\n      parent: workItem_el,\n      attributes: { \"type\": \"text\" }\n    });\n    // money\n    createInputFromOb({\n      class: \"money\",\n      parent: workItem_el,\n      attributes: {\n        \"type\": \"number\",\n        \"min\":  \"0\", \"max\":  \"59\",\n        \"step\": \"15\", \"size\": \"5\"\n      }\n    });\n    // money notes\n    createInputFromOb({\n      class: \"moneyNotes\",\n      parent: workItem_el,\n      attributes: { \"type\": \"text\" }\n    });\n    // 'add task' button\n    createButtonFromOb({\n      id: \"addTaskBtn\",\n      label: \"+\",\n      methodName: \"addTask\",\n      parent: workItem_el\n    });\n\n\n\n  };\n\n\n/*  updateColoursFromPickers = function(type, fgCol, bgCol) {\n\n  };\n\n*/\n\n  updateRefsToElements = function() {\n    clientNameInput_el = document.getElementById(EL_ID_CLIENTNAMEIN);\n    clientSaveBtn_el = document.getElementById(EL_ID_CLIENTSAVEBTN);\n    colPickClientFG_el = document.getElementById(CLIENT_FG_COLPICK);\n    colPickClientBG_el = document.getElementById(CLIENT_BG_COLPICK);\n    jobNameInput_el = document.getElementById(EL_ID_JOBNAMEIN);\n    jobSaveBtn_el = document.getElementById(EL_ID_JOBSAVEBTN);\n    colPickJobFG_el = document.getElementById(JOB_FG_COLPICK);\n    colPickJobBG_el = document.getElementById(JOB_BG_COLPICK);\n  };\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\t\tFORMS\n\t--------------------------------------------------------------------------- */\n\n  createFormFromOb = function(ob) {\n    var\n    i, form_el,\n    parent_el = document.getElementById(ob.parent);\n\n    if (ob.id) {\n      form_el = createElementWithId(\"form\", ob.id);\n    } else {\n      form_el = document.createElement(\"form\");\n    }\n    parent_el.appendChild(form_el);\n\n    if (ob.class) { addClassname(form_el, ob.class); }\n    if (ob.title) { form_el.innerHTML = \"<h2>\" + ob.title + \"</h2>\"; }\n\n    if (ob.el_ar) { drawGUIFromAr(ob.el_ar); }\n\n    if (ob.hidden) { form_el.style.display = \"none\"; }\n\n    form_el.ob = ob;\n    registerEventHandler(form_el, \"submit\", onFormSubmit);\n    registerEventHandler(form_el, \"click\", onFormClick);\n  };\n\n\n  onFormClick = function(e) {\n    var form = e.target.form;\n    if (form && form.id) {\n      switch (form.id) {\n        case \"configForm\":\n          dataUpdateObject(\"prefs\", \"timespan\", form.timesheetRange.value);\n          // dateFormat is an object, the form just stores the name of it so grab it here\n          dataUpdateObject(\"prefs\", \"dateFormat\", uk.co.firmgently.DDDConsts[form.dateFormat.value]);\n          dataUpdateObject(\"prefs\", \"totalsToShow\", form.totalsToShow.value);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n\n  onFormSubmit = function(e) {\n    logMsg(\"FORM SUBMITTED\");\n    stopPropagation(e);\n  };\n\n\n  newClientCreate = function() {\n    var\n    fgCol = getRandomHexColor(\"dark\"),\n    bgCol = getRandomHexColor(\"light\");\n\n    document.getElementById(EL_ID_CLIENTNAMEIN).value = getNextName(DATATYPE_CLIENT);\n    addCSSRule(\"#\" + CLIENT_FG_COLPICK, \"background-color\", fgCol);\n    addCSSRule(\"#\" + CLIENT_BG_COLPICK, \"background-color\", bgCol);\n    addCSSRule(\"#\" + EL_ID_CLIENTNAMEIN, \"color\", fgCol);\n    addCSSRule(\"#\" + EL_ID_CLIENTNAMEIN, \"background-color\", bgCol);\n\n    clientSaveBtn_el.disabled = false;\n    updateRefsToElements();\n  };\n\n\n  newJobCreate = function() {\n    var\n    fgCol = getRandomHexColor(\"light\"),\n    bgCol = getRandomHexColor(\"dark\");\n\n    document.getElementById(EL_ID_JOBNAMEIN).value = getNextName(DATATYPE_JOB);\n    addCSSRule(\"#\" + JOB_FG_COLPICK, \"background-color\", fgCol);\n    addCSSRule(\"#\" + JOB_BG_COLPICK, \"background-color\", bgCol);\n    addCSSRule(\"#\" + EL_ID_JOBNAMEIN, \"color\", fgCol);\n    addCSSRule(\"#\" + EL_ID_JOBNAMEIN, \"background-color\", bgCol);\n\n    jobSaveBtn_el.disabled = false;\n    updateRefsToElements();\n  };\n\n\n  newClientFormSave = function() {\n    createClientOrJobFromOb({\n      name: document.getElementById(EL_ID_CLIENTNAMEIN).value,\n      color: getStyle(colPickClientFG_el, \"background-color\"),\n      bgcolor: getStyle(colPickClientBG_el, \"background-color\")\n    }, DATATYPE_CLIENT);\n    drawPage();\n  };\n\n\n  newJobFormSave = function() {\n    createClientOrJobFromOb({\n      name: document.getElementById(EL_ID_JOBNAMEIN).value,\n      color: getStyle(colPickJobFG_el, \"background-color\"),\n      bgcolor: getStyle(colPickJobBG_el, \"background-color\")\n    }, DATATYPE_JOB);\n    drawPage();\n  };\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\n\t--------------------------------------------------------------------------- */\n\n\n  navClick = function(e) {\n    selectPage(arguments[0]);\n  };\n\n\n  updateSavedWorkItem = function(workItem_el) {\n    var\n    dayOfYear = workItem_el.getAttribute(\"dayOfYear\"),\n    itemNum = workItem_el.getAttribute(\"itemNum\");\n\n  };\n\n\n  updateSelected = function(e) {\n    logMsg(\"updateSelected()\");\n    logMsg(\"\\te: \" + e);\n    logMsg(\"\\tthis: \" + this);\n    var\n    day_ar, workItem_ar, day_ob,\n    select_selector = \"#\" + e.target.id,\n    option_selector = e.target.value,\n    pageType = dataRetrieveObject(\"prefs\").pagetype,\n    workItem_el = document.getElementById(e.target.id).parentNode,\n    day_el = document.getElementById(e.target.id).parentNode.parentNode,\n    dayNum = day_el.dayNum;\n\n    switch (pageType) {\n      case PAGETYPE_TIMESHEETS:\n      case PAGETYPE_JOBSANDCLIENTS:\n        if (e.target.id.toUpperCase().indexOf(CLIENT_STR.toUpperCase()) !=-1) {\n          addCSSRule(select_selector, \"color\", dataRetrieveObject(CLIENT_STR)[option_selector].color);\n          addCSSRule(select_selector, \"background-color\", dataRetrieveObject(CLIENT_STR)[option_selector].bgcolor);\n        } else {\n          addCSSRule(select_selector, \"color\", dataRetrieveObject(JOB_STR)[option_selector].color);\n          addCSSRule(select_selector, \"background-color\", dataRetrieveObject(JOB_STR)[option_selector].bgcolor);\n        }\n        break;\n      case PAGETYPE_CONFIG:\n        break;\n      default:\n        break;\n    }\n    if (pageType === PAGETYPE_TIMESHEETS) {\n      day_ar = dataRetrieveObject(\"day\");\n      day_ob = day_ar[dayNum];\n      if (day_ob === undefined) {\n        day_ob = { work: [] };\n      }\n      workItem_ar = day_ob.work;\n      workItem_ar.push({\n        time: \"02:30\",\n        client: \"test client\",\n        job: \"test job\",\n        jobNotes: \"painting the edges\",\n        money: -50,\n        moneyNotes: \"bought canvas REceipt no.11234\"\n      });\n      day_ar[dayNum] = day_ob;\n      dataStoreObject(\"day\", day_ar);\n    }\n/*    if (e.target.id === EL_ID_SELECTCLIENT) {\n\n    } else if (e.target.id === EL_ID_SELECTJOB) {\n\n    }*/\n  };\n\n\n\n\n\n\t/* ---------------------------------------------------------------------------\n\t\tBEGIN...\n\t--------------------------------------------------------------------------- */\n\n  doSetup();\n\n\treturn;\n\n\n// 'this' would be undefined because of \"use strict\",\n// calling the function with .call(this) fixes it\n}).call(this);\n"]}