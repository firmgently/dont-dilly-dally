{"version":3,"sources":["FGUtils.js","FGHTMLBuild.js","DDDConsts.js","DontDillyDally.js"],"names":["uk","undefined","co","firmgently","FGUtils","addCSSRule","getIEVersion","isTouchDevice","registerEventHandler","unregisterEventHandler","stopPropagation","hexOpacityToRGBA","getRandomHexColor","createElementWithId","removeClassname","addClassname","getStyle","treatAsUTC","daysBetween","getFormattedDate","getFunctionFromString","logMsg","String","prototype","isEmpty","this","test","Storage","setObject","key","value","setItem","JSON","stringify","getObject","getItem","parse","Date","monthDays","getFullYear","getMonth","getDate","isLeapYear","year","getDOY","dayCount","mn","dn","dayOfYear","getWeekDay","length","ret","getDay","substring","e","preventDefault","cancelBubble","returnValue","node","event","handler","useCapture","addEventListener","attachEvent","removeEventListener","detachEvent","hexColour","opacity","r","g","b","parseInt","tone","hexString","Math","floor","random","toString","toUpperCase","elType","id","el","document","createElement","element","name","className","replace","selector","property","newValue","i","curStyleSheet","totalStyleSheets","styleSheets","newStyle","insertRule","cssRules","err1","addRule","err2","str","scope","window","chain_ar","split","chainLength","date","format","getUTCFullYear","substr","getUTCDate","slice","getUTCMonth","styleProp","style","currentStyle","getComputedStyle","defaultView","getPropertyValue","msg","console","log","v","div","all","getElementsByTagName","innerHTML","undef","navigator","MaxTouchPoints","msMaxTouchPoints","result","setMinutes","getMinutes","getTimezoneOffset","startDate","endDate","FGHTMLBuild","fillHTMLFromOb","createButtonFromOb","createRadioFromOb","createCheckboxFromOb","createInputFromOb","createSelectFromOb","addLIsFromOb","createBasicElementFromOb","createColorPickerFromOb","ob","prop","getElementById","button_el","parent_el","parent","appendChild","class","label","disabled","input_el","label_el","htmlFor","attributes","setAttribute","select_el","option_el","clientOrJob_ob","placeholderOption","placeholderText","Option","selected","hidden","options","contentType","checkbox_el","checked","radio_el","checkIfMatched","li_el","UL_el","CLASS_ROW","ar","type","GUITYPE_COL","GUITYPE_ROW","GUITYPE_SECTION","DDDConsts","DATETYPE_DDMMYY","APP_ID","GUIDATA_NAVMAIN","methodPathStr","args","scopeID","PAGETYPE_TIMESHEETS","PAGETYPE_CONFIG","PAGETYPE_JOBSANDCLIENTS","PAGETYPE_DEFAULT","BODYID_TIMESHEETS","BODYID_CONFIG","BODYID_JOBSANDCLIENTS","GUITYPE_BTN","GUITYPE_RADIOBTN","GUITYPE_FORM","GUITYPE_SELECT","GUITYPE_TEXTINPUT","GUITYPE_METHODCALL","GUITYPE_COLORPICKER","GUITYPE_UL","TIMESHEETCONTAINER_ID","LOADINGINDICATOR_ID","PAGEDATA_JOBSANDCLIENTS","pageTitle","intro","GUIDATA_JOBSANDCLIENTS","title","el_ar","PAGEDATA_TIMESHEETS","GUIDATA_TIMESHEETS","PAGEDATA_CONFIG","GUIDATA_CONFIG","DATETYPE_MMDDYY","DATETYPE_YYMMDD","timespanWeek","timespanMonth","timespanYear","showTotalsWeek","showTotalsMonth","showTotalsWeekAndMonth","DATETYPE_DEFAULT","TIMESPAN_WEEK","TIMESPAN_MONTH","TIMESPAN_YEAR","TIMESPAN_DEFAULT","DAYSINWEEK","DAYSINMONTH","DAYSINYEAR","CLASS_BTNNAV","CLASS_FORMMAIN","CLASS_COL","EL_ID_COLHEADING","CLIENT_STR","JOB_STR","EL_ID_JOBNAMEIN","EL_ID_CLIENTNAMEIN","JOB_FG_COLPICK","JOB_BG_COLPICK","CLIENT_FG_COLPICK","CLIENT_BG_COLPICK","TXT_STORAGE_UNSUPPORTED","JOB_DEFAULT_1","color","bgcolor","JOB_DEFAULT_2","CLIENT_DEFAULT_1","CLIENT_DEFAULT_2","CONTENTTYPE_CLIENTS","CONTENTTYPE_JOBS","DATATYPE_JOB","DATATYPE_CLIENT","EL_ID_CLIENTSAVEBTN","EL_ID_JOBSAVEBTN","EL_ID_SELECTCLIENT","EL_ID_SELECTJOB","SHOWTOTALS_WEEK","SHOWTOTALS_MONTH","SHOWTOTALS_BOTH","CLIENT_SELECT_PLACEHOLDER","JOB_SELECT_PLACEHOLDER","JOBNOTES_PLACEHOLDER","MONEYNOTES_PLACEHOLDER","SHOWTOTALS_DEFAULT","DontDillyDally","dateDisplayStart","dateDisplaySelected","dateToday","clientNameInput_el","jobNameInput_el","clientSaveBtn_el","jobSaveBtn_el","colPickClientFG_el","colPickClientBG_el","colPickJobFG_el","colPickJobBG_el","doSetup","selectPage","drawPage","clearPage","drawGUIFromAr","createFormFromOb","addTask","callMethodFromObOnElement","callMethodFromOb","onFormClick","drawTimesheets","getNextName","newClientCreate","newJobCreate","navClick","onClientTyped","onFormSubmit","onUpdateInput","onIsMoneyTaskChkChange","dataStoragePossible","initDataObject","dataStoreObject","dataRetrieveObject","dataUpdateObject","createClientOrJobFromOb","newClientFormSave","newJobFormSave","updateRefsToElements","updateSelected","addWorkItem","pagetype","timespan","dateFormat","totalsToShow","category","localStorage","clear","location","hash","decodeURIComponent","setTimeout","body","el_temp","form_el","display","parentNode","prefix","n","dataType","newItemCSS_selector","colorPickerFGSelector","colorPickerBGSelector","target","push","apply","j","daysToDraw","isOddDay","weekdayCur","rowClassname","day_el","date_el","dayDataContainer_el","dayWorkItems","workingFragment","createDocumentFragment","allWorkItems","dayCur","setDate","setMonth","round","itemID","workItem_el","getAttribute","children","placeholder","form","timesheetRange","checkbox","getElementsByClassName","countInput","notesInput","fgCol","bgCol","arguments","day_ar","day_ob","option_selector","pageType","work","time","client","job","jobNotes","money","moneyNotes","call"],"mappings":"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","file":"FGDontDillyDally.js","sourcesContent":["/*\n---------------------------------------------------------\n  Firm Gently Utilities\n  Mark Mayes 2016\n---------------------------------------------------------\n*/\n// create namespace: uk.co.firmgently\nvar uk = (uk !== undefined) ? uk : {};\nuk.co = (uk.co !== undefined) ? uk.co : {};\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\n//\nuk.co.firmgently.FGUtils = (function() {\n\t\"use strict\";\n\n\tvar\n\taddCSSRule, getIEVersion, isTouchDevice,\n\tregisterEventHandler, unregisterEventHandler, stopPropagation,\n\thexOpacityToRGBA, getRandomHexColor, createElementWithId,\n\tremoveClassname, addClassname, getStyle,\n  treatAsUTC, daysBetween, getFormattedDate,\n\tgetFunctionFromString,\n\tlogMsg;\n\n\n  /* -------------------------------------------------------------------------------\n  \textend some global objects\n  ---------------------------------------------------------------------------------- */\n\n\tString.prototype.isEmpty = function() {\n\t\treturn (!this || /^\\s*$/.test(this));\n\t};\n\n\n\n  Storage.prototype.setObject = function(key, value) {\n    this.setItem(key, JSON.stringify(value));\n  };\n\n\n/*\n  http://stackoverflow.com/questions/2010892/storing-objects-in-html5-localstorage\n  Because of short-circuit evaluation, getObject() will immediately return null\n  if key is not in Storage. It also will not throw a SyntaxError exception if\n  value is \"\" (the empty string; JSON.parse() cannot handle that). */\n  Storage.prototype.getObject = function(key) {\n      var value = this.getItem(key);\n      return value && JSON.parse(value);\n  };\n\n\n\n\t// http://stackoverflow.com/questions/1184334/get-number-days-in-a-specified-month-using-javascript\n\tDate.prototype.monthDays= function() {\n\t    var d = new Date(this.getFullYear(), this.getMonth() + 1, 0);\n\t    return d.getDate();\n\t};\n\n\n\t// http://stackoverflow.com/questions/8619879/javascript-calculate-the-day-of-the-year-1-366\n\tDate.prototype.isLeapYear = function() {\n\t    var year = this.getFullYear();\n\t    if ((year & 3) !== 0) { return false; }\n\t    return ((year % 100) !== 0 || (year % 400) === 0);\n\t};\n\n\t//http://stackoverflow.com/questions/8619879/javascript-calculate-the-day-of-the-year-1-366\n\t// Get Day of Year\n\tDate.prototype.getDOY = function() {\n\t    var dayCount = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n\t    var mn = this.getMonth();\n\t    var dn = this.getDate();\n\t    var dayOfYear = dayCount[mn] + dn;\n\t    if(mn > 1 && this.isLeapYear()) dayOfYear++;\n\t    return dayOfYear;\n\t};\n\n\tDate.prototype.getWeekDay = function(length) {\n\t    var ret,\n\t\t\t\t\tweekday = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n\n\t\t\tret = weekday[this.getDay()];\n\t\t\tif (length > 0) { ret = ret.substring(0, length);\t}\n\n\t    return ret;\n\t};\n\n\n\t/* -------------------------------------------------------------------------------\n\t\tgeneral helpers\n\t---------------------------------------------------------------------------------- */\n\n\t// prevent bubbling/propagation/default events (image drag and drop etc)\n\t// also when showing another image on click we don't want the event to bubble\n\t// up to its container, as a click on the container closes the overlay\n\tstopPropagation = function(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    if (e.stopPropagation) { e.stopPropagation(); }\n    e.cancelBubble = true;\n    e.returnValue = false;\n    return false;\n\t};\n\n\n\tregisterEventHandler = function(node, event, handler, useCapture) {\n    useCapture = (useCapture === undefined) ? false : useCapture;\n    if (typeof node.addEventListener === \"function\") {\n      node.addEventListener(event, handler, useCapture);\n    } else {\n      node.attachEvent(\"on\" + event, handler);\n    }\n\t\t// logMsg(\"node: \" + node);\n\t\t// logMsg(\"event: \" + event);\n\t\t// logMsg(\"handler: \" + handler);\n  };\n\n\n\tunregisterEventHandler = function(node, event, handler, useCapture) {\n    useCapture = (useCapture === undefined) ? false : useCapture;\n    if (typeof node.removeEventListener === \"function\") {\n      node.removeEventListener(event, handler, useCapture);\n    } else {\n      node.detachEvent(\"on\" + event, handler);\n    }\n  };\n\n\n  hexOpacityToRGBA = function(hexColour, opacity) {\n    var r, g, b;\n    r = parseInt(hexColour.substring(0,2), 16);\n    g = parseInt(hexColour.substring(2,4), 16);\n    b = parseInt(hexColour.substring(4,6), 16);\n    return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + opacity + \")\";\n  };\n\n\n\tgetRandomHexColor = function(tone) {\n\t\t// Based on http://www.paulirish.com/2009/random-hex-color-code-snippets/\n\t\tvar full = 16777215, mid = 8388607, third = 5592405, smalln = 1864135, hexString;\n\t\tif (tone === undefined) {\n\t\t\thexString = '#' + Math.floor(Math.random()*full).toString(16);\n\t\t} else if (tone.toUpperCase() === \"LIGHT\") {\n\t\t\thexString = '#' + Math.floor(full - Math.random()*third).toString(16);\n\t\t} else if (tone.toUpperCase() === \"DARK\") {\n\t\t\thexString = '#' + Math.floor(Math.random()*smalln).toString(16);\n\t\t}\n\t\treturn hexString;\n\t};\n\n\n  createElementWithId = function(elType, id) {\n    var el = document.createElement(elType);\n\t\tel.id = id;\n    return el;\n  };\n\n\n  removeClassname = function(element, name) {\n    element.className = element.className.replace(\" \" + name,\"\");\n  };\n\n\n  addClassname = function(element, name) {\n    name = \" \" + name;\n    element.className = element.className.replace(name,\"\");\n    element.className = element.className + name;\n  };\n\n\n\taddCSSRule = function(selector, property, newValue) {\n\t\tlogMsg(\"selector: \" + selector);\n\t\tlogMsg(\"\\tproperty: \" + property);\n\t\tlogMsg(\"\\tnewValue: \" + newValue);\n\t\tvar\n\t\ti, curStyleSheet,\n\t\ttotalStyleSheets = document.styleSheets.length,\n\t\tnewStyle = property + \": \" + newValue;\n\n\t\tfor (i = 0; i < totalStyleSheets; i++) {\n\t\t\tcurStyleSheet = document.styleSheets[i];\n\t\t\t// logMsg(\"curStyleSheet: \" + curStyleSheet);\n\t\t\ttry {\n\t\t\t\tcurStyleSheet.insertRule(selector + \" {\" + newStyle + \"}\", curStyleSheet.cssRules.length);\n\t\t\t} catch(err1) {\n\t\t\t\ttry {\n\t\t\t\t\tcurStyleSheet.addRule(selector, newStyle);\n\t\t\t\t} catch(err2) {}\n\t\t\t}\n\t\t}\n\t};\n\n\n\tgetFunctionFromString = function(str) {\n\t\t\tvar\n\t\t\ti,\n\t\t\tscope = window,\n\t\t\tchain_ar = str.split('.'),\n\t\t\tchainLength = chain_ar.length - 1;\n\n\t\t\tfor (i = 0; i < chainLength; i++) {\n\t\t\t\t\tscope = scope[chain_ar[i]];\n\t\t\t\t\tif (scope === undefined) { return; }\n\t\t\t}\n\n\t\t\treturn scope[chain_ar[chainLength]];\n\t};\n\n\n\tgetFormattedDate = function(date, format) {\n\t\tvar dateString;\n\t\tformat = format.replace(\"yy\", date.getUTCFullYear().toString().substr(-2));\n\t\tformat = format.replace(\"dd\", (\"0\" + (date.getUTCDate())).slice(-2));\n\t\tformat = format.replace(\"mm\", (\"0\" + (date.getUTCMonth()+1)).slice(-2));\n\t\treturn format;\n\t\t// =\n\t\t//   date.getUTCFullYear() +\"/\"+\n\t\t//   (\"0\" + (date.getUTCMonth()+1)).slice(-2) +\"/\"+\n\t\t//   (\"0\" + date.getUTCDate()).slice(-2);\n\t};\n\n\n\tgetStyle = function(el, styleProp) {\n\t\tvar style;\n\t\tif (el.currentStyle) {\n\t\t\tstyle = el.currentStyle[styleProp];\n\t\t} else if (window.getComputedStyle) {\n\t\t\tstyle = document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\n\t\t}\n\t\treturn style;\n\t};\n\n\n\tlogMsg = function(msg) {\n    console.log(msg);\n  };\n\n\n\t// ----------------------------------------------------------\n  // A short snippet for detecting versions of IE in JavaScript\n  // without resorting to user-agent sniffing\n  // http://james.padolsey.com/javascript/detect-ie-in-js-using-conditional-comments/\n  // ----------------------------------------------------------\n  // If you're not in IE (or IE version is less than 5) then:\n  //     getIEVersion() === undefined\n  // If you're in IE (>=5) then you can determine which version:\n  //     getIEVersion() === 7; // IE7\n  // Thus, to detect IE:\n  //     if (getIEVersion()) {}\n  // And to detect the version:\n  //     getIEVersion() === 6 // IE6\n  //     getIEVersion() > 7 // IE8, IE9 ...\n  //     getIEVersion() < 9 // Anything less than IE9\n  // ----------------------------------------------------------\n\n  // UPDATE: Now using Live NodeList idea from @jdalton\n  getIEVersion = function(){\n    var undef,\n      v = 3,\n      div = document.createElement('div'),\n      all = div.getElementsByTagName('i');\n\n    while (\n      div.innerHTML = '<!--[if gt IE ' + (++v) + ']><i></i><![endif]-->',\n      all[0]\n    );\n\n    return v > 4 ? v : undef;\n  };\n\n\n\tisTouchDevice = function() {\n    // window.alert(\"ontouchstart in window: \" + ('ontouchstart' in window) );\n    // window.alert(\"onmsgesturechange in window: \" + ('onmsgesturechange' in window) );\n    // return 'ontouchstart' in window || 'onmsgesturechange' in window;\n\n     return (('ontouchstart' in window) || (navigator.MaxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0));\n  };\n\n\n  // http://stackoverflow.com/questions/542938/how-do-i-get-the-number-of-days-between-two-dates-in-javascript\n  treatAsUTC = function(date) {\n    var result = new Date(date);\n    result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\n    return result;\n  };\n  daysBetween = function(startDate, endDate) {\n      var msPerDay = 24 * 60 * 60 * 1000;\n      return (treatAsUTC(endDate) - treatAsUTC(startDate)) / msPerDay;\n  };\n\n\n\n\n\treturn {\n\t\t/*\n\t\t---------------------------------------------------------\n\t\t\t\t\t\t\t\tPUBLIC\n\t\t---------------------------------------------------------\n\t\t*/\n\t\tregisterEventHandler: registerEventHandler,\n\t\tunregisterEventHandler: unregisterEventHandler,\n\t\tstopPropagation: stopPropagation,\n\t\tremoveClassname: removeClassname,\n\t\taddClassname: addClassname,\n\t\taddCSSRule: addCSSRule,\n\t\thexOpacityToRGBA: hexOpacityToRGBA,\n\t\tgetRandomHexColor: getRandomHexColor,\n\t\tcreateElementWithId: createElementWithId,\n\t\tgetFunctionFromString: getFunctionFromString,\n\t\tgetFormattedDate: getFormattedDate,\n\t\ttreatAsUTC: treatAsUTC,\n\t\tdaysBetween: daysBetween,\n\t\tlogMsg: logMsg,\n\t\tgetIEVersion: getIEVersion,\n\t\tgetStyle: getStyle,\n\t\tisTouchDevice: isTouchDevice\n\t};\n\n}());\n","/*\n---------------------------------------------------------\n  Firm Gently Utilities\n  Mark Mayes 2016\n---------------------------------------------------------\n*/\n// create namespace: uk.co.firmgently\nvar uk = (uk !== undefined) ? uk : {};\nuk.co = (uk.co !== undefined) ? uk.co : {};\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\n//\nuk.co.firmgently.FGHTMLBuild = (function() {\n\t\"use strict\";\n\n\tvar\n\tfillHTMLFromOb,\n\tcreateButtonFromOb, createRadioFromOb, createCheckboxFromOb,\n\tcreateInputFromOb, createSelectFromOb,\n\tcreateFormFromOb,\n\taddLIsFromOb, createBasicElementFromOb, createColorPickerFromOb\n\t;\n\n\n\tfillHTMLFromOb = function(ob) {\n    for (var prop in ob) {\n      document.getElementById(prop).innerHTML = ob[prop];\n    }\n  };\n\n\n\t/* -----------------------------------------------------------------------------\n    create individual specific elements\n  ----------------------------------------------------------------------------- */\n\n  createButtonFromOb = function(ob) {\n    var\n    button_el,\n    // ob.parent can be the ID(string) of the parent\n    // or a reference to the HTML node/element itself\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    if (ob.id) {\n      button_el = createElementWithId(\"button\", ob.id);\n    } else {\n      button_el = document.createElement(\"button\");\n    }\n    parent_el.appendChild(button_el);\n\n    if (ob.class) { addClassname(button_el, ob.class); }\n    button_el.innerHTML = ob.label;\n    button_el.ob = ob;\n    // registerEventHandler(button_el, \"mousedown\", uk.co.firmgently.DontDillyDally.callMethodFromObOnElement);\n\n    if (ob.disabled) { button_el.disabled = ob.disabled; }\n\n\t\treturn button_el;\n  };\n\n\n  createInputFromOb = function(ob) {\n    var\n    prop, input_el, label_el,\n    innerHTML = \"\",\n    // parent_el = document.getElementById(ob.parent);\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    // logMsg(\"ob.parent: \" + ob.parent);\n    // logMsg(\"parent_el: \" + parent_el);\n    // logMsg(\"typeof ob.parent: \" + typeof ob.parent);\n\n    if (ob.id) {\n      if (ob.label) {\n        label_el = document.createElement(\"label\");\n        label_el.innerHTML = ob.label;\n        parent_el.appendChild(label_el);\n        label_el.htmlFor = ob.id;\n      }\n      input_el = createElementWithId(\"input\", ob.id);\n      input_el.name = ob.id;\n      input_el.id = ob.id;\n    } else {\n      input_el = document.createElement(\"input\");\n    }\n    if (ob.class) { addClassname(input_el, ob.class); }\n    parent_el.appendChild(input_el);\n\n    if (ob.attributes) {\n      for (prop in ob.attributes) {\n        input_el.setAttribute(\"\" + prop, \"\" + ob.attributes[prop]);\n      }\n    }\n\n    input_el.ob = ob;\n\n\t\treturn input_el;\n  };\n\n\n  createSelectFromOb = function(ob) {\n    var\n    i, prop, select_el, label_el, option_el, clientOrJob_ob,\n    dayPrefix, placeholderOption,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    if (ob.id) {\n      if (ob.label) {\n        label_el = document.createElement(\"label\");\n        label_el.innerHTML = ob.label;\n        parent_el.appendChild(label_el);\n        label_el.htmlFor = ob.id;\n      }\n      select_el = createElementWithId(\"select\", ob.id);\n      select_el.name = ob.id;\n      select_el.id = ob.id;\n    } else {\n      select_el = document.createElement(\"select\");\n    }\n    if (ob.class) { addClassname(select_el, ob.class); }\n    parent_el.appendChild(select_el);\n\n    select_el.setAttribute(\"size\", \"1\"); // HACK maybe to allow styling of individual options\n\n\t\tif (ob.placeholderText) {\n\t\t\tplaceholderOption = new Option(ob.placeholderText, \"\");\n\t\t\tplaceholderOption.disabled = true;\n\t\t\tplaceholderOption.selected = true;\n\t\t\tplaceholderOption.hidden = true;\n\t\t\tselect_el.options[select_el.options.length] = placeholderOption;\n\t\t}\n\n    if (ob.contentType) { // clients / jobs options get treated differently to normal options\n/*      if (ob.contentType === CONTENTTYPE_CLIENTS) {\n        ob.options = ob.clientOptions;\n      } else if (ob.contentType === CONTENTTYPE_JOBS) {\n        ob.options = ob.jobOptions;\n      }*/\n\t\t\t// logMsg(\"ob.options:\");\n      for (prop in ob.options) {\n        clientOrJob_ob = ob.options[prop];\n\t\t\t\t// logMsg(JSON.stringify(clientOrJob_ob));\n        option_el = select_el.options[select_el.options.length] = new Option(clientOrJob_ob.name, clientOrJob_ob.class);\n        addClassname(option_el, clientOrJob_ob.class);\n        //addCSSRule(\".\" + clientOrJob_ob.class, \"background-color\", clientOrJob_ob.bgcolor);\n        //addCSSRule(\".\" + clientOrJob_ob.class, \"color\", clientOrJob_ob.color);\n      }\n    } else { // normal options\n      for (prop in ob.options) {\n        select_el.options[select_el.options.length] = new Option(ob.options[prop], prop);\n      }\n    }\n\n    select_el.ob = ob;\n\n\t\treturn select_el;\n  };\n\n\n  createCheckboxFromOb = function(ob) {\n    var\n    prop, checkbox_el, label_el,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    if (ob.label) {\n      label_el = document.createElement(\"label\");\n      label_el.innerHTML = ob.label;\n      parent_el.appendChild(label_el);\n      label_el.htmlFor = ob.id;\n    }\n\n    checkbox_el = document.createElement(\"input\");\n    if (ob.class) { addClassname(checkbox_el, ob.class); }\n\n    checkbox_el.setAttribute(\"type\", \"checkbox\");\n    checkbox_el.id = ob.id;\n    checkbox_el.name = ob.id;\n    logMsg(\"ob.checked: \" + ob.checked);\n    checkbox_el.checked = ob.checked;\n    parent_el.appendChild(checkbox_el);\n\n    checkbox_el.ob = ob;\n\n\t\treturn checkbox_el;\n  };\n\n\n  createRadioFromOb = function(ob) {\n    var\n    prop, radio_el, label_el,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    for (prop in ob.options) {\n      label_el = document.createElement(\"label\");\n      label_el.innerHTML = ob.options[prop];\n      parent_el.appendChild(label_el);\n\n      radio_el = document.createElement(\"input\");\n      if (ob.class) { addClassname(radio_el, ob.class); }\n      parent_el.appendChild(radio_el);\n\n      radio_el.setAttribute(\"type\", \"radio\");\n      radio_el.id = ob.id;\n      radio_el.name = ob.id;\n      radio_el.value = prop;\n\t\t\tlogMsg(\"ob.checkIfMatched: \" + ob.checkIfMatched);\n      if (prop === ob.checkIfMatched) { radio_el.checked = true; }\n      // if (prop === dataRetrieveObject(\"prefs\").timespan) { radio_el.checked = true; }\n      label_el.htmlFor = ob.id;\n    }\n\n\t\treturn radio_el;\n  };\n\n\n  addLIsFromOb = function(ob) {\n    var\n    i, li_el, UL_el,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n\t\tif (ob.id) {\n\t\t\tUL_el = createElementWithId(\"ul\", ob.id)\n\t\t} else {\n\t\t\tUL_el = document.createElement(\"ul\");\n\t\t}\n\n    addClassname(UL_el, CLASS_ROW);\n\n\t\tif (ob.ar) {\n\t    for (i = 0; i < ob.ar.length; i++) {\n\t      li_el = document.createElement(\"li\");\n\t      li_el.innerHTML = ob.ar[i];\n\t      UL_el.appendChild(li_el);\n\t      if (ob.class) { addClassname(li_el, ob.class); }\n\t    }\n\t\t}\n\n    parent_el.appendChild(UL_el);\n  };\n\n\n  createBasicElementFromOb = function(ob) {\n    var\n    el, elType,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n\n    switch (ob.type) {\n      case GUITYPE_COL:\n      case GUITYPE_ROW:\n        elType = \"span\";\n        break;\n      case GUITYPE_SECTION:\n        elType = \"section\";\n        break;\n      default:\n        elType = \"div\";\n        break;\n    }\n\n    if (ob.id) {\n      el = createElementWithId(elType, ob.id);\n    } else {\n      el = document.createElement(elType);\n    }\n    parent_el.appendChild(el);\n    if (ob.class) { addClassname(el, ob.class); }\n\n\t\treturn el;\n  };\n\n\n  createColorPickerFromOb = function(ob) {\n    var\n    el,\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\n    if (ob.id) {\n      el = createElementWithId(\"span\", ob.id);\n    } else {\n      el = document.createElement(\"span\");\n    }\n    parent_el.appendChild(el);\n    if (ob.class) { addClassname(el, ob.class); }\n\n\t\treturn el;\n  };\n\n\n/*\tcreateFormFromOb = function(ob) {\n    var\n    i, form_el,\n    parent_el = document.getElementById(ob.parent);\n\n    if (ob.id) {\n      form_el = createElementWithId(\"form\", ob.id);\n    } else {\n      form_el = document.createElement(\"form\");\n    }\n    parent_el.appendChild(form_el);\n\n    if (ob.class) { addClassname(form_el, ob.class); }\n    if (ob.title) { form_el.innerHTML = \"<h2>\" + ob.title + \"</h2>\"; }\n\n    if (ob.el_ar) { drawGUIFromAr(ob.el_ar); }\n\n    if (ob.hidden) { form_el.style.display = \"none\"; }\n\n    form_el.ob = ob;\n    registerEventHandler(form_el, \"submit\", onFormSubmit);\n    registerEventHandler(form_el, \"click\", onFormClick);\n\n\t\treturn form_el;\n  };*/\n\n\n\n\n\n\n\n\n\treturn {\n\t\t/*\n\t\t---------------------------------------------------------\n\t\t\t\t\t\t\t\tPUBLIC\n\t\t---------------------------------------------------------\n\t\t*/\n\t\tfillHTMLFromOb: fillHTMLFromOb,\n\t\tcreateButtonFromOb: createButtonFromOb,\n\t\tcreateSelectFromOb: createSelectFromOb,\n\t\t// createFormFromOb: createFormFromOb,\n\t\tcreateInputFromOb: createInputFromOb,\n\t\t// createTextInputFromOb: createTextInputFromOb,\n\t\tcreateRadioFromOb: createRadioFromOb,\n\t\tcreateCheckboxFromOb: createCheckboxFromOb,\n\t\taddLIsFromOb: addLIsFromOb,\n\t\tcreateBasicElementFromOb: createBasicElementFromOb,\n\t\tcreateColorPickerFromOb: createColorPickerFromOb\n\t};\n\n}());\n","/*\n---------------------------------------------------------\n  Firm Gently\n  DontDillyDally\n  Mark Mayes 2016\n---------------------------------------------------------\n*/\n// create namespace: uk.co.firmgently\nvar uk = (uk !== undefined) ? uk : {};\nuk.co = (uk.co !== undefined) ? uk.co : {};\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\n//\nuk.co.firmgently.DDDConsts = (function() {\n  \"use strict\";\n\n\t/* ---------------------------------------------------------------------------\n\t\tfake constants -\n\n    ** EVERYTHING ADDED HERE UNDER var MUST ALSO BE ADDED TO THE\n       OBJECT IN THE RETURN STATEMENT **\n\n    This is a hackabout but lets us achieve a separate file of 'constants'\n    that can be concatanated into place...\n\t--------------------------------------------------------------------------- */\n\n\tvar\n  APP_ID = \"FGDDD\",\n\n  PAGETYPE_TIMESHEETS = \" > timesheets\",\n  PAGETYPE_CONFIG = \" > preferences\",\n  PAGETYPE_JOBSANDCLIENTS = \" > jobsAndClients\",\n  PAGETYPE_DEFAULT = PAGETYPE_TIMESHEETS,\n  BODYID_TIMESHEETS = \"timesheets\",\n  BODYID_CONFIG = \"config\",\n  BODYID_JOBSANDCLIENTS = \"jobsClients\",\n\n  GUITYPE_COL = \"GUITypeCol\",\n  GUITYPE_ROW = \"GUITypeRow\",\n  GUITYPE_BTN = \"GUITypeBtn\",\n  GUITYPE_COLORPICKER = \"GUITypeColorPicker\",\n  GUITYPE_RADIOBTN = \"GUITypeRadioBtn\",\n  GUITYPE_TEXTINPUT = \"GUITypeTextInput\",\n  GUITYPE_SELECT = \"GUITypeSelect\",\n  GUITYPE_FORM = \"GUITypeForm\",\n  GUITYPE_SECTION = \"GUITypeSection\",\n  GUITYPE_METHODCALL = \"GUITypeMethodCall\",\n  GUITYPE_UL = \"GUITypeUL\",\n\n  CLASS_BTNNAV = \"btnNav\",\n  CLASS_FORMMAIN = \"formMain\",\n  CLASS_COL = \"col\",\n  CLASS_ROW = \"row\",\n\n  CLIENT_STR = \"client\",\n  JOB_STR = \"job\",\n  CLIENT_SELECT_PLACEHOLDER = \"select client\",\n  JOB_SELECT_PLACEHOLDER = \"select job\",\n  JOBNOTES_PLACEHOLDER = \"job notes\",\n  MONEYNOTES_PLACEHOLDER = \"money notes\",\n\n  EL_ID_COLHEADING = \"column-headings\",\n  EL_ID_JOBNAMEIN = \"jobNameIn\",\n  EL_ID_CLIENTNAMEIN = \"clientNameIn\",\n  EL_ID_CLIENTSAVEBTN = \"saveNewClientBtn\",\n  EL_ID_JOBSAVEBTN = \"saveNewJobBtn\",\n  EL_ID_SELECTCLIENT = \"selectClient\",\n  EL_ID_SELECTJOB = \"selectJob\",\n\n  CLIENT_FG_COLPICK = \"clientFGPicker\",\n  CLIENT_BG_COLPICK = \"clientBGPicker\",\n  JOB_FG_COLPICK = \"jobFGPicker\",\n  JOB_BG_COLPICK = \"jobBGPicker\",\n\n  DATATYPE_JOB = \"dataTypeJob\",\n  DATATYPE_CLIENT = \"dataTypeClient\",\n\n  CONTENTTYPE_CLIENTS = \"contentTypeClients\",\n  CONTENTTYPE_JOBS = \"contentTypeJobs\",\n\n  TIMESHEETCONTAINER_ID = \"timesheetContainer\",\n  LOADINGINDICATOR_ID = \"loading-indicator\",\n\n  GUIDATA_NAVMAIN = [\n    {\n      type: GUITYPE_BTN,\n      class: CLASS_BTNNAV,\n      id: BODYID_TIMESHEETS,\n      label: \"Timesheets\",\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.navClick\",\n      args: [PAGETYPE_TIMESHEETS],\n      scopeID: \"main\",\n      parent: \"nav-main\"\n    }, {\n      type: GUITYPE_BTN,\n      class: CLASS_BTNNAV,\n      id: BODYID_JOBSANDCLIENTS,\n      label: \"Jobs & Clients\",\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.navClick\",\n      args: [PAGETYPE_JOBSANDCLIENTS],\n      scopeID: \"main\",\n      parent: \"nav-main\"\n    }, {\n      type: GUITYPE_BTN,\n      class: CLASS_BTNNAV,\n      id: BODYID_CONFIG,\n      label: \"Preferences\",\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.navClick\",\n      args: [PAGETYPE_CONFIG],\n      scopeID: \"main\",\n      parent: \"nav-main\"\n    }/*, {\n      type: GUITYPE_UL,\n      ar: [\n        \"date\", \"hrs\", \"client\", \"job\", \"job notes\", \"£\", \"£ notes\"\n      ],\n      id: EL_ID_COLHEADING,\n      class: CLASS_COL,\n      parent: \"header-main\"\n    }*/\n  ],\n\n\n  PAGEDATA_JOBSANDCLIENTS = {\n    pageTitle: \"Jobs and Clients\",\n    intro: \"Add, delete or edit jobs and clients.\"\n  },\n  GUIDATA_JOBSANDCLIENTS = [\n    {\n      type: GUITYPE_COL,\n      id: \"editClientCol\",\n      class: CLASS_COL,\n      parent: \"main\",\n    }, {\n      type: GUITYPE_FORM,\n      id: \"createClientForm\",\n      class: CLASS_FORMMAIN,\n      title: \"Fill in client details\",\n      // method: null,\n      parent: \"editClientCol\",\n      el_ar: [\n        {\n          type: GUITYPE_ROW,\n          id: \"clientNewRow\",\n          class: CLASS_ROW,\n          parent: \"createClientForm\",\n        }, {\n          type: GUITYPE_ROW,\n          id: \"clientsExistingRow\",\n          class: CLASS_ROW,\n          parent: \"createClientForm\",\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Create new\",\n          id: \"createNewClientBtn\",\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.newClientCreate\",\n          args: [],\n          scopeID: \"createClientForm\",\n          parent: \"clientNewRow\"\n        }, {\n          type: GUITYPE_TEXTINPUT,\n          id: EL_ID_CLIENTNAMEIN,\n          label: \"Client name\",\n          parent: \"clientNewRow\",\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.onClientTyped\",\n          args: [],\n          scopeID: \"createClientForm\",\n          attributes: { \"type\": \"text\" }\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Save\",\n          id: EL_ID_CLIENTSAVEBTN,\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.newClientFormSave\",\n          args: [],\n          scopeID: \"createClientForm\",\n          parent: \"clientNewRow\",\n          disabled: true\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: CLIENT_FG_COLPICK,\n          class: \"color-picker\",\n          parent: \"clientsExistingRow\"\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: CLIENT_BG_COLPICK,\n          class: \"color-picker\",\n          parent: \"clientsExistingRow\"\n        }, {\n          type: GUITYPE_SELECT,\n          label: \"Existing clients\",\n          args: [],\n          scopeID: \"createClientForm\",\n          parent: \"clientsExistingRow\",\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.updateSelected\",\n          id: EL_ID_SELECTCLIENT,\n          contentType: CONTENTTYPE_CLIENTS\n        }\n      ]\n    }, {\n      type: GUITYPE_COL,\n      id: \"editJobCol\",\n      class: CLASS_COL,\n      parent: \"main\",\n    }, {\n      type: GUITYPE_FORM,\n      id: \"createJobForm\",\n      class: CLASS_FORMMAIN,\n      title: \"Fill in job details\",\n      // methodPathStr: null,\n      parent: \"editJobCol\",\n      hidden: false,\n      el_ar: [\n        {\n          type: GUITYPE_ROW,\n          id: \"jobNewRow\",\n          class: CLASS_ROW,\n          parent: \"createJobForm\",\n        }, {\n          type: GUITYPE_ROW,\n          id: \"jobsExistingRow\",\n          class: CLASS_ROW,\n          parent: \"createJobForm\",\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Create new\",\n          id: \"createNewJobBtn\",\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.newJobCreate\",\n          scopeID: \"createJobForm\",\n          args: [],\n          parent: \"jobNewRow\"\n        }, {\n          type: GUITYPE_TEXTINPUT,\n          id: EL_ID_JOBNAMEIN,\n          label: \"Job name\",\n          parent: \"jobNewRow\",\n          attributes: { \"type\": \"text\" }\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Save\",\n          id: EL_ID_JOBSAVEBTN,\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.newJobFormSave\",\n          scopeID: \"createJobForm\",\n          args: [],\n          parent: \"jobNewRow\",\n          disabled: true\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: JOB_FG_COLPICK,\n          class: \"color-picker\",\n          parent: \"jobsExistingRow\"\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: JOB_BG_COLPICK,\n          class: \"color-picker\",\n          parent: \"jobsExistingRow\"\n        }, {\n          type: GUITYPE_SELECT,\n          label: \"Existing jobs\",\n          args: [],\n          scopeID: \"createJobForm\",\n          parent: \"jobsExistingRow\",\n          methodPathStr: \"uk.co.firmgently.DontDillyDally.updateSelected\",\n          id: \"selectJob\",\n          contentType: CONTENTTYPE_JOBS\n        }\n      ]\n    }\n  ],\n\n  PAGEDATA_TIMESHEETS = {\n    pageTitle: \"Timesheets\",\n    intro: \"Keep track of where you spend your time. Also record payments in and expenses paid out.\"\n  },\n  GUIDATA_TIMESHEETS = [\n    {\n      type: GUITYPE_UL,\n      id: TIMESHEETCONTAINER_ID,\n      parent: \"main\"\n    }, {\n      type: GUITYPE_METHODCALL,\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.drawTimesheets\",\n      scopeID: \"main\"\n    }\n  ],\n\n  PAGEDATA_CONFIG = {\n    pageTitle: \"Preferences\",\n    intro: \"Show and hide things and customise settings.\"\n  },\n  GUIDATA_CONFIG = [\n    {\n      type: GUITYPE_FORM,\n      id: \"configForm\",\n      class: CLASS_FORMMAIN,\n      title: \"Set your preferences here\",\n      parent: \"main\",\n      hidden: false,\n      el_ar: [\n         {\n           type: GUITYPE_RADIOBTN,\n           id: \"dateFormat\",\n           label: \"Format used to show dates\",\n           parent: \"configForm\",\n           options: {\n             DATETYPE_DDMMYY: \"dd/mm/yy\",\n             DATETYPE_MMDDYY: \"mm/dd/yy\",\n             DATETYPE_YYMMDD: \"yy/mm/dd\"\n           },\n           disabled: true\n         }, {\n           type: GUITYPE_RADIOBTN,\n           id: \"timesheetRange\",\n           label: \"Choose how many days you want to show on the timesheet page\",\n           parent: \"configForm\",\n           options: {\n             timespanWeek: \"A week\",\n             timespanMonth: \"A month\",\n             timespanYear: \"A year\"\n           },\n           disabled: true\n         }, {\n           type: GUITYPE_RADIOBTN,\n           id: \"totalsToShow\",\n           label: \"Choose which totals you want totted up and displayed\",\n           parent: \"configForm\",\n           options: {\n             showTotalsWeek: \"Show weekly totals\",\n             showTotalsMonth: \"Show monthly totals\",\n             showTotalsWeekAndMonth: \"Show both weekly and monthly totals\"\n           },\n           disabled: true\n         }\n      ]\n    },\n  ],\n\n  DATETYPE_YYMMDD = {\n    label: \"yy/mm/dd\"\n  },\n  DATETYPE_DDMMYY = {\n    label: \"dd/mm/yy\"\n  },\n  DATETYPE_MMDDYY = {\n    label: \"mm/dd/yy\"\n  },\n  DATETYPE_DEFAULT = DATETYPE_DDMMYY,\n\n  JOB_DEFAULT_1 = {\n    name: \"Purchasing\",\n    color: \"#000\",\n    bgcolor: \"#0ff\"\n  },\n\n  JOB_DEFAULT_2 = {\n    name: \"Administration\",\n    color: \"#0f0\",\n    bgcolor: \"#123\"\n  },\n\n  CLIENT_DEFAULT_1 = {\n    name: \"Will @ ACME CO\",\n    color: \"#fff\",\n    bgcolor: \"#f00\"\n  },\n\n  CLIENT_DEFAULT_2 = {\n    name: \"Diamond Jules\",\n    color: \"#435\",\n    bgcolor: \"#89a\"\n  },\n\n  // these string values have to match those used in the GUIDATA_CONFIG options\n  TIMESPAN_WEEK = \"timespanWeek\",\n  TIMESPAN_MONTH = \"timespanMonth\",\n  TIMESPAN_YEAR = \"timespanYear\",\n  TIMESPAN_DEFAULT = TIMESPAN_MONTH,\n  DAYSINWEEK = 7,\n  DAYSINMONTH = 31, // set to maxiumum possible (only used for display purposes)\n  DAYSINYEAR = 365,\n\n  // which totals to showing\n  SHOWTOTALS_WEEK = \"showTotalsWeek\",\n  SHOWTOTALS_MONTH = \"showTotalsMonth\",\n  SHOWTOTALS_BOTH = \"showTotalsWeekAndMonth\",\n  SHOWTOTALS_DEFAULT = SHOWTOTALS_BOTH,\n\n  TXT_STORAGE_UNSUPPORTED = \"Sorry - storage is not supported on this device or browser\"\n  ;\n\n\n  /* ---------------------------------------------------------------------------\n\t\tReturn an object mirroring all the constants created above\n    ** EVERYTHING ADDED ABOVE UNDER var MUST ALSO BE ADDED HERE **\n\t--------------------------------------------------------------------------- */\n\treturn {\n    APP_ID: APP_ID,\n    GUIDATA_NAVMAIN: GUIDATA_NAVMAIN,\n    PAGETYPE_TIMESHEETS: PAGETYPE_TIMESHEETS,\n    PAGETYPE_CONFIG: PAGETYPE_CONFIG,\n    PAGETYPE_JOBSANDCLIENTS: PAGETYPE_JOBSANDCLIENTS,\n    PAGETYPE_DEFAULT: PAGETYPE_DEFAULT,\n    BODYID_TIMESHEETS: BODYID_TIMESHEETS,\n    BODYID_CONFIG: BODYID_CONFIG,\n    BODYID_JOBSANDCLIENTS: BODYID_JOBSANDCLIENTS,\n    GUITYPE_COL: GUITYPE_COL,\n    GUITYPE_ROW: GUITYPE_ROW,\n    GUITYPE_BTN: GUITYPE_BTN,\n    GUITYPE_RADIOBTN: GUITYPE_RADIOBTN,\n    GUITYPE_FORM: GUITYPE_FORM,\n    GUITYPE_SELECT: GUITYPE_SELECT,\n    GUITYPE_TEXTINPUT: GUITYPE_TEXTINPUT,\n    GUITYPE_SECTION: GUITYPE_SECTION,\n    GUITYPE_METHODCALL: GUITYPE_METHODCALL,\n    GUITYPE_COLORPICKER: GUITYPE_COLORPICKER,\n    GUITYPE_UL: GUITYPE_UL,\n    TIMESHEETCONTAINER_ID: TIMESHEETCONTAINER_ID,\n    LOADINGINDICATOR_ID: LOADINGINDICATOR_ID,\n    PAGEDATA_JOBSANDCLIENTS: PAGEDATA_JOBSANDCLIENTS,\n    GUIDATA_JOBSANDCLIENTS: GUIDATA_JOBSANDCLIENTS,\n    PAGEDATA_TIMESHEETS: PAGEDATA_TIMESHEETS,\n    GUIDATA_TIMESHEETS: GUIDATA_TIMESHEETS,\n    PAGEDATA_CONFIG: PAGEDATA_CONFIG,\n    GUIDATA_CONFIG: GUIDATA_CONFIG,\n    DATETYPE_YYMMDD: DATETYPE_YYMMDD,\n    DATETYPE_DDMMYY: DATETYPE_DDMMYY,\n    DATETYPE_MMDDYY: DATETYPE_MMDDYY,\n    DATETYPE_DEFAULT: DATETYPE_DEFAULT,\n    TIMESPAN_WEEK: TIMESPAN_WEEK,\n    TIMESPAN_MONTH: TIMESPAN_MONTH,\n    TIMESPAN_YEAR: TIMESPAN_YEAR,\n    TIMESPAN_DEFAULT: TIMESPAN_DEFAULT,\n    DAYSINWEEK: DAYSINWEEK,\n    DAYSINMONTH: DAYSINMONTH,\n    DAYSINYEAR: DAYSINYEAR,\n    CLASS_BTNNAV: CLASS_BTNNAV,\n    CLASS_FORMMAIN: CLASS_FORMMAIN,\n    CLASS_COL: CLASS_COL,\n    CLASS_ROW: CLASS_ROW,\n    EL_ID_COLHEADING: EL_ID_COLHEADING,\n    CLIENT_STR: CLIENT_STR,\n    JOB_STR: JOB_STR,\n    EL_ID_JOBNAMEIN: EL_ID_JOBNAMEIN,\n    EL_ID_CLIENTNAMEIN: EL_ID_CLIENTNAMEIN,\n    JOB_FG_COLPICK: JOB_FG_COLPICK,\n    JOB_BG_COLPICK: JOB_BG_COLPICK,\n    CLIENT_FG_COLPICK: CLIENT_FG_COLPICK,\n    CLIENT_BG_COLPICK: CLIENT_BG_COLPICK,\n    TXT_STORAGE_UNSUPPORTED: TXT_STORAGE_UNSUPPORTED,\n    JOB_DEFAULT_1: JOB_DEFAULT_1,\n    JOB_DEFAULT_2: JOB_DEFAULT_2,\n    CLIENT_DEFAULT_1: CLIENT_DEFAULT_1,\n    CLIENT_DEFAULT_2: CLIENT_DEFAULT_2,\n    CONTENTTYPE_CLIENTS: CONTENTTYPE_CLIENTS,\n    CONTENTTYPE_JOBS: CONTENTTYPE_JOBS,\n    DATATYPE_JOB: DATATYPE_JOB,\n    DATATYPE_CLIENT: DATATYPE_CLIENT,\n    EL_ID_CLIENTSAVEBTN: EL_ID_CLIENTSAVEBTN,\n    EL_ID_JOBSAVEBTN: EL_ID_JOBSAVEBTN,\n    EL_ID_SELECTCLIENT: EL_ID_SELECTCLIENT,\n    EL_ID_SELECTJOB: EL_ID_SELECTJOB,\n    SHOWTOTALS_WEEK: SHOWTOTALS_WEEK,\n    SHOWTOTALS_MONTH: SHOWTOTALS_MONTH,\n    SHOWTOTALS_BOTH: SHOWTOTALS_BOTH,\n    CLIENT_SELECT_PLACEHOLDER: CLIENT_SELECT_PLACEHOLDER,\n    JOB_SELECT_PLACEHOLDER: JOB_SELECT_PLACEHOLDER,\n    JOBNOTES_PLACEHOLDER: JOBNOTES_PLACEHOLDER,\n    MONEYNOTES_PLACEHOLDER: MONEYNOTES_PLACEHOLDER,\n    SHOWTOTALS_DEFAULT: SHOWTOTALS_DEFAULT\n  };\n\n\n}());\n","/*\n---------------------------------------------------------\n  Firm Gently\n  DontDillyDally\n  Mark Mayes 2016\n---------------------------------------------------------\n*/\n// create namespace: uk.co.firmgently\nvar uk = (uk !== undefined) ? uk : {};\nuk.co = (uk.co !== undefined) ? uk.co : {};\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\n//\nuk.co.firmgently.DontDillyDally = (function() {\n  \"use strict\";\n\n  /* ---------------------------------------------------------------------------\n\t\tdeclare / init vars\n\t--------------------------------------------------------------------------- */\n\tvar\n  // variables\n  prop, dateDisplayStart, dateDisplaySelected, dateToday, //timespanDisplay,\n  clientNameInput_el, jobNameInput_el, clientSaveBtn_el, jobSaveBtn_el,\n  colPickClientFG_el, colPickClientBG_el, colPickJobFG_el, colPickJobBG_el,\n  dayOfYear,\n\n\t// methods\n  doSetup, selectPage, drawPage, clearPage, drawGUIFromAr,\n  createFormFromOb, addTask,\n  callMethodFromObOnElement, callMethodFromOb, onFormClick,\n  drawTimesheets, getNextName, newClientCreate, newJobCreate,\n  navClick, onClientTyped, onJobTyped, onFormSubmit, onUpdateInput, onIsMoneyTaskChkChange,\n  dataStoragePossible, initDataObject, dataStoreObject, dataRetrieveObject,\n  dataUpdateObject, clientAndJobStyleSheet, createClientOrJobFromOb,\n  newClientFormSave, newJobFormSave, clientInputWasLastEmpty,\n  updateRefsToElements, updateSelected, addWorkItem, updateSavedWorkItem\n\t;\n\n\n  /* ---------------------------------------------------------------------------\n    create local references to public members from external sources\n\t--------------------------------------------------------------------------- */\n\n  // constants\n  for (prop in uk.co.firmgently.DDDConsts) {\n    this[prop] = uk.co.firmgently.DDDConsts[prop];\n  }\n\n  // general utility methods\n\tfor (prop in uk.co.firmgently.FGUtils) {\n\t\tthis[prop] = uk.co.firmgently.FGUtils[prop];\n\t}\n\n  // HTML/DOM creation methods\n\tfor (prop in uk.co.firmgently.FGHTMLBuild) {\n\t\tthis[prop] = uk.co.firmgently.FGHTMLBuild[prop];\n\t}\n\n\n\n  /* -----------------------------------------------------------------------------\n    data storage methods\n  ----------------------------------------------------------------------------- */\n\n  dataStoragePossible = function() {\n    if(typeof(Storage) === \"undefined\") {\n      logMsg(TXT_STORAGE_UNSUPPORTED);\n    } else {\n      return true;\n    }\n  };\n\n\n  initDataObject = function() {\n    // if no preferences are stored create some defaults\n    if (!dataRetrieveObject(\"prefs\")) {\n      dataStoreObject(\"prefs\", {\n        pagetype: PAGETYPE_DEFAULT,\n        timespan: TIMESPAN_DEFAULT,\n        dateFormat: DATETYPE_DEFAULT,\n        totalsToShow: SHOWTOTALS_DEFAULT\n      });\n      dataStoreObject(\"clientNum\", 0);\n      dataStoreObject(\"jobNum\", 0);\n\n      dataStoreObject(CLIENT_STR, {});\n      createClientOrJobFromOb(CLIENT_DEFAULT_1, DATATYPE_CLIENT);\n      createClientOrJobFromOb(CLIENT_DEFAULT_2, DATATYPE_CLIENT);\n\n      dataStoreObject(JOB_STR, {});\n      createClientOrJobFromOb(JOB_DEFAULT_1, DATATYPE_JOB);\n      createClientOrJobFromOb(JOB_DEFAULT_2, DATATYPE_JOB);\n\n      dataStoreObject(\"day\", {});\n    }\n  };\n\n\n  dataStoreObject = function(category, ob) {\n    localStorage.setItem(APP_ID + \"_\" + category, JSON.stringify(ob));\n  };\n\n\n  dataRetrieveObject = function(category) {\n    return JSON.parse(localStorage.getItem(APP_ID + \"_\" + category));\n  };\n\n\n  dataUpdateObject = function(category, key, value) {\n    var prop,\n    ob = dataRetrieveObject(category);\n    for (prop in ob) {\n      if (prop === key) {\n        ob[prop] = value;\n        break;\n      }\n    }\n    dataStoreObject(category, ob);\n  };\n\n\n\n\n\n  /* -----------------------------------------------------------------------------\n    setup methods\n  ----------------------------------------------------------------------------- */\n\n  doSetup = function() {\n    dateDisplayStart = new Date();\n    dateDisplaySelected = new Date();\n    dateToday = new Date();\n\n\n   localStorage.clear();\n\n\n    if(dataStoragePossible()) {\n      initDataObject();\n      drawGUIFromAr(GUIDATA_NAVMAIN);\n      if (location.hash) {\n        selectPage(decodeURIComponent(location.hash.substring(1)));\n      } else {\n        selectPage(dataRetrieveObject(\"prefs\").pagetype);\n      }\n    }\n  };\n\n\n  selectPage = function(pagetype) {\n    logMsg(\"selectPage('\" + pagetype + \"')\");\n    dataUpdateObject(\"prefs\", \"pagetype\", pagetype);\n    location.hash = pagetype;\n    clearPage();\n    setTimeout(drawPage, 100); // on timer to force reflow after clearPage()\n  };\n\n\n  clearPage = function() {\n    removeClassname(document.getElementById(LOADINGINDICATOR_ID), \"hidden\");\n    document.getElementById(\"main\").innerHTML = \"\";\n  };\n\n\n  drawPage = function() {\n    // var colHeading_el;\n    // clear any pre-created html content\n\n    switch (dataRetrieveObject(\"prefs\").pagetype) {\n      case PAGETYPE_TIMESHEETS:\n        document.body.id = BODYID_TIMESHEETS;\n        fillHTMLFromOb(PAGEDATA_TIMESHEETS);\n        drawGUIFromAr(GUIDATA_TIMESHEETS);\n        break;\n      case PAGETYPE_CONFIG:\n        document.body.id = BODYID_CONFIG;\n        fillHTMLFromOb(PAGEDATA_CONFIG);\n        drawGUIFromAr(GUIDATA_CONFIG);\n        break;\n      case PAGETYPE_JOBSANDCLIENTS:\n        document.body.id = BODYID_JOBSANDCLIENTS;\n        fillHTMLFromOb(PAGEDATA_JOBSANDCLIENTS);\n        drawGUIFromAr(GUIDATA_JOBSANDCLIENTS);\n        break;\n      default:\n        break;\n    }\n    updateRefsToElements();\n    addClassname(document.getElementById(LOADINGINDICATOR_ID), \"hidden\");\n  };\n\n\n  drawGUIFromAr = function(ar) {\n    var i, ob, el_temp;\n    for (i = 0; i < ar.length; i++) {\n      ob = ar[i];\n      switch (ob.type) {\n        case GUITYPE_BTN:\n          el_temp = createButtonFromOb(ob);\n          if (ob.methodPathStr) {\n            registerEventHandler(el_temp, \"mousedown\", callMethodFromObOnElement);\n          }\n          break;\n        case GUITYPE_FORM:\n          createFormFromOb(ob);\n          break;\n        case GUITYPE_TEXTINPUT:\n          el_temp = createInputFromOb(ob);\n          if (ob.methodPathStr) {\n            registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n            registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n            registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n            registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);\n          }\n          break;\n        case GUITYPE_SELECT:\n          el_temp = createSelectFromOb(ob);\n          if (ob.methodPathStr) {\n            registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n          }\n          break;\n        case GUITYPE_RADIOBTN:\n          // alert(dataRetrieveObject(\"prefs\").timespan);\n          // TODO this checkIfMatched should not be added here it should\n          // be included in main data higher up\n          ob.checkIfMatched = dataRetrieveObject(\"prefs\").timespan;\n          el_temp = createRadioFromOb(ob);\n          if (ob.methodPathStr) {\n            registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n          }\n          break;\n        case GUITYPE_UL:\n          addLIsFromOb(ob);\n          break;\n          // intentional rollthrough as they all do exactly the same thing\n        case GUITYPE_SECTION:\n        case GUITYPE_COL:\n        case GUITYPE_ROW:\n          createBasicElementFromOb(ob);\n          break;\n        case GUITYPE_COLORPICKER:\n          createColorPickerFromOb(ob);\n          break;\n        case GUITYPE_METHODCALL:\n          callMethodFromOb(ob);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n\n  createFormFromOb = function(ob) {\n    var\n    i, form_el,\n    parent_el = document.getElementById(ob.parent);\n\n    if (ob.id) {\n      form_el = createElementWithId(\"form\", ob.id);\n    } else {\n      form_el = document.createElement(\"form\");\n    }\n    parent_el.appendChild(form_el);\n\n    if (ob.class) { addClassname(form_el, ob.class); }\n    if (ob.title) { form_el.innerHTML = \"<h2>\" + ob.title + \"</h2>\"; }\n\n    if (ob.el_ar) { drawGUIFromAr(ob.el_ar); }\n\n    if (ob.hidden) { form_el.style.display = \"none\"; }\n\n    form_el.ob = ob;\n    registerEventHandler(form_el, \"submit\", onFormSubmit);\n    registerEventHandler(form_el, \"click\", onFormClick);\n\n\t\treturn form_el;\n  };\n\n\n  // addTask is called from the scope of the 'add task' button\n  addTask = function() {\n    addWorkItem(this.parentNode);\n  };\n\n\n  getNextName = function(type) {\n    var prefix, name, n;\n    if (type === DATATYPE_JOB) {\n      prefix = JOB_STR;\n    } else if (type === DATATYPE_CLIENT) {\n      prefix = CLIENT_STR;\n    }\n    n = 0 + (dataRetrieveObject(prefix + \"Num\")) + 1;\n    dataStoreObject(prefix + \"Num\", n);\n    return prefix + n;\n  };\n\n\n\n  /* ---------------------------------------------------------------------------\n\n\t--------------------------------------------------------------------------- */\n\n  createClientOrJobFromOb = function(ob, dataType) {\n    logMsg(\"createClientOrJobFromOb()\");\n    // create unique number to be used in object name/key\n    var\n    id, ar, n, prefix, newItemCSS_selector, //pluralName,\n    input_el,\n    colorPickerFGSelector, colorPickerBGSelector;\n\n    if (dataType === DATATYPE_CLIENT) {\n      input_el = document.getElementById(EL_ID_CLIENTNAMEIN);\n      prefix = CLIENT_STR;\n    } else if (dataType === DATATYPE_JOB) {\n      input_el = document.getElementById(EL_ID_JOBNAMEIN);\n      prefix = JOB_STR;\n    }\n    id = getNextName(dataType);\n    ob.id = id;\n    ob.class = id;\n\n    ar = dataRetrieveObject(prefix);\n    ar[ob.id] = ob;\n    dataStoreObject(prefix, ar);\n\n    newItemCSS_selector = \".\" + id + \", \" +\n      \".\" + id + \":hover, \" +\n      \".\" + id + \":active\";\n    addCSSRule(newItemCSS_selector, \"color\", ob.color);\n    addCSSRule(newItemCSS_selector, \"background-color\", ob.bgcolor);\n\n    if (dataType === DATATYPE_CLIENT) {\n      colorPickerFGSelector = \"#\" + CLIENT_FG_COLPICK;\n      colorPickerBGSelector = \"#\" + CLIENT_BG_COLPICK;\n    } else if (dataType === DATATYPE_JOB) {\n      colorPickerFGSelector = \"#\" + JOB_FG_COLPICK;\n      colorPickerBGSelector = \"#\" + JOB_BG_COLPICK;\n    }\n\n    addCSSRule(colorPickerFGSelector, \"background-color\", ob.color);\n    addCSSRule(colorPickerBGSelector, \"background-color\", ob.bgcolor);\n  };\n\n\n  callMethodFromObOnElement = function(event) {\n    // logMsg(\"callMethodFromObOnElement()\");\n    // logMsg(\"\\te.target.ob: \" + JSON.stringify(e.target.ob));\n    // logMsg(\"\\tthis: \" + this);\n    // event.target.ob.event = new event.constructor(event.type, event);\n    // logMsg(event);\n    callMethodFromOb(event.target.ob, event);\n  };\n\n\n  callMethodFromOb = function(ob, event) {\n    logMsg(\"callMethodFromOb()\");\n    // logMsg(\"\\tob: \" + JSON.stringify(ob));\n    var scope;\n/*    if (ob.scopeID !== undefined) {\n      scope = document.getElementById(ob.scopeID);\n    } else {\n      scope = undefined;\n    }*/\n\n    if (ob.scope) {\n      scope = ob.scope;\n    } else if (ob.scopeID) {\n      scope = document.getElementById(ob.scopeID);\n    } else {\n      scope = undefined;\n    }\n\n    logMsg(\"\\tob.methodPathStr: \" + ob.methodPathStr);\n    logMsg(\"\\tscope: \" + scope);\n\n    if (event) {\n      // logMsg(ob.args = event);\n      if (ob.args) {\n        ob.args.push(event);\n      } else {\n        ob.args = [event];\n      }\n    }\n\n    getFunctionFromString(ob.methodPathStr).apply(scope, ob.args);\n  };\n\n\n  onClientTyped = function() {\n    clientSaveBtn_el.disabled = clientNameInput_el.value.isEmpty();\n  };\n\n\n  onJobTyped = function() {\n    jobSaveBtn_el.disabled = jobNameInput_el.value.isEmpty();\n  };\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\t\tpage drawing methods\n\t--------------------------------------------------------------------------- */\n\n  drawTimesheets = function() {\n    var\n    i, j, daysToDraw, isOddDay, weekdayCur,\n    isToday, rowClassname,\n    day_el, date_el, workItem_el, dayDataContainer_el, hrs_el, client_el, job_el, jobnotes_el,\n    ob_temp, dayWorkItems,\n    weekStartDay = 1, // 0 = Sunday, 1 = Monday etc\n    parent_el = document.getElementById(TIMESHEETCONTAINER_ID),\n    // TODO timesheet should be <ul>\n    workingFragment = document.createDocumentFragment(),\n    allWorkItems = dataRetrieveObject(\"day\"),\n    dayCur = new Date();\n\n    switch(dataRetrieveObject(\"prefs\").timespan) {\n      case TIMESPAN_WEEK:\n        weekdayCur = dayCur.getDay(); // 0 = Sunday, 1 = Monday etc\n        dayCur.setDate(dayCur.getDate() - weekdayCur + weekStartDay); // gets first day of week\n        daysToDraw = DAYSINWEEK;\n        break;\n      case TIMESPAN_MONTH:\n        dayCur.setDate(1);\n        daysToDraw = dayCur.monthDays();\n        break;\n      case TIMESPAN_YEAR:\n        dayCur.setMonth(0);\n        dayCur.setDate(1);\n        daysToDraw = DAYSINYEAR;\n        if (dayCur.isLeapYear()) { daysToDraw += 1; }\n        break;\n      default:\n        break;\n    }\n\n    logMsg(\"daysToDraw: \" + daysToDraw);\n\n    isOddDay = false;\n    for (i = 0; i < daysToDraw; i++) {\n      dayOfYear = dayCur.getDOY();\n      rowClassname = \"day row \";\n      isToday = !Math.round(daysBetween(dayCur, dateToday));\n      if (isToday) { rowClassname += \"today \"; }\n      if (isOddDay) { rowClassname += \"odd \"; }\n      isOddDay = !isOddDay; // flip state\n      if (dayCur.getDay() === weekStartDay) { rowClassname += \"week-start \"; }\n      if (dayCur.getDate() === 1) { rowClassname += \"month-start \"; }\n      day_el = createElementWithId(\"li\", \"day\" + dayOfYear);\n      addClassname(day_el, rowClassname);\n      day_el.setAttribute(\"dayOfYear\", dayOfYear);\n      // create days in documentFragment to avoid unneccessary reflows\n      workingFragment.appendChild(day_el);\n\n      // date\n      date_el = document.createElement(\"p\");\n      addClassname(date_el, \"date col\");\n      date_el.innerHTML = dayCur.getWeekDay(1) + \"&nbsp;|&nbsp;\" + getFormattedDate(dayCur, DATETYPE_DEFAULT.label);\n      dayCur.setDate(dayCur.getDate() + 1);\n      day_el.appendChild(date_el);\n\n      dayDataContainer_el = document.createElement(\"ul\");\n      addClassname(dayDataContainer_el, \"day-data col\");\n      day_el.appendChild(dayDataContainer_el);\n\n      dayWorkItems = allWorkItems[dayOfYear];\n      if (dayWorkItems === undefined) {\n        addWorkItem(dayDataContainer_el);\n      } else {\n        for (j = 0; j < dayWorkItems.length; j++) {\n          addWorkItem(dayDataContainer_el);\n        }\n      }\n    }\n\n    parent_el.appendChild(workingFragment);\n  };\n\n\n  addWorkItem = function(dayDataContainer_el) {\n    var\n    hrs_el, money_el, ob_temp, el_temp,\n    itemID, workItem_el, dayOfYear, itemNum,\n    day_el = dayDataContainer_el.parentNode;\n\n    dayOfYear = day_el.getAttribute(\"dayOfYear\");\n    itemNum = dayDataContainer_el.children.length;\n    itemID = \"item\" + dayOfYear + \"_\" + itemNum;\n\n    workItem_el = createElementWithId(\"li\", itemID);\n    dayDataContainer_el.appendChild(workItem_el);\n\n    // hours/money\n    el_temp = createInputFromOb({\n      class: \"count hrs\",\n      parent: workItem_el,\n      attributes: {\n        \"type\": \"number\", \"value\": \"00\"\n      },\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.onUpdateInput\"\n    });\n    el_temp.ob.scope = el_temp;\n    //el_temp.id = itemID + \"_\" + \"Spinner\";\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);\n\n    // client select/dropdown\n    el_temp = createSelectFromOb({\n      contentType: CONTENTTYPE_CLIENTS,\n      placeholderText: CLIENT_SELECT_PLACEHOLDER,\n      options: dataRetrieveObject(CLIENT_STR),\n      parent: workItem_el,\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.updateSelected\",\n    });\n    el_temp.ob.scope = el_temp;\n    //el_temp.id = itemID + \"_\" + CLIENT_STR + \"Select\";\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n\n    // job select/dropdown\n    el_temp = createSelectFromOb({\n      contentType: CONTENTTYPE_JOBS,\n      placeholderText: JOB_SELECT_PLACEHOLDER,\n      options: dataRetrieveObject(JOB_STR),\n      parent: workItem_el,\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.updateSelected\"\n    });\n    el_temp.ob.scope = el_temp;\n    //el_temp.id = itemID + \"_\" + JOB_STR + \"Select\";\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n\n    // job/money notes\n    el_temp = createInputFromOb({\n      class: \"notes job\",\n      parent: workItem_el,\n      attributes: { \"type\": \"text\", \"placeholder\": JOBNOTES_PLACEHOLDER },\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.onUpdateInput\",\n      scopeID: itemID\n    });\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);\n\n  /*  // money\n    el_temp = createInputFromOb({\n      class: \"money\",\n      parent: workItem_el,\n      attributes: {\n        \"type\": \"number\", \"value\": \"00.00\",\n        \"min\":  \"0\", \"max\":  \"59\",\n        \"step\": \"15\", \"size\": \"5\"\n      },\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.onUpdateInput\"\n    });\n    el_temp.ob.scope = el_temp;\n    el_temp.id = itemID + \"_\" + \"Spinner\";\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);\n\n    // money notes\n    el_temp = createInputFromOb({\n      class: \"moneyNotes\",\n      parent: workItem_el,\n      attributes: { \"type\": \"text\", \"placeholder\": MONEYNOTES_PLACEHOLDER },\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.onUpdateInput\",\n      scopeID: itemID\n    });\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);*/\n\n    // 'remove task' button\n    el_temp = createButtonFromOb({\n      class: \"removeTaskBtn\",\n      label: \"-\",\n      parent: workItem_el,\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.removeTask\",\n      scopeID: itemID\n    });\n    registerEventHandler(el_temp, \"mousedown\", callMethodFromObOnElement);\n\n    // 'add task' button\n    el_temp = createButtonFromOb({\n      class: \"addTaskBtn\",\n      label: \"+\",\n      parent: workItem_el,\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.addTask\",\n      scopeID: itemID\n    });\n    registerEventHandler(el_temp, \"mousedown\", callMethodFromObOnElement);\n\n    // 'money/task' checkbox\n    el_temp = createCheckboxFromOb({\n      class: \"isMoneyTaskChk\",\n      label: \"money\",\n      parent: workItem_el,\n      checked: false,\n      //id: itemID + \"_\" + \"MoneyChk\",\n      methodPathStr: \"uk.co.firmgently.DontDillyDally.onIsMoneyTaskChkChange\",\n      scopeID: itemID\n    });\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n\n  };\n\n\n/*  updateColoursFromPickers = function(type, fgCol, bgCol) {\n\n  };\n\n*/\n\n  updateRefsToElements = function() {\n    clientNameInput_el = document.getElementById(EL_ID_CLIENTNAMEIN);\n    clientSaveBtn_el = document.getElementById(EL_ID_CLIENTSAVEBTN);\n    colPickClientFG_el = document.getElementById(CLIENT_FG_COLPICK);\n    colPickClientBG_el = document.getElementById(CLIENT_BG_COLPICK);\n    jobNameInput_el = document.getElementById(EL_ID_JOBNAMEIN);\n    jobSaveBtn_el = document.getElementById(EL_ID_JOBSAVEBTN);\n    colPickJobFG_el = document.getElementById(JOB_FG_COLPICK);\n    colPickJobBG_el = document.getElementById(JOB_BG_COLPICK);\n  };\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\t\tFORMS\n\t--------------------------------------------------------------------------- */\n\n\n\n\n  onFormClick = function(e) {\n    var form = e.target.form;\n    if (form && form.id) {\n      switch (form.id) {\n        case \"configForm\":\n          dataUpdateObject(\"prefs\", \"timespan\", form.timesheetRange.value);\n          // dateFormat is an object, the form just stores the name of it so grab it here\n          dataUpdateObject(\"prefs\", \"dateFormat\", uk.co.firmgently.DDDConsts[form.dateFormat.value]);\n          dataUpdateObject(\"prefs\", \"totalsToShow\", form.totalsToShow.value);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n\n  onFormSubmit = function(e) {\n    logMsg(\"FORM SUBMITTED\");\n    stopPropagation(e);\n  };\n\n\n  onUpdateInput = function(event) {\n    logMsg(this);\n    logMsg(event);\n  };\n\n\n  onIsMoneyTaskChkChange = function() {\n    var\n    checkbox = this.getElementsByClassName(\"isMoneyTaskChk\")[0],\n    countInput = this.getElementsByClassName(\"count\")[0],\n    notesInput = this.getElementsByClassName(\"notes\")[0];\n    if (checkbox.checked) {\n      addClassname(countInput, \"money\");\n      removeClassname(countInput, \"hrs\");\n      addClassname(notesInput, \"money\");\n      removeClassname(notesInput, \"job\");\n      notesInput.placeholder = MONEYNOTES_PLACEHOLDER;\n    } else {\n      addClassname(countInput, \"hrs\");\n      removeClassname(countInput, \"money\");\n      addClassname(notesInput, \"job\");\n      removeClassname(notesInput, \"money\");\n      notesInput.placeholder = JOBNOTES_PLACEHOLDER;\n    }\n    logMsg(\"\\tcheckbox: \" + checkbox);\n    logMsg(\"\\tinput: \" + notesInput);\n    logMsg(\"\\tinput.id: \" + notesInput.id);\n  };\n\n\n  newClientCreate = function() {\n    var\n    fgCol = getRandomHexColor(\"dark\"),\n    bgCol = getRandomHexColor(\"light\");\n    logMsg(\"newClientCreate()\");\n    document.getElementById(EL_ID_CLIENTNAMEIN).value = getNextName(DATATYPE_CLIENT);\n    addCSSRule(\"#\" + CLIENT_FG_COLPICK, \"background-color\", fgCol);\n    addCSSRule(\"#\" + CLIENT_BG_COLPICK, \"background-color\", bgCol);\n    addCSSRule(\"#\" + EL_ID_CLIENTNAMEIN, \"color\", fgCol);\n    addCSSRule(\"#\" + EL_ID_CLIENTNAMEIN, \"background-color\", bgCol);\n\n    clientSaveBtn_el.disabled = false;\n    updateRefsToElements();\n  };\n\n\n  newJobCreate = function() {\n    var\n    fgCol = getRandomHexColor(\"light\"),\n    bgCol = getRandomHexColor(\"dark\");\n    logMsg(\"newJobCreate()\");\n\n    document.getElementById(EL_ID_JOBNAMEIN).value = getNextName(DATATYPE_JOB);\n    addCSSRule(\"#\" + JOB_FG_COLPICK, \"background-color\", fgCol);\n    addCSSRule(\"#\" + JOB_BG_COLPICK, \"background-color\", bgCol);\n    addCSSRule(\"#\" + EL_ID_JOBNAMEIN, \"color\", fgCol);\n    addCSSRule(\"#\" + EL_ID_JOBNAMEIN, \"background-color\", bgCol);\n\n    jobSaveBtn_el.disabled = false;\n    updateRefsToElements();\n  };\n\n\n  newClientFormSave = function() {\n    createClientOrJobFromOb({\n      name: document.getElementById(EL_ID_CLIENTNAMEIN).value,\n      color: getStyle(colPickClientFG_el, \"background-color\"),\n      bgcolor: getStyle(colPickClientBG_el, \"background-color\")\n    }, DATATYPE_CLIENT);\n    drawPage();\n  };\n\n\n  newJobFormSave = function() {\n    createClientOrJobFromOb({\n      name: document.getElementById(EL_ID_JOBNAMEIN).value,\n      color: getStyle(colPickJobFG_el, \"background-color\"),\n      bgcolor: getStyle(colPickJobBG_el, \"background-color\")\n    }, DATATYPE_JOB);\n    drawPage();\n  };\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\n\t--------------------------------------------------------------------------- */\n\n\n  navClick = function(e) {\n    selectPage(arguments[0]);\n  };\n\n\n  updateSavedWorkItem = function(workItem_el) {\n    var\n    dayOfYear = workItem_el.getAttribute(\"dayOfYear\"),\n    itemNum = workItem_el.getAttribute(\"itemNum\");\n  };\n\n\n  updateSelected = function() {\n    var\n    day_ar, workItem_ar, day_ob,\n    //select_selector = \"#\" + this.id,\n    option_selector = this.value,\n    pageType = dataRetrieveObject(\"prefs\").pagetype,\n    workItem_el = this.parentNode,\n    day_el = this.parentNode.parentNode,\n    dayOfYear = day_el.getAttribute(\"dayOfYear\");\n\n    //logMsg(\"\\tthis: \" + this);\n\n    switch (pageType) {\n      case PAGETYPE_TIMESHEETS: // run on to next case\n      case PAGETYPE_JOBSANDCLIENTS:\n        this.className = option_selector;\n        //if (this.id.toUpperCase().indexOf(CLIENT_STR.toUpperCase()) !=-1) {\n          //addClassname(this, \"client1\");\n          //addCSSRule(select_selector, \"color\", dataRetrieveObject(CLIENT_STR)[option_selector].color);\n          //addCSSRule(select_selector, \"background-color\", dataRetrieveObject(CLIENT_STR)[option_selector].bgcolor);\n        //} else {\n          //addClassname(this, \"job1\");\n          //addCSSRule(select_selector, \"color\", dataRetrieveObject(JOB_STR)[option_selector].color);\n          //addCSSRule(select_selector, \"background-color\", dataRetrieveObject(JOB_STR)[option_selector].bgcolor);\n        //}\n        break;\n      case PAGETYPE_CONFIG:\n        break;\n      default:\n        break;\n    }\n    if (pageType === PAGETYPE_TIMESHEETS) {\n      day_ar = dataRetrieveObject(\"day\");\n      day_ob = day_ar[dayOfYear];\n      if (day_ob === undefined) {\n        day_ob = { work: [] };\n      }\n      workItem_ar = day_ob.work;\n      // TODO this test data should be shown on the page\n      workItem_ar.push({\n        time: \"02:30\",\n        client: \"test client\",\n        job: \"test job\",\n        jobNotes: \"painting the edges\",\n        money: -50,\n        moneyNotes: \"bought canvas REceipt no.11234\"\n      });\n      day_ar[dayOfYear] = day_ob;\n      dataStoreObject(\"day\", day_ar);\n    }\n/*    if (e.target.id === EL_ID_SELECTCLIENT) {\n\n    } else if (e.target.id === EL_ID_SELECTJOB) {\n\n    }*/\n  };\n\n\n\n\t/* ---------------------------------------------------------------------------\n\t\tBEGIN...\n\t--------------------------------------------------------------------------- */\n\n  doSetup();\n\n  return {\n    drawTimesheets: drawTimesheets,\n    addTask: addTask,\n    navClick: navClick,\n    newClientCreate: newClientCreate,\n    newJobCreate: newJobCreate,\n    newClientFormSave: newClientFormSave,\n    newJobFormSave: newJobFormSave,\n    updateSelected: updateSelected,\n    onUpdateInput: onUpdateInput,\n    onIsMoneyTaskChkChange: onIsMoneyTaskChkChange,\n    onClientTyped: onClientTyped\n  };\n\n\n// 'this' would be undefined because of \"use strict\",\n// calling the function with .call(this) fixes it\n}).call(this);\n"]}