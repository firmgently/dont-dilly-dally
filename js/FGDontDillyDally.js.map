{"version":3,"sources":["FGUtils.js","FGHTMLBuild.js","DDDConsts.js","DontDillyDally.js"],"names":["uk","undefined","co","firmgently","FGUtils","addCSSRule","getIEVersion","isTouchDevice","registerEventHandler","unregisterEventHandler","stopPropagation","hexOpacityToRGBA","getRandomHexColor","createElementWithId","removeClassname","addClassname","getStyle","treatAsUTC","daysBetween","getFormattedDate","logMsg","String","prototype","isEmpty","this","test","Storage","setObject","key","value","setItem","JSON","stringify","getObject","getItem","parse","Date","monthDays","getFullYear","getMonth","getDate","isLeapYear","year","getDOY","dayCount","mn","dn","dayOfYear","getWeekDay","length","ret","getDay","substring","e","preventDefault","cancelBubble","returnValue","node","event","handler","useCapture","addEventListener","attachEvent","removeEventListener","detachEvent","hexColour","opacity","r","g","b","parseInt","tone","hexString","Math","floor","random","toString","toUpperCase","elType","id","el","document","createElement","element","name","className","replace","selector","property","newValue","i","curStyleSheet","totalStyleSheets","styleSheets","newStyle","insertRule","cssRules","err1","addRule","err2","date","format","getUTCFullYear","substr","getUTCDate","slice","getUTCMonth","styleProp","style","currentStyle","window","getComputedStyle","defaultView","getPropertyValue","msg","console","log","v","div","all","getElementsByTagName","innerHTML","undef","navigator","MaxTouchPoints","msMaxTouchPoints","result","setMinutes","getMinutes","getTimezoneOffset","startDate","endDate","FGHTMLBuild","fillHTMLFromOb","createButtonFromOb","createRadioFromOb","createInputFromOb","createSelectFromOb","addLIsFromOb","createBasicElementFromOb","createColorPickerFromOb","ob","prop","getElementById","button_el","parent_el","parent","appendChild","class","label","disabled","input_el","label_el","htmlFor","attributes","setAttribute","select_el","option_el","clientOrJob_ob","contentType","options","Option","bgcolor","color","radio_el","checkIfMatched","checked","li_el","UL_el","EL_ID_COLHEADING","CLASS_ROW","ar","type","GUITYPE_COL","GUITYPE_ROW","GUITYPE_SECTION","DDDConsts","DATETYPE_DDMMYY","APP_ID","GUIDATA_NAVMAIN","methodName","args","scopeID","ulID","PAGETYPE_TIMESHEETS","PAGETYPE_CONFIG","PAGETYPE_JOBSANDCLIENTS","PAGETYPE_DEFAULT","BODYID_TIMESHEETS","BODYID_CONFIG","BODYID_JOBSANDCLIENTS","GUITYPE_BTN","GUITYPE_RADIOBTN","GUITYPE_FORM","GUITYPE_SELECT","GUITYPE_TEXTINPUT","GUITYPE_METHODCALL","GUITYPE_COLORPICKER","GUITYPE_UL","TIMESHEETCONTAINER_ID","LOADINGINDICATOR_ID","PAGEDATA_JOBSANDCLIENTS","pageTitle","intro","GUIDATA_JOBSANDCLIENTS","title","el_ar","hidden","PAGEDATA_TIMESHEETS","GUIDATA_TIMESHEETS","PAGEDATA_CONFIG","GUIDATA_CONFIG","DATETYPE_MMDDYY","DATETYPE_YYMMDD","timespanWeek","timespanMonth","timespanYear","showTotalsWeek","showTotalsMonth","showTotalsWeekAndMonth","DATETYPE_DEFAULT","TIMESPAN_WEEK","TIMESPAN_MONTH","TIMESPAN_YEAR","TIMESPAN_DEFAULT","DAYSINWEEK","DAYSINMONTH","DAYSINYEAR","CLASS_BTNNAV","CLASS_FORMMAIN","CLASS_COL","CLIENT_STR","JOB_STR","EL_ID_JOBNAMEIN","EL_ID_CLIENTNAMEIN","JOB_FG_COLPICK","JOB_BG_COLPICK","CLIENT_FG_COLPICK","CLIENT_BG_COLPICK","TXT_STORAGE_UNSUPPORTED","JOB_DEFAULT_1","JOB_DEFAULT_2","CLIENT_DEFAULT_1","CLIENT_DEFAULT_2","CONTENTTYPE_CLIENTS","CONTENTTYPE_JOBS","DATATYPE_JOB","DATATYPE_CLIENT","EL_ID_CLIENTSAVEBTN","EL_ID_JOBSAVEBTN","EL_ID_SELECTCLIENT","EL_ID_SELECTJOB","SHOWTOTALS_WEEK","SHOWTOTALS_MONTH","SHOWTOTALS_BOTH","SHOWTOTALS_DEFAULT","DontDillyDally","dateDisplayStart","dateDisplaySelected","dateToday","clientNameInput_el","jobNameInput_el","clientSaveBtn_el","jobSaveBtn_el","colPickClientFG_el","colPickClientBG_el","colPickJobFG_el","colPickJobBG_el","doSetup","selectPage","drawPage","clearPage","drawGUIFromAr","createFormFromOb","addTask","callMethodFromObOnElement","callMethodFromOb","onFormClick","drawTimesheets","getNextName","newClientCreate","newJobCreate","navClick","onClientTyped","onJobTyped","onFormSubmit","dataStoragePossible","initDataObject","dataStoreObject","dataRetrieveObject","dataUpdateObject","clientAndJobStyleSheet","createClientOrJobFromOb","newClientFormSave","newJobFormSave","clientInputWasLastEmpty","updateRefsToElements","updateSelected","addWorkItem","updateSavedWorkItem","pagetype","timespan","dateFormat","totalsToShow","category","localStorage","clear","location","hash","decodeURIComponent","setTimeout","body","el_temp","form_el","display","parentNode","prefix","n","dataType","newItemCSS_selector","colorPickerFGSelector","colorPickerBGSelector","target","scope","eval","apply","j","daysToDraw","isOddDay","weekdayCur","rowClassname","day_el","date_el","workItemCol_el","dayWorkItems","workingFragment","createDocumentFragment","allWorkItems","dayCur","setDate","setMonth","round","dayNum","itemNum","itemID","workItem_el","min","max","step","size","form","timesheetRange","fgCol","bgCol","arguments","getAttribute","day_ar","day_ob","select_selector","option_selector","pageType","indexOf","work","push","time","client","job","jobNotes","money","moneyNotes","call"],"mappings":"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","file":"FGDontDillyDally.js","sourcesContent":["/*\r\n---------------------------------------------------------\r\n  Firm Gently Utilities\r\n  Mark Mayes 2016\r\n---------------------------------------------------------\r\n*/\r\n// create namespace: uk.co.firmgently\r\nvar uk = (uk !== undefined) ? uk : {};\r\nuk.co = (uk.co !== undefined) ? uk.co : {};\r\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\r\n//\r\nuk.co.firmgently.FGUtils = (function() {\r\n\t\"use strict\";\r\n\r\n\tvar\r\n\taddCSSRule, getIEVersion, isTouchDevice,\r\n\tregisterEventHandler, unregisterEventHandler, stopPropagation,\r\n\thexOpacityToRGBA, getRandomHexColor, createElementWithId,\r\n\tremoveClassname, addClassname, getStyle,\n  treatAsUTC, daysBetween, getFormattedDate,\n\tlogMsg;\r\n\r\n\n  /* -------------------------------------------------------------------------------\n  \textend some global objects\n  ---------------------------------------------------------------------------------- */\n\n\tString.prototype.isEmpty = function() {\n\t\treturn (!this || /^\\s*$/.test(this));\n\t};\n\n\n\n  Storage.prototype.setObject = function(key, value) {\n    this.setItem(key, JSON.stringify(value));\n  };\n\n\n/*\n  http://stackoverflow.com/questions/2010892/storing-objects-in-html5-localstorage\n  Because of short-circuit evaluation, getObject() will immediately return null\n  if key is not in Storage. It also will not throw a SyntaxError exception if\n  value is \"\" (the empty string; JSON.parse() cannot handle that). */\n  Storage.prototype.getObject = function(key) {\n      var value = this.getItem(key);\n      return value && JSON.parse(value);\n  };\n\n\n\n\t// http://stackoverflow.com/questions/1184334/get-number-days-in-a-specified-month-using-javascript\n\tDate.prototype.monthDays= function() {\n\t    var d = new Date(this.getFullYear(), this.getMonth() + 1, 0);\n\t    return d.getDate();\n\t};\n\n\n\t// http://stackoverflow.com/questions/8619879/javascript-calculate-the-day-of-the-year-1-366\n\tDate.prototype.isLeapYear = function() {\n\t    var year = this.getFullYear();\n\t    if ((year & 3) !== 0) { return false; }\n\t    return ((year % 100) !== 0 || (year % 400) === 0);\n\t};\n\n\t//http://stackoverflow.com/questions/8619879/javascript-calculate-the-day-of-the-year-1-366\n\t// Get Day of Year\n\tDate.prototype.getDOY = function() {\n\t    var dayCount = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n\t    var mn = this.getMonth();\n\t    var dn = this.getDate();\n\t    var dayOfYear = dayCount[mn] + dn;\n\t    if(mn > 1 && this.isLeapYear()) dayOfYear++;\n\t    return dayOfYear;\n\t};\n\n\tDate.prototype.getWeekDay = function(length) {\n\t    var ret,\n\t\t\t\t\tweekday = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n\n\t\t\tret = weekday[this.getDay()];\n\t\t\tif (length > 0) { ret = ret.substring(0, length);\t}\n\n\t    return ret;\n\t};\n\n\n\t/* -------------------------------------------------------------------------------\n\t\tgeneral helpers\n\t---------------------------------------------------------------------------------- */\n\r\n\t// prevent bubbling/propagation/default events (image drag and drop etc)\r\n\t// also when showing another image on click we don't want the event to bubble\r\n\t// up to its container, as a click on the container closes the overlay\r\n\tstopPropagation = function(e) {\r\n    if (e.preventDefault) { e.preventDefault(); }\r\n    if (e.stopPropagation) { e.stopPropagation(); }\r\n    e.cancelBubble = true;\r\n    e.returnValue = false;\r\n    return false;\r\n\t};\r\n\r\n\r\n\tregisterEventHandler = function(node, event, handler, useCapture) {\r\n    useCapture = (useCapture === undefined) ? false : useCapture;\r\n    if (typeof node.addEventListener === \"function\") {\r\n      node.addEventListener(event, handler, useCapture);\r\n    } else {\r\n      node.attachEvent(\"on\" + event, handler);\r\n    }\r\n\t\t// logMsg(\"node: \" + node);\r\n\t\t// logMsg(\"event: \" + event);\r\n\t\t// logMsg(\"handler: \" + handler);\r\n  };\r\n\r\n\r\n\tunregisterEventHandler = function(node, event, handler, useCapture) {\r\n    useCapture = (useCapture === undefined) ? false : useCapture;\r\n    if (typeof node.removeEventListener === \"function\") {\r\n      node.removeEventListener(event, handler, useCapture);\r\n    } else {\r\n      node.detachEvent(\"on\" + event, handler);\r\n    }\r\n  };\r\n\r\n\r\n  hexOpacityToRGBA = function(hexColour, opacity) {\r\n    var r, g, b;\r\n    r = parseInt(hexColour.substring(0,2), 16);\r\n    g = parseInt(hexColour.substring(2,4), 16);\r\n    b = parseInt(hexColour.substring(4,6), 16);\r\n    return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + opacity + \")\";\r\n  };\r\n\r\n\r\n\tgetRandomHexColor = function(tone) {\r\n\t\t// Based on http://www.paulirish.com/2009/random-hex-color-code-snippets/\r\n\t\tvar full = 16777215, mid = 8388607, third = 5592405, smalln = 1864135, hexString;\r\n\t\tif (tone === undefined) {\r\n\t\t\thexString = '#' + Math.floor(Math.random()*full).toString(16);\r\n\t\t} else if (tone.toUpperCase() === \"LIGHT\") {\r\n\t\t\thexString = '#' + Math.floor(full - Math.random()*third).toString(16);\r\n\t\t} else if (tone.toUpperCase() === \"DARK\") {\r\n\t\t\thexString = '#' + Math.floor(Math.random()*smalln).toString(16);\r\n\t\t}\r\n\t\treturn hexString;\r\n\t};\r\n\r\n\r\n  createElementWithId = function(elType, id) {\r\n    var el = document.createElement(elType);\r\n\t\tel.id = id;\r\n    return el;\r\n  };\r\n\r\n\r\n  removeClassname = function(element, name) {\r\n    element.className = element.className.replace(\" \" + name,\"\");\r\n  };\r\n\r\n\r\n  addClassname = function(element, name) {\r\n    name = \" \" + name;\r\n    element.className = element.className.replace(name,\"\");\r\n    element.className = element.className + name;\r\n  };\r\n\r\n\r\n\taddCSSRule = function(selector, property, newValue) {\r\n\t\t// logMsg(\"selector: \" + selector);\r\n\t\t// logMsg(\"property: \" + property);\r\n\t\t// logMsg(\"newValue: \" + newValue);\r\n\t\tvar\ti, curStyleSheet,\r\n\t\t\ttotalStyleSheets = document.styleSheets.length,\r\n\t\t\tnewStyle = property + \": \" + newValue;\r\n\t\tfor (i = 0; i < totalStyleSheets; i++) {\r\n\t\t\tcurStyleSheet = document.styleSheets[i];\r\n\t\t\t// logMsg(\"curStyleSheet: \" + curStyleSheet);\r\n\t\t\ttry {\r\n\t\t\t\tcurStyleSheet.insertRule(selector + \" {\" + newStyle + \"}\", curStyleSheet.cssRules.length);\r\n\t\t\t} catch(err1) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tcurStyleSheet.addRule(selector, newStyle);\r\n\t\t\t\t} catch(err2) {}\r\n\t\t\t}\r\n\t\t}\r\n\t};\n\n\n\tgetFormattedDate = function(date, format) {\n\t\tvar dateString;\n\t\tformat = format.replace(\"yy\", date.getUTCFullYear().toString().substr(-2));\n\t\tformat = format.replace(\"dd\", (\"0\" + (date.getUTCDate())).slice(-2));\n\t\tformat = format.replace(\"mm\", (\"0\" + (date.getUTCMonth()+1)).slice(-2));\n\t\treturn format;\n\t\t// =\n\t\t//   date.getUTCFullYear() +\"/\"+\n\t\t//   (\"0\" + (date.getUTCMonth()+1)).slice(-2) +\"/\"+\n\t\t//   (\"0\" + date.getUTCDate()).slice(-2);\n\t};\n\n\n\tgetStyle = function(el, styleProp) {\n\t\tvar style;\n\t\tif (el.currentStyle) {\n\t\t\tstyle = el.currentStyle[styleProp];\n\t\t} else if (window.getComputedStyle) {\n\t\t\tstyle = document.defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\n\t\t}\n\t\treturn style;\n\t};\n\r\n\r\n\tlogMsg = function(msg) {\r\n    console.log(msg);\r\n  };\n\n\n\t// ----------------------------------------------------------\n  // A short snippet for detecting versions of IE in JavaScript\n  // without resorting to user-agent sniffing\n  // http://james.padolsey.com/javascript/detect-ie-in-js-using-conditional-comments/\n  // ----------------------------------------------------------\n  // If you're not in IE (or IE version is less than 5) then:\n  //     getIEVersion() === undefined\n  // If you're in IE (>=5) then you can determine which version:\n  //     getIEVersion() === 7; // IE7\n  // Thus, to detect IE:\n  //     if (getIEVersion()) {}\n  // And to detect the version:\n  //     getIEVersion() === 6 // IE6\n  //     getIEVersion() > 7 // IE8, IE9 ...\n  //     getIEVersion() < 9 // Anything less than IE9\n  // ----------------------------------------------------------\n\n  // UPDATE: Now using Live NodeList idea from @jdalton\n  getIEVersion = function(){\n    var undef,\n      v = 3,\n      div = document.createElement('div'),\n      all = div.getElementsByTagName('i');\n\n    while (\n      div.innerHTML = '<!--[if gt IE ' + (++v) + ']><i></i><![endif]-->',\n      all[0]\n    );\n\n    return v > 4 ? v : undef;\n  };\n\n\n\tisTouchDevice = function() {\n    // window.alert(\"ontouchstart in window: \" + ('ontouchstart' in window) );\n    // window.alert(\"onmsgesturechange in window: \" + ('onmsgesturechange' in window) );\n    // return 'ontouchstart' in window || 'onmsgesturechange' in window;\n\n     return (('ontouchstart' in window) || (navigator.MaxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0));\n  };\n\n\n  // http://stackoverflow.com/questions/542938/how-do-i-get-the-number-of-days-between-two-dates-in-javascript\n  treatAsUTC = function(date) {\n    var result = new Date(date);\n    result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\n    return result;\n  };\n  daysBetween = function(startDate, endDate) {\n      var msPerDay = 24 * 60 * 60 * 1000;\n      return (treatAsUTC(endDate) - treatAsUTC(startDate)) / msPerDay;\n  };\n\r\n\r\n\r\n\r\n\treturn {\r\n\t\t/*\r\n\t\t---------------------------------------------------------\r\n\t\t\t\t\t\t\t\tPUBLIC\r\n\t\t---------------------------------------------------------\r\n\t\t*/\r\n\t\tregisterEventHandler: registerEventHandler,\r\n\t\tunregisterEventHandler: unregisterEventHandler,\r\n\t\tstopPropagation: stopPropagation,\r\n\t\tremoveClassname: removeClassname,\r\n\t\taddClassname: addClassname,\r\n\t\taddCSSRule: addCSSRule,\r\n\t\thexOpacityToRGBA: hexOpacityToRGBA,\r\n\t\tgetRandomHexColor: getRandomHexColor,\r\n\t\tcreateElementWithId: createElementWithId,\r\n\t\tgetFormattedDate: getFormattedDate,\n\t\ttreatAsUTC: treatAsUTC,\n\t\tdaysBetween: daysBetween,\n\t\tlogMsg: logMsg,\n\t\tgetIEVersion: getIEVersion,\n\t\tgetStyle: getStyle,\n\t\tisTouchDevice: isTouchDevice\n\t};\r\n\r\n}());\r\n","/*\r\n---------------------------------------------------------\r\n  Firm Gently Utilities\r\n  Mark Mayes 2016\r\n---------------------------------------------------------\r\n*/\r\n// create namespace: uk.co.firmgently\r\nvar uk = (uk !== undefined) ? uk : {};\r\nuk.co = (uk.co !== undefined) ? uk.co : {};\r\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\r\n//\r\nuk.co.firmgently.FGHTMLBuild = (function() {\r\n\t\"use strict\";\r\n\r\n\tvar\r\n\tfillHTMLFromOb,\r\n\tcreateButtonFromOb, createRadioFromOb,\r\n\tcreateInputFromOb, createSelectFromOb,\r\n\tcreateFormFromOb,\r\n\taddLIsFromOb, createBasicElementFromOb, createColorPickerFromOb\r\n\r\n\t// callMethodFromObOnElement = uk.co.firmgently.DontDillyDally.callMethodFromObOnElement,\r\n\t// callMethodFromOb = uk.co.firmgently.DontDillyDally.callMethodFromOb;\r\n\t// callMethodFromObOnElement;\r\n\t;\r\n\r\n\r\n\tfillHTMLFromOb = function(ob) {\r\n    for (var prop in ob) {\r\n      document.getElementById(prop).innerHTML = ob[prop];\r\n    }\r\n  };\r\n\r\n\r\n\t/* -----------------------------------------------------------------------------\r\n    create individual specific elements\r\n  ----------------------------------------------------------------------------- */\r\n\r\n  createButtonFromOb = function(ob) {\r\n    var\r\n    button_el,\r\n    // ob.parent can be the ID(string) of the parent\r\n    // or a reference to the HTML node/element itself\r\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\r\n\r\n    if (ob.id) {\r\n      button_el = createElementWithId(\"button\", ob.id);\r\n    } else {\r\n      button_el = document.createElement(\"button\");\r\n    }\r\n    parent_el.appendChild(button_el);\r\n\r\n    if (ob.class) { addClassname(button_el, ob.class); }\r\n    button_el.innerHTML = ob.label;\r\n    button_el.ob = ob;\r\n    // registerEventHandler(button_el, \"mousedown\", uk.co.firmgently.DontDillyDally.callMethodFromObOnElement);\r\n\r\n    if (ob.disabled) { button_el.disabled = ob.disabled; }\r\n\r\n\t\treturn button_el;\r\n  };\r\n\r\n\r\n  createInputFromOb = function(ob) {\r\n    var\r\n    prop, input_el, label_el,\r\n    innerHTML = \"\",\r\n    // parent_el = document.getElementById(ob.parent);\r\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\r\n\r\n    // logMsg(\"ob.parent: \" + ob.parent);\r\n    // logMsg(\"parent_el: \" + parent_el);\r\n    // logMsg(\"typeof ob.parent: \" + typeof ob.parent);\r\n\r\n    if (ob.id) {\r\n      if (ob.label) {\r\n        label_el = document.createElement(\"label\");\r\n        label_el.innerHTML = ob.label;\r\n        parent_el.appendChild(label_el);\r\n        label_el.htmlFor = ob.id;\r\n      }\r\n      input_el = createElementWithId(\"input\", ob.id);\r\n      input_el.name = ob.id;\r\n      input_el.id = ob.id;\r\n    } else {\r\n      input_el = document.createElement(\"input\");\r\n    }\r\n    if (ob.class) { addClassname(input_el, ob.class); }\r\n    parent_el.appendChild(input_el);\r\n\r\n    if (ob.attributes) {\r\n      for (prop in ob.attributes) {\r\n        input_el.setAttribute(\"\" + prop, \"\" + ob.attributes[prop]);\r\n      }\r\n    }\r\n\r\n    input_el.ob = ob;\r\n\r\n    // if (ob.methodName !== undefined) {\r\n    //   registerEventHandler(input_el, \"change\", uk.co.firmgently.DontDillyDally.callMethodFromObOnElement);\r\n    //   registerEventHandler(input_el, \"keyup\", uk.co.firmgently.DontDillyDally.callMethodFromObOnElement);\r\n    //   registerEventHandler(input_el, \"paste\", uk.co.firmgently.DontDillyDally.callMethodFromObOnElement);\r\n    //   registerEventHandler(input_el, \"input\", uk.co.firmgently.DontDillyDally.callMethodFromObOnElement);\r\n    // }\r\n\r\n\t\treturn input_el;\r\n  };\r\n\r\n\r\n  createSelectFromOb = function(ob) {\r\n    var\r\n    i, prop, select_el, label_el, option_el, clientOrJob_ob,\r\n    dayPrefix,\r\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\r\n\r\n    if (ob.id) {\r\n      if (ob.label) {\r\n        label_el = document.createElement(\"label\");\r\n        label_el.innerHTML = ob.label;\r\n        parent_el.appendChild(label_el);\r\n        label_el.htmlFor = ob.id;\r\n      }\r\n      select_el = createElementWithId(\"select\", ob.id);\r\n      select_el.name = ob.id;\r\n      select_el.id = ob.id;\r\n    } else {\r\n      select_el = document.createElement(\"select\");\r\n    }\r\n    if (ob.class) { addClassname(select_el, ob.class); }\r\n    parent_el.appendChild(select_el);\r\n\r\n    select_el.setAttribute(\"size\", \"1\"); // HACK maybe to allow styling of individual options\r\n\r\n    if (ob.contentType) { // clients / jobs options get treated differently to normal options\r\n/*      if (ob.contentType === CONTENTTYPE_CLIENTS) {\r\n        ob.options = ob.clientOptions;\r\n      } else if (ob.contentType === CONTENTTYPE_JOBS) {\r\n        ob.options = ob.jobOptions;\r\n      }*/\r\n\t\t\t// logMsg(\"ob.options:\");\r\n      for (prop in ob.options) {\r\n        clientOrJob_ob = ob.options[prop];\r\n\t\t\t\t// logMsg(JSON.stringify(clientOrJob_ob));\r\n        option_el = select_el.options[select_el.options.length] = new Option(clientOrJob_ob.name, clientOrJob_ob.class);\r\n        addClassname(option_el, clientOrJob_ob.class);\r\n        addCSSRule(\".\" + clientOrJob_ob.class, \"background-color\", clientOrJob_ob.bgcolor);\r\n        addCSSRule(\".\" + clientOrJob_ob.class, \"color\", clientOrJob_ob.color);\r\n      }\r\n    } else { // normal options\r\n      for (prop in ob.options) {\r\n        select_el.options[select_el.options.length] = new Option(ob.options[prop], prop);\r\n      }\r\n    }\r\n\r\n    select_el.ob = ob;\r\n    // select_el.ob.methodName = \"updateSelected\";\r\n    // if (ob.methodName) {\r\n    //   registerEventHandler(select_el, \"change\", uk.co.firmgently.DontDillyDally.callMethodFromObOnElement);\r\n    // }\r\n\r\n\t\treturn select_el;\r\n  };\r\n\r\n\r\n  createRadioFromOb = function(ob) {\r\n    var\r\n    prop, radio_el, label_el,\r\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\r\n\r\n    for (prop in ob.options) {\r\n      label_el = document.createElement(\"label\");\r\n      label_el.innerHTML = ob.options[prop];\r\n      parent_el.appendChild(label_el);\r\n\r\n      radio_el = document.createElement(\"input\");\r\n      if (ob.class) { addClassname(radio_el, ob.class); }\r\n      parent_el.appendChild(radio_el);\r\n\r\n      radio_el.setAttribute(\"type\", \"radio\");\r\n      radio_el.id = ob.id;\r\n      radio_el.name = ob.id;\r\n      radio_el.value = prop;\n\t\t\tlogMsg(\"ob.checkIfMatched: \" + ob.checkIfMatched);\r\n      if (prop === ob.checkIfMatched) { radio_el.checked = true; }\r\n      // if (prop === dataRetrieveObject(\"prefs\").timespan) { radio_el.checked = true; }\r\n      label_el.htmlFor = ob.id;\r\n    }\r\n\r\n\t\treturn radio_el;\r\n  };\r\n\r\n\r\n  addLIsFromOb = function(ob) {\r\n    var\r\n    i, li_el,\r\n    UL_el = createElementWithId(\"ul\", EL_ID_COLHEADING),\r\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\r\n\r\n    addClassname(UL_el, CLASS_ROW);\r\n\r\n    for (i = 0; i < ob.ar.length; i++) {\r\n      li_el = document.createElement(\"li\");\r\n      li_el.innerHTML = ob.ar[i];\r\n      UL_el.appendChild(li_el);\r\n      if (ob.class) { addClassname(li_el, ob.class); }\r\n    }\r\n\r\n    parent_el.appendChild(UL_el);\r\n  };\r\n\r\n\r\n  createBasicElementFromOb = function(ob) {\r\n    var\r\n    el, elType,\r\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\r\n\r\n    switch (ob.type) {\r\n      case GUITYPE_COL:\r\n      case GUITYPE_ROW:\r\n        elType = \"span\";\r\n        break;\r\n      case GUITYPE_SECTION:\r\n        elType = \"section\";\r\n        break;\r\n      default:\r\n        elType = \"div\";\r\n        break;\r\n    }\r\n\r\n    if (ob.id) {\r\n      el = createElementWithId(elType, ob.id);\r\n    } else {\r\n      el = document.createElement(elType);\r\n    }\r\n    parent_el.appendChild(el);\r\n    if (ob.class) { addClassname(el, ob.class); }\r\n\r\n\t\treturn el;\r\n  };\r\n\r\n\r\n  createColorPickerFromOb = function(ob) {\r\n    var\r\n    el,\r\n    parent_el = (typeof ob.parent == \"string\") ? document.getElementById(ob.parent) : ob.parent;\r\n    if (ob.id) {\r\n      el = createElementWithId(\"span\", ob.id);\r\n    } else {\r\n      el = document.createElement(\"span\");\r\n    }\r\n    parent_el.appendChild(el);\r\n    if (ob.class) { addClassname(el, ob.class); }\r\n\r\n\t\treturn el;\r\n  };\r\n\r\n\r\n/*\tcreateFormFromOb = function(ob) {\r\n    var\r\n    i, form_el,\r\n    parent_el = document.getElementById(ob.parent);\r\n\r\n    if (ob.id) {\r\n      form_el = createElementWithId(\"form\", ob.id);\r\n    } else {\r\n      form_el = document.createElement(\"form\");\r\n    }\r\n    parent_el.appendChild(form_el);\r\n\r\n    if (ob.class) { addClassname(form_el, ob.class); }\r\n    if (ob.title) { form_el.innerHTML = \"<h2>\" + ob.title + \"</h2>\"; }\r\n\r\n    if (ob.el_ar) { drawGUIFromAr(ob.el_ar); }\r\n\r\n    if (ob.hidden) { form_el.style.display = \"none\"; }\r\n\r\n    form_el.ob = ob;\r\n    registerEventHandler(form_el, \"submit\", onFormSubmit);\r\n    registerEventHandler(form_el, \"click\", onFormClick);\r\n\r\n\t\treturn form_el;\r\n  };*/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\treturn {\r\n\t\t/*\r\n\t\t---------------------------------------------------------\r\n\t\t\t\t\t\t\t\tPUBLIC\r\n\t\t---------------------------------------------------------\r\n\t\t*/\r\n\t\tfillHTMLFromOb: fillHTMLFromOb,\r\n\t\tcreateButtonFromOb: createButtonFromOb,\r\n\t\tcreateSelectFromOb: createSelectFromOb,\r\n\t\t// createFormFromOb: createFormFromOb,\r\n\t\tcreateInputFromOb: createInputFromOb,\r\n\t\t// createTextInputFromOb: createTextInputFromOb,\r\n\t\tcreateRadioFromOb: createRadioFromOb,\r\n\t\taddLIsFromOb: addLIsFromOb,\r\n\t\tcreateBasicElementFromOb: createBasicElementFromOb,\r\n\t\t// callMethodFromOb: callMethodFromOb,\r\n\t\t// callMethodFromObOnElement: callMethodFromObOnElement,\r\n\t\tcreateColorPickerFromOb: createColorPickerFromOb\r\n\t};\r\n\r\n}());\r\n","/*\n---------------------------------------------------------\n  Firm Gently\n  DontDillyDally\n  Mark Mayes 2016\n---------------------------------------------------------\n*/\n// create namespace: uk.co.firmgently\nvar uk = (uk !== undefined) ? uk : {};\nuk.co = (uk.co !== undefined) ? uk.co : {};\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\n//\nuk.co.firmgently.DDDConsts = (function() {\n  \"use strict\";\n\n\t/* ---------------------------------------------------------------------------\n\t\tfake constants -\n\n    ** EVERYTHING ADDED HERE UNDER var MUST ALSO BE ADDED TO THE\n       OBJECT IN THE RETURN STATEMENT **\n\n    This is a hackabout but lets us achieve a separate file of 'constants'\n    that can be concatanated into place...\n\t--------------------------------------------------------------------------- */\n\n\tvar\n  APP_ID = \"FGDDD\",\n\n  PAGETYPE_TIMESHEETS = \" > timesheets\",\n  PAGETYPE_CONFIG = \" > preferences\",\n  PAGETYPE_JOBSANDCLIENTS = \" > jobsAndClients\",\n  PAGETYPE_DEFAULT = PAGETYPE_TIMESHEETS,\n  BODYID_TIMESHEETS = \"timesheets\",\n  BODYID_CONFIG = \"config\",\n  BODYID_JOBSANDCLIENTS = \"jobsClients\",\n\n  GUITYPE_COL = \"GUITypeCol\",\n  GUITYPE_ROW = \"GUITypeRow\",\n  GUITYPE_BTN = \"GUITypeBtn\",\n  GUITYPE_COLORPICKER = \"GUITypeColorPicker\",\n  GUITYPE_RADIOBTN = \"GUITypeRadioBtn\",\n  GUITYPE_TEXTINPUT = \"GUITypeTextInput\",\n  GUITYPE_SELECT = \"GUITypeSelect\",\n  GUITYPE_FORM = \"GUITypeForm\",\n  GUITYPE_SECTION = \"GUITypeSection\",\n  GUITYPE_METHODCALL = \"GUITypeMethodCall\",\n  GUITYPE_UL = \"GUITypeUL\",\n\n  CLASS_BTNNAV = \"btnNav\",\n  CLASS_FORMMAIN = \"formMain\",\n  CLASS_COL = \"col\",\n  CLASS_ROW = \"row\",\n\n  CLIENT_STR = \"client\",\n  JOB_STR = \"job\",\n\n  EL_ID_COLHEADING = \"column-headings\",\n  EL_ID_JOBNAMEIN = \"jobNameIn\",\n  EL_ID_CLIENTNAMEIN = \"clientNameIn\",\n  EL_ID_CLIENTSAVEBTN = \"saveNewClientBtn\",\n  EL_ID_JOBSAVEBTN = \"saveNewJobBtn\",\n  EL_ID_SELECTCLIENT = \"selectClient\",\n  EL_ID_SELECTJOB = \"selectJob\",\n\n  CLIENT_FG_COLPICK = \"clientFGPicker\",\n  CLIENT_BG_COLPICK = \"clientBGPicker\",\n  JOB_FG_COLPICK = \"jobFGPicker\",\n  JOB_BG_COLPICK = \"jobBGPicker\",\n\n  DATATYPE_JOB = \"dataTypeJob\",\n  DATATYPE_CLIENT = \"dataTypeClient\",\n\n  CONTENTTYPE_CLIENTS = \"contentTypeClients\",\n  CONTENTTYPE_JOBS = \"contentTypeJobs\",\n\n  TIMESHEETCONTAINER_ID = \"timesheetContainer\",\n  LOADINGINDICATOR_ID = \"loading-indicator\",\n\n  GUIDATA_NAVMAIN = [\n    {\n      type: GUITYPE_BTN,\n      class: CLASS_BTNNAV,\n      id: BODYID_TIMESHEETS,\n      label: \"Timesheets\",\n      methodName: \"navClick\",\n      args: [PAGETYPE_TIMESHEETS],\n      scopeID: \"main\",\n      parent: \"nav-main\"\n    }, {\n      type: GUITYPE_BTN,\n      class: CLASS_BTNNAV,\n      id: BODYID_JOBSANDCLIENTS,\n      label: \"Jobs & Clients\",\n      methodName: \"navClick\",\n      args: [PAGETYPE_JOBSANDCLIENTS],\n      scopeID: \"main\",\n      parent: \"nav-main\"\n    }, {\n      type: GUITYPE_BTN,\n      class: CLASS_BTNNAV,\n      id: BODYID_CONFIG,\n      label: \"Preferences\",\n      methodName: \"navClick\",\n      args: [PAGETYPE_CONFIG],\n      scopeID: \"main\",\n      parent: \"nav-main\"\n    }, {\n      type: GUITYPE_UL,\n      ar: [\n        \"date\", \"hrs\", \"client\", \"job\", \"job notes\", \"£\", \"£ notes\"\n      ],\n      ulID: EL_ID_COLHEADING,\n      class: CLASS_COL,\n      parent: \"header-main\"\n    }\n  ],\n\n\n  PAGEDATA_JOBSANDCLIENTS = {\n    pageTitle: \"Jobs and Clients\",\n    intro: \"Add, delete or edit jobs and clients.\"\n  },\n  GUIDATA_JOBSANDCLIENTS = [\n    {\n      type: GUITYPE_COL,\n      id: \"editClientCol\",\n      class: CLASS_COL,\n      parent: \"main\",\n    }, {\n      type: GUITYPE_FORM,\n      id: \"createClientForm\",\n      class: CLASS_FORMMAIN,\n      title: \"Fill in client details\",\n      // method: null,\n      parent: \"editClientCol\",\n      el_ar: [\n        {\n          type: GUITYPE_ROW,\n          id: \"clientNewRow\",\n          class: CLASS_ROW,\n          parent: \"createClientForm\",\n        }, {\n          type: GUITYPE_ROW,\n          id: \"clientsExistingRow\",\n          class: CLASS_ROW,\n          parent: \"createClientForm\",\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Create new\",\n          id: \"createNewClientBtn\",\n          methodName: \"newClientCreate\",\n          args: [],\n          scopeID: \"createClientForm\",\n          parent: \"clientNewRow\"\n        }, {\n          type: GUITYPE_TEXTINPUT,\n          id: EL_ID_CLIENTNAMEIN,\n          label: \"Client name\",\n          parent: \"clientNewRow\",\n          methodName: \"onClientTyped\",\n          args: [],\n          scopeID: \"createClientForm\",\n          attributes: { \"type\": \"text\" }\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Save\",\n          id: EL_ID_CLIENTSAVEBTN,\n          methodName: \"newClientFormSave\",\n          args: [],\n          scopeID: \"createClientForm\",\n          parent: \"clientNewRow\",\n          disabled: true\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: CLIENT_FG_COLPICK,\n          class: \"color-picker\",\n          parent: \"clientsExistingRow\"\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: CLIENT_BG_COLPICK,\n          class: \"color-picker\",\n          parent: \"clientsExistingRow\"\n        }, {\n          type: GUITYPE_SELECT,\n          label: \"Existing clients\",\n          args: [],\n          scopeID: \"createClientForm\",\n          parent: \"clientsExistingRow\",\n          methodName: \"updateSelected\",\n          id: EL_ID_SELECTCLIENT,\n          contentType: CONTENTTYPE_CLIENTS\n        }\n      ]\n    }, {\n      type: GUITYPE_COL,\n      id: \"editJobCol\",\n      class: CLASS_COL,\n      parent: \"main\",\n    }, {\n      type: GUITYPE_FORM,\n      id: \"createJobForm\",\n      class: CLASS_FORMMAIN,\n      title: \"Fill in job details\",\n      // methodName: null,\n      parent: \"editJobCol\",\n      hidden: false,\n      el_ar: [\n        {\n          type: GUITYPE_ROW,\n          id: \"jobNewRow\",\n          class: CLASS_ROW,\n          parent: \"createJobForm\",\n        }, {\n          type: GUITYPE_ROW,\n          id: \"jobsExistingRow\",\n          class: CLASS_ROW,\n          parent: \"createJobForm\",\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Create new\",\n          id: \"createNewJobBtn\",\n          methodName: \"newJobCreate\",\n          scopeID: \"createJobForm\",\n          args: [],\n          parent: \"jobNewRow\"\n        }, {\n          type: GUITYPE_TEXTINPUT,\n          id: EL_ID_JOBNAMEIN,\n          label: \"Job name\",\n          parent: \"jobNewRow\",\n          attributes: { \"type\": \"text\" }\n        }, {\n          type: GUITYPE_BTN,\n          label: \"Save\",\n          id: EL_ID_JOBSAVEBTN,\n          methodName: \"newJobFormSave\",\n          scopeID: \"createJobForm\",\n          args: [],\n          parent: \"jobNewRow\",\n          disabled: true\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: JOB_FG_COLPICK,\n          class: \"color-picker\",\n          parent: \"jobsExistingRow\"\n        }, {\n          type: GUITYPE_COLORPICKER,\n          id: JOB_BG_COLPICK,\n          class: \"color-picker\",\n          parent: \"jobsExistingRow\"\n        }, {\n          type: GUITYPE_SELECT,\n          label: \"Existing jobs\",\n          args: [],\n          scopeID: \"createJobForm\",\n          parent: \"jobsExistingRow\",\n          methodName: \"updateSelected\",\n          id: \"selectJob\",\n          contentType: CONTENTTYPE_JOBS\n        }\n      ]\n    }\n  ],\n\n  PAGEDATA_TIMESHEETS = {\n    pageTitle: \"Timesheets\",\n    intro: \"Keep track of where you spend your time. Also record payments in and expenses paid out.\"\n  },\n  GUIDATA_TIMESHEETS = [\n    {\n      type: GUITYPE_SECTION,\n      id: TIMESHEETCONTAINER_ID,\n      parent: \"main\"\n    }, {\n      type: GUITYPE_METHODCALL,\n      methodName: \"drawTimesheets\",\n      scopeID: \"main\"\n    }\n  ],\n\n  PAGEDATA_CONFIG = {\n    pageTitle: \"Preferences\",\n    intro: \"Show and hide things and customise settings.\"\n  },\n  GUIDATA_CONFIG = [\n    {\n      type: GUITYPE_FORM,\n      id: \"configForm\",\n      class: CLASS_FORMMAIN,\n      title: \"Set your preferences here\",\n      parent: \"main\",\n      hidden: false,\n      el_ar: [\n         {\n           type: GUITYPE_RADIOBTN,\n           id: \"dateFormat\",\n           label: \"Format used to show dates\",\n           parent: \"configForm\",\n           options: {\n             DATETYPE_DDMMYY: \"dd/mm/yy\",\n             DATETYPE_MMDDYY: \"mm/dd/yy\",\n             DATETYPE_YYMMDD: \"yy/mm/dd\"\n           },\n           disabled: true\n         }, {\n           type: GUITYPE_RADIOBTN,\n           id: \"timesheetRange\",\n           label: \"Choose how many days you want to show on the timesheet page\",\n           parent: \"configForm\",\n           options: {\n             timespanWeek: \"A week\",\n             timespanMonth: \"A month\",\n             timespanYear: \"A year\"\n           },\n           disabled: true\n         }, {\n           type: GUITYPE_RADIOBTN,\n           id: \"totalsToShow\",\n           label: \"Choose which totals you want totted up and displayed\",\n           parent: \"configForm\",\n           options: {\n             showTotalsWeek: \"Show weekly totals\",\n             showTotalsMonth: \"Show monthly totals\",\n             showTotalsWeekAndMonth: \"Show both weekly and monthly totals\"\n           },\n           disabled: true\n         }\n      ]\n    },\n  ],\n\n  DATETYPE_YYMMDD = {\n    label: \"yy/mm/dd\"\n  },\n  DATETYPE_DDMMYY = {\n    label: \"dd/mm/yy\"\n  },\n  DATETYPE_MMDDYY = {\n    label: \"mm/dd/yy\"\n  },\n  DATETYPE_DEFAULT = DATETYPE_DDMMYY,\n\n  JOB_DEFAULT_1 = {\n    name: \"Purchasing\",\n    color: \"#000\",\n    bgcolor: \"#0ff\"\n  },\n\n  JOB_DEFAULT_2 = {\n    name: \"Administration\",\n    color: \"#0f0\",\n    bgcolor: \"#123\"\n  },\n\n  CLIENT_DEFAULT_1 = {\n    name: \"Will @ ACME CO\",\n    color: \"#fff\",\n    bgcolor: \"#f00\"\n  },\n\n  CLIENT_DEFAULT_2 = {\n    name: \"Diamond Jules\",\n    color: \"#435\",\n    bgcolor: \"#821\"\n  },\n\n  // these string values have to match those used in the GUIDATA_CONFIG options\n  TIMESPAN_WEEK = \"timespanWeek\",\n  TIMESPAN_MONTH = \"timespanMonth\",\n  TIMESPAN_YEAR = \"timespanYear\",\n  TIMESPAN_DEFAULT = TIMESPAN_MONTH,\n  DAYSINWEEK = 7,\n  DAYSINMONTH = 31, // set to maxiumum possible (only used for display purposes)\n  DAYSINYEAR = 365,\n\n  // which totals to showing\n  SHOWTOTALS_WEEK = \"showTotalsWeek\",\n  SHOWTOTALS_MONTH = \"showTotalsMonth\",\n  SHOWTOTALS_BOTH = \"showTotalsWeekAndMonth\",\n  SHOWTOTALS_DEFAULT = SHOWTOTALS_BOTH,\n\n  TXT_STORAGE_UNSUPPORTED = \"Sorry - storage is not supported on this device or browser\"\n  ;\n\n\n  /* ---------------------------------------------------------------------------\n\t\tReturn an object mirroring all the constants created above\n    ** EVERYTHING ADDED ABOVE UNDER var MUST ALSO BE ADDED HERE **\n\t--------------------------------------------------------------------------- */\n\treturn {\n    APP_ID: APP_ID,\n    GUIDATA_NAVMAIN: GUIDATA_NAVMAIN,\n    PAGETYPE_TIMESHEETS: PAGETYPE_TIMESHEETS,\n    PAGETYPE_CONFIG: PAGETYPE_CONFIG,\n    PAGETYPE_JOBSANDCLIENTS: PAGETYPE_JOBSANDCLIENTS,\n    PAGETYPE_DEFAULT: PAGETYPE_DEFAULT,\n    BODYID_TIMESHEETS: BODYID_TIMESHEETS,\n    BODYID_CONFIG: BODYID_CONFIG,\n    BODYID_JOBSANDCLIENTS: BODYID_JOBSANDCLIENTS,\n    GUITYPE_COL: GUITYPE_COL,\n    GUITYPE_ROW: GUITYPE_ROW,\n    GUITYPE_BTN: GUITYPE_BTN,\n    GUITYPE_RADIOBTN: GUITYPE_RADIOBTN,\n    GUITYPE_FORM: GUITYPE_FORM,\n    GUITYPE_SELECT: GUITYPE_SELECT,\n    GUITYPE_TEXTINPUT: GUITYPE_TEXTINPUT,\n    GUITYPE_SECTION: GUITYPE_SECTION,\n    GUITYPE_METHODCALL: GUITYPE_METHODCALL,\n    GUITYPE_COLORPICKER: GUITYPE_COLORPICKER,\n    GUITYPE_UL: GUITYPE_UL,\n    TIMESHEETCONTAINER_ID: TIMESHEETCONTAINER_ID,\n    LOADINGINDICATOR_ID: LOADINGINDICATOR_ID,\n    PAGEDATA_JOBSANDCLIENTS: PAGEDATA_JOBSANDCLIENTS,\n    GUIDATA_JOBSANDCLIENTS: GUIDATA_JOBSANDCLIENTS,\n    PAGEDATA_TIMESHEETS: PAGEDATA_TIMESHEETS,\n    GUIDATA_TIMESHEETS: GUIDATA_TIMESHEETS,\n    PAGEDATA_CONFIG: PAGEDATA_CONFIG,\n    GUIDATA_CONFIG: GUIDATA_CONFIG,\n    DATETYPE_YYMMDD: DATETYPE_YYMMDD,\n    DATETYPE_DDMMYY: DATETYPE_DDMMYY,\n    DATETYPE_MMDDYY: DATETYPE_MMDDYY,\n    DATETYPE_DEFAULT: DATETYPE_DEFAULT,\n    TIMESPAN_WEEK: TIMESPAN_WEEK,\n    TIMESPAN_MONTH: TIMESPAN_MONTH,\n    TIMESPAN_YEAR: TIMESPAN_YEAR,\n    TIMESPAN_DEFAULT: TIMESPAN_DEFAULT,\n    DAYSINWEEK: DAYSINWEEK,\n    DAYSINMONTH: DAYSINMONTH,\n    DAYSINYEAR: DAYSINYEAR,\n    CLASS_BTNNAV: CLASS_BTNNAV,\n    CLASS_FORMMAIN: CLASS_FORMMAIN,\n    CLASS_COL: CLASS_COL,\n    CLASS_ROW: CLASS_ROW,\n    EL_ID_COLHEADING: EL_ID_COLHEADING,\n    CLIENT_STR: CLIENT_STR,\n    JOB_STR: JOB_STR,\n    EL_ID_JOBNAMEIN: EL_ID_JOBNAMEIN,\n    EL_ID_CLIENTNAMEIN: EL_ID_CLIENTNAMEIN,\n    JOB_FG_COLPICK: JOB_FG_COLPICK,\n    JOB_BG_COLPICK: JOB_BG_COLPICK,\n    CLIENT_FG_COLPICK: CLIENT_FG_COLPICK,\n    CLIENT_BG_COLPICK: CLIENT_BG_COLPICK,\n    TXT_STORAGE_UNSUPPORTED: TXT_STORAGE_UNSUPPORTED,\n    JOB_DEFAULT_1: JOB_DEFAULT_1,\n    JOB_DEFAULT_2: JOB_DEFAULT_2,\n    CLIENT_DEFAULT_1: CLIENT_DEFAULT_1,\n    CLIENT_DEFAULT_2: CLIENT_DEFAULT_2,\n    CONTENTTYPE_CLIENTS: CONTENTTYPE_CLIENTS,\n    CONTENTTYPE_JOBS: CONTENTTYPE_JOBS,\n    DATATYPE_JOB: DATATYPE_JOB,\n    DATATYPE_CLIENT: DATATYPE_CLIENT,\n    EL_ID_CLIENTSAVEBTN: EL_ID_CLIENTSAVEBTN,\n    EL_ID_JOBSAVEBTN: EL_ID_JOBSAVEBTN,\n    EL_ID_SELECTCLIENT: EL_ID_SELECTCLIENT,\n    EL_ID_SELECTJOB: EL_ID_SELECTJOB,\n    SHOWTOTALS_WEEK: SHOWTOTALS_WEEK,\n    SHOWTOTALS_MONTH: SHOWTOTALS_MONTH,\n    SHOWTOTALS_BOTH: SHOWTOTALS_BOTH,\n    SHOWTOTALS_DEFAULT: SHOWTOTALS_DEFAULT\n  };\n\n\n}());\n","/*\n---------------------------------------------------------\n  Firm Gently\n  DontDillyDally\n  Mark Mayes 2016\n---------------------------------------------------------\n*/\n// create namespace: uk.co.firmgently\nvar uk = (uk !== undefined) ? uk : {};\nuk.co = (uk.co !== undefined) ? uk.co : {};\nuk.co.firmgently = (uk.co.firmgently !== undefined) ? uk.co.firmgently : {};\n//\nuk.co.firmgently.DontDillyDally = (function() {\n  \"use strict\";\n\n  /* ---------------------------------------------------------------------------\n\t\tdeclare / init vars\n\t--------------------------------------------------------------------------- */\n\tvar\n  // variables\n  prop, dateDisplayStart, dateDisplaySelected, dateToday, //timespanDisplay,\n  clientNameInput_el, jobNameInput_el, clientSaveBtn_el, jobSaveBtn_el,\n  colPickClientFG_el, colPickClientBG_el, colPickJobFG_el, colPickJobBG_el,\n  dayOfYear,\n\n\t// methods\n  doSetup, selectPage, drawPage, clearPage, drawGUIFromAr,\n  createFormFromOb, addTask,\n  callMethodFromObOnElement, callMethodFromOb, onFormClick,\n  drawTimesheets, getNextName, newClientCreate, newJobCreate,\n  navClick, onClientTyped, onJobTyped, onFormSubmit,\n  dataStoragePossible, initDataObject, dataStoreObject, dataRetrieveObject,\n  dataUpdateObject, clientAndJobStyleSheet, createClientOrJobFromOb,\n  newClientFormSave, newJobFormSave, clientInputWasLastEmpty,\n  updateRefsToElements, updateSelected, addWorkItem, updateSavedWorkItem\n\t;\n\n  /* ---------------------------------------------------------------------------\n    create local references to public vars (unenforced constants) from DDDConsts\n\t--------------------------------------------------------------------------- */\n  for (prop in uk.co.firmgently.DDDConsts) {\n    this[prop] = uk.co.firmgently.DDDConsts[prop];\n  }\n\n  /* ---------------------------------------------------------------------------\n    create local references to public methods from FGUtils\n    (saves typing/less verbosity)\n\t--------------------------------------------------------------------------- */\n\n\tfor (prop in uk.co.firmgently.FGUtils) {\n\t\tthis[prop] = uk.co.firmgently.FGUtils[prop];\n\t}\n\n\tfor (prop in uk.co.firmgently.FGHTMLBuild) {\n\t\tthis[prop] = uk.co.firmgently.FGHTMLBuild[prop];\n\t}\n\n\n  /* -----------------------------------------------------------------------------\n    data storage methods\n  ----------------------------------------------------------------------------- */\n\n  dataStoragePossible = function() {\n    if(typeof(Storage) === \"undefined\") {\n      logMsg(TXT_STORAGE_UNSUPPORTED);\n    } else {\n      return true;\n    }\n  };\n\n\n  initDataObject = function() {\n    // if no preferences are stored create some defaults\n    if (!dataRetrieveObject(\"prefs\")) {\n      dataStoreObject(\"prefs\", {\n        pagetype: PAGETYPE_DEFAULT,\n        timespan: TIMESPAN_DEFAULT,\n        dateFormat: DATETYPE_DEFAULT,\n        totalsToShow: SHOWTOTALS_DEFAULT\n      });\n      dataStoreObject(\"clientNum\", 0);\n      dataStoreObject(\"jobNum\", 0);\n\n      dataStoreObject(CLIENT_STR, {});\n      createClientOrJobFromOb(CLIENT_DEFAULT_1, DATATYPE_CLIENT);\n      createClientOrJobFromOb(CLIENT_DEFAULT_2, DATATYPE_CLIENT);\n\n      dataStoreObject(JOB_STR, {});\n      createClientOrJobFromOb(JOB_DEFAULT_1, DATATYPE_JOB);\n      createClientOrJobFromOb(JOB_DEFAULT_2, DATATYPE_JOB);\n\n      dataStoreObject(\"day\", {});\n    }\n  };\n\n\n  dataStoreObject = function(category, ob) {\n    localStorage.setItem(APP_ID + \"_\" + category, JSON.stringify(ob));\n  };\n\n\n  dataRetrieveObject = function(category) {\n    return JSON.parse(localStorage.getItem(APP_ID + \"_\" + category));\n  };\n\n\n  dataUpdateObject = function(category, key, value) {\n    var prop,\n    ob = dataRetrieveObject(category);\n    for (prop in ob) {\n      if (prop === key) {\n        ob[prop] = value;\n        break;\n      }\n    }\n    dataStoreObject(category, ob);\n  };\n\n\n\n\n\n  /* -----------------------------------------------------------------------------\n    set up methods\n  ----------------------------------------------------------------------------- */\n\n  doSetup = function() {\n    dateDisplayStart = new Date();\n    dateDisplaySelected = new Date();\n    dateToday = new Date();\n\n\n   localStorage.clear();\n\n\n    if(dataStoragePossible()) {\n      initDataObject();\n      drawGUIFromAr(GUIDATA_NAVMAIN);\n      if (location.hash) {\n        selectPage(decodeURIComponent(location.hash.substring(1)));\n      } else {\n        selectPage(dataRetrieveObject(\"prefs\").pagetype);\n      }\n    }\n  };\n\n\n  selectPage = function(pagetype) {\n    logMsg(\"selectPage('\" + pagetype + \"')\");\n    dataUpdateObject(\"prefs\", \"pagetype\", pagetype);\n    location.hash = pagetype;\n    clearPage();\n    setTimeout(drawPage, 100); // on timer to force reflow after clearPage()\n  };\n\n\n  clearPage = function() {\n    removeClassname(document.getElementById(LOADINGINDICATOR_ID), \"hidden\");\n    document.getElementById(\"main\").innerHTML = \"\";\n  };\n\n\n  drawPage = function() {\n    // var colHeading_el;\n    // clear any pre-created html content\n\n    switch (dataRetrieveObject(\"prefs\").pagetype) {\n      case PAGETYPE_TIMESHEETS:\n        document.body.id = BODYID_TIMESHEETS;\n        fillHTMLFromOb(PAGEDATA_TIMESHEETS);\n        drawGUIFromAr(GUIDATA_TIMESHEETS);\n        break;\n      case PAGETYPE_CONFIG:\n        document.body.id = BODYID_CONFIG;\n        fillHTMLFromOb(PAGEDATA_CONFIG);\n        drawGUIFromAr(GUIDATA_CONFIG);\n        break;\n      case PAGETYPE_JOBSANDCLIENTS:\n        document.body.id = BODYID_JOBSANDCLIENTS;\n        fillHTMLFromOb(PAGEDATA_JOBSANDCLIENTS);\n        drawGUIFromAr(GUIDATA_JOBSANDCLIENTS);\n        break;\n      default:\n        break;\n    }\n    updateRefsToElements();\n    addClassname(document.getElementById(LOADINGINDICATOR_ID), \"hidden\");\n  };\n\n\n  drawGUIFromAr = function(ar) {\n    var i, ob, el_temp;\n    for (i = 0; i < ar.length; i++) {\n      ob = ar[i];\n      switch (ob.type) {\n        case GUITYPE_BTN:\n          el_temp = createButtonFromOb(ob);\n          if (ob.methodName) {\n            registerEventHandler(el_temp, \"mousedown\", callMethodFromObOnElement);\n          }\n          break;\n        case GUITYPE_FORM:\n          createFormFromOb(ob);\n          break;\n        case GUITYPE_TEXTINPUT:\n          el_temp = createInputFromOb(ob);\n          if (ob.methodName) {\n            registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n            registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n            registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n            registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);\n          }\n          break;\n        case GUITYPE_SELECT:\n          el_temp = createSelectFromOb(ob);\n          if (ob.methodName) {\n            registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n          }\n          break;\n        case GUITYPE_RADIOBTN:\n          // alert(dataRetrieveObject(\"prefs\").timespan);\n          // TODO this checkIfMatched should not be added here it should\n          // be included in main data higher up\n          ob.checkIfMatched = dataRetrieveObject(\"prefs\").timespan;\n          el_temp = createRadioFromOb(ob);\n          if (ob.methodName) {\n            registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n          }\n          break;\n        case GUITYPE_UL:\n          addLIsFromOb(ob);\n          break;\n          // intentional rollthrough as they all do exactly the same thing\n        case GUITYPE_SECTION:\n        case GUITYPE_COL:\n        case GUITYPE_ROW:\n          createBasicElementFromOb(ob);\n          break;\n        case GUITYPE_COLORPICKER:\n          createColorPickerFromOb(ob);\n          break;\n        case GUITYPE_METHODCALL:\n          callMethodFromOb(ob);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n\n  createFormFromOb = function(ob) {\n    var\n    i, form_el,\n    parent_el = document.getElementById(ob.parent);\n\n    if (ob.id) {\n      form_el = createElementWithId(\"form\", ob.id);\n    } else {\n      form_el = document.createElement(\"form\");\n    }\n    parent_el.appendChild(form_el);\n\n    if (ob.class) { addClassname(form_el, ob.class); }\n    if (ob.title) { form_el.innerHTML = \"<h2>\" + ob.title + \"</h2>\"; }\n\n    if (ob.el_ar) { drawGUIFromAr(ob.el_ar); }\n\n    if (ob.hidden) { form_el.style.display = \"none\"; }\n\n    form_el.ob = ob;\n    registerEventHandler(form_el, \"submit\", onFormSubmit);\n    registerEventHandler(form_el, \"click\", onFormClick);\n\n\t\treturn form_el;\n  };\n\n\n  addTask = function() {\n    // alert(\"this: \" + this);\n    // alert(\"this.id: \" + this.id);\n    // alert(\"this.ob.scopeID: \" + this.ob.scopeID);\n    // addWorkItem();\n\n    // called from the scope of the 'add task' button\n    addWorkItem(this.parentNode, dayOfYear, 0);\n  };\n\n\n  getNextName = function(type) {\n    var prefix, name, n;\n    if (type === DATATYPE_JOB) {\n      prefix = JOB_STR;\n    } else if (type === DATATYPE_CLIENT) {\n      prefix = CLIENT_STR;\n    }\n    n = 0 + (dataRetrieveObject(prefix + \"Num\")) + 1;\n    dataStoreObject(prefix + \"Num\", n);\n    return prefix + n;\n  };\n\n\n\n\n\n\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\n\t--------------------------------------------------------------------------- */\n\n  createClientOrJobFromOb = function(ob, dataType) {\n    // create unique number to be used in object name/key\n    var\n    id, ar, n, prefix, newItemCSS_selector, //pluralName,\n    input_el,\n    colorPickerFGSelector, colorPickerBGSelector;\n\n    if (dataType === DATATYPE_CLIENT) {\n      input_el = document.getElementById(EL_ID_CLIENTNAMEIN);\n      prefix = CLIENT_STR;\n    } else if (dataType === DATATYPE_JOB) {\n      input_el = document.getElementById(EL_ID_JOBNAMEIN);\n      prefix = JOB_STR;\n    }\n    id = getNextName(dataType);\n    ob.id = id;\n    ob.class = id;\n\n    ar = dataRetrieveObject(prefix);\n    ar[ob.id] = ob;\n    dataStoreObject(prefix, ar);\n\n    newItemCSS_selector = \".\" + id + \", \" +\n      \".\" + id + \":hover, \" +\n      \".\" + id + \":active\";\n    addCSSRule(newItemCSS_selector, \"color\", ob.color);\n    addCSSRule(newItemCSS_selector, \"background-color\", ob.bgcolor);\n\n    if (dataType === DATATYPE_CLIENT) {\n      colorPickerFGSelector = \"#\" + CLIENT_FG_COLPICK;\n      colorPickerBGSelector = \"#\" + CLIENT_BG_COLPICK;\n    } else if (dataType === DATATYPE_JOB) {\n      colorPickerFGSelector = \"#\" + JOB_FG_COLPICK;\n      colorPickerBGSelector = \"#\" + JOB_BG_COLPICK;\n    }\n\n    addCSSRule(colorPickerFGSelector, \"background-color\", ob.color);\n    addCSSRule(colorPickerBGSelector, \"background-color\", ob.bgcolor);\n  };\n\n\n  callMethodFromObOnElement = function(e) {\n    logMsg(\"callMethodFromObOnElement()\");\n    logMsg(\"\\te.target.ob: \" + JSON.stringify(e.target.ob));\n    logMsg(\"\\tthis: \" + this);\n    callMethodFromOb(e.target.ob);\n  };\n\n\n  callMethodFromOb = function(ob) {\n    logMsg(\"callMethodFromOb(): \" + ob.methodName);\n    logMsg(\"\\tob: \" + JSON.stringify(ob));\n    var scope;\n    if (ob.scopeID !== undefined) {\n      scope = document.getElementById(ob.scopeID);\n    } else {\n      scope = undefined;\n    }\n    logMsg(\"\\tscope: \" + scope);\n\n    /*\n    eval usage has been carefully considered and is the best solution\n    for calling one of many methods whose names (strings) have been stored in\n    the constants file\n\n    ob.methodName contains a hard-coded string from DDDConsts.js\n\n    ! NO USER INPUT CAN MAKE IT INTO THIS LOCATION UNLESS THE SOURCE CODE\n    ! HAS BEEN COMPROMISED. IF THAT HAPPENS WE'RE BUGGERED ANYWAY !!\n    */\n\n    /*ignore jslint start*/\n    eval(ob.methodName).apply(scope, ob.args);\n    /*ignore jslint end*/\n  };\n\n\n  onClientTyped = function() {\n    clientSaveBtn_el.disabled = clientNameInput_el.value.isEmpty();\n  };\n\n\n  onJobTyped = function() {\n    jobSaveBtn_el.disabled = jobNameInput_el.value.isEmpty();\n  };\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\t\tpage drawing methods\n\t--------------------------------------------------------------------------- */\n\n  drawTimesheets = function() {\n    var\n    i, j, daysToDraw, isOddDay, weekdayCur,\n    isToday, rowClassname,\n    day_el, date_el, workItem_el, workItemCol_el, hrs_el, client_el, job_el, jobnotes_el,\n    ob_temp, dayWorkItems,\n    weekStartDay = 1, // 0 = Sunday, 1 = Monday etc\n    parent_el = document.getElementById(TIMESHEETCONTAINER_ID),\n    // TODO timesheet should be <ul>\n    workingFragment = document.createDocumentFragment(),\n    allWorkItems = dataRetrieveObject(\"day\"),\n    dayCur = new Date();\n\n    switch(dataRetrieveObject(\"prefs\").timespan) {\n      case TIMESPAN_WEEK:\n        weekdayCur = dayCur.getDay(); // 0 = Sunday, 1 = Monday etc\n        dayCur.setDate(dayCur.getDate() - weekdayCur + weekStartDay); // gets first day of week\n        daysToDraw = DAYSINWEEK;\n        break;\n      case TIMESPAN_MONTH:\n        dayCur.setDate(1);\n        daysToDraw = dayCur.monthDays();\n        break;\n      case TIMESPAN_YEAR:\n        dayCur.setMonth(0);\n        dayCur.setDate(1);\n        daysToDraw = DAYSINYEAR;\n        if (dayCur.isLeapYear()) { daysToDraw += 1; }\n        break;\n      default:\n        break;\n    }\n\n    isOddDay = false;\n    for (i = 0; i < daysToDraw; i++) {\n      dayOfYear = dayCur.getDOY();\n      rowClassname = \"day row \";\n      isToday = !Math.round(daysBetween(dayCur, dateToday));\n      if (isToday) { rowClassname += \"today \"; }\n      if (isOddDay) { rowClassname += \"odd \"; }\n      isOddDay = !isOddDay; // flip state\n      if (dayCur.getDay() === weekStartDay) { rowClassname += \"week-start \"; }\n      if (dayCur.getDate() === 1) { rowClassname += \"month-start \"; }\n      day_el = createElementWithId(\"div\", \"day\" + dayOfYear);\n      addClassname(day_el, rowClassname);\n      // create days in documentFragment to avoid unneccessary reflows\n      workingFragment.appendChild(day_el);\n\n      // date\n      date_el = document.createElement(\"span\");\n      addClassname(date_el, \"date\");\n      addClassname(date_el, \"col\");\n      date_el.innerHTML = dayCur.getWeekDay(1) + \"&nbsp;|&nbsp;\" + getFormattedDate(dayCur, DATETYPE_DEFAULT.label);\n      dayCur.setDate(dayCur.getDate() + 1);\n      day_el.dayNum = dayOfYear;\n      day_el.appendChild(date_el);\n\n      workItemCol_el = document.createElement(\"span\");\n      addClassname(workItemCol_el, \"day-data\");\n      addClassname(workItemCol_el, \"col\");\n      day_el.appendChild(workItemCol_el);\n\n      dayWorkItems = allWorkItems[dayOfYear];\n      // logMsg(\"allWorkItems: \" + allWorkItems);\n      // logMsg(\"dayWorkItems: \" + dayWorkItems);\n      if (dayWorkItems === undefined) {\n        addWorkItem(workItemCol_el, dayOfYear, 0);\n      } else {\n        for (j = 0; j < dayWorkItems.length; j++) {\n          addWorkItem(workItemCol_el, dayOfYear, j);\n        }\n      }\n\n    }\n    parent_el.appendChild(workingFragment);\n  };\n\n\n  addWorkItem = function(parent_el, dayOfYear, itemNum) {\n    var\n    hrs_el, money_el, ob_temp, el_temp,\n    itemID = \"item\" + dayOfYear + \"_\" + itemNum,\n    workItem_el = createElementWithId(\"span\", itemID);\n\n    workItem_el.setAttribute(\"dayOfYear\", dayOfYear);\n    workItem_el.setAttribute(\"itemNum\", itemNum);\n\n    parent_el.appendChild(workItem_el);\n\n    // hours\n    el_temp = createInputFromOb({\n      class: \"hrs\",\n      parent: workItem_el,\n      attributes: {\n        \"type\": \"number\",\n        \"min\":  \"0\", \"max\":  \"59\",\n        \"step\": \"15\", \"size\": \"5\"\n      },\n      methodName: \"updateInput\",\n      scopeID: workItem_el.id\n    });\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);\n\n    // client select/dropdown\n    el_temp = createSelectFromOb({\n      contentType: CONTENTTYPE_CLIENTS,\n      options: dataRetrieveObject(CLIENT_STR),\n      parent: workItem_el,\n      methodName: \"updateSelected\",\n      args: [],\n      scopeID: workItem_el.id\n    });\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n\n    // job select/dropdown\n    el_temp = createSelectFromOb({\n      contentType: CONTENTTYPE_JOBS,\n      options: dataRetrieveObject(JOB_STR),\n      parent: workItem_el,\n      methodName: \"updateSelected\",\n      scopeID: workItem_el.id\n    });\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n\n    // job  notes\n    el_temp = createInputFromOb({\n      class: \"jobNotes\",\n      parent: workItem_el,\n      attributes: { \"type\": \"text\" },\n      methodName: \"updateInput\",\n      scopeID: workItem_el.id\n    });\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);\n\n    // money\n    el_temp = createInputFromOb({\n      class: \"money\",\n      parent: workItem_el,\n      attributes: {\n        \"type\": \"number\",\n        \"min\":  \"0\", \"max\":  \"59\",\n        \"step\": \"15\", \"size\": \"5\"\n      },\n      methodName: \"updateInput\",\n      scopeID: workItem_el.id\n    });\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);\n\n    // money notes\n    el_temp = createInputFromOb({\n      class: \"moneyNotes\",\n      parent: workItem_el,\n      attributes: { \"type\": \"text\" },\n      methodName: \"updateInput\",\n      scopeID: workItem_el.id\n    });\n    registerEventHandler(el_temp, \"change\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"keyup\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"paste\", callMethodFromObOnElement);\n    registerEventHandler(el_temp, \"input\", callMethodFromObOnElement);\n\n    // 'add task' button\n    el_temp = createButtonFromOb({\n      class: \"addTaskBtn\",\n      label: \"+\",\n      parent: workItem_el,\n      methodName: \"addTask\",\n      scopeID: workItem_el.id\n    });\n    registerEventHandler(el_temp, \"mousedown\", callMethodFromObOnElement);\n\n  };\n\n\n/*  updateColoursFromPickers = function(type, fgCol, bgCol) {\n\n  };\n\n*/\n\n  updateRefsToElements = function() {\n    clientNameInput_el = document.getElementById(EL_ID_CLIENTNAMEIN);\n    clientSaveBtn_el = document.getElementById(EL_ID_CLIENTSAVEBTN);\n    colPickClientFG_el = document.getElementById(CLIENT_FG_COLPICK);\n    colPickClientBG_el = document.getElementById(CLIENT_BG_COLPICK);\n    jobNameInput_el = document.getElementById(EL_ID_JOBNAMEIN);\n    jobSaveBtn_el = document.getElementById(EL_ID_JOBSAVEBTN);\n    colPickJobFG_el = document.getElementById(JOB_FG_COLPICK);\n    colPickJobBG_el = document.getElementById(JOB_BG_COLPICK);\n  };\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\t\tFORMS\n\t--------------------------------------------------------------------------- */\n\n\n\n\n  onFormClick = function(e) {\n    var form = e.target.form;\n    if (form && form.id) {\n      switch (form.id) {\n        case \"configForm\":\n          dataUpdateObject(\"prefs\", \"timespan\", form.timesheetRange.value);\n          // dateFormat is an object, the form just stores the name of it so grab it here\n          dataUpdateObject(\"prefs\", \"dateFormat\", uk.co.firmgently.DDDConsts[form.dateFormat.value]);\n          dataUpdateObject(\"prefs\", \"totalsToShow\", form.totalsToShow.value);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n\n  onFormSubmit = function(e) {\n    logMsg(\"FORM SUBMITTED\");\n    stopPropagation(e);\n  };\n\n\n  newClientCreate = function() {\n    var\n    fgCol = getRandomHexColor(\"dark\"),\n    bgCol = getRandomHexColor(\"light\");\n\n    document.getElementById(EL_ID_CLIENTNAMEIN).value = getNextName(DATATYPE_CLIENT);\n    addCSSRule(\"#\" + CLIENT_FG_COLPICK, \"background-color\", fgCol);\n    addCSSRule(\"#\" + CLIENT_BG_COLPICK, \"background-color\", bgCol);\n    addCSSRule(\"#\" + EL_ID_CLIENTNAMEIN, \"color\", fgCol);\n    addCSSRule(\"#\" + EL_ID_CLIENTNAMEIN, \"background-color\", bgCol);\n\n    clientSaveBtn_el.disabled = false;\n    updateRefsToElements();\n  };\n\n\n  newJobCreate = function() {\n    var\n    fgCol = getRandomHexColor(\"light\"),\n    bgCol = getRandomHexColor(\"dark\");\n\n    document.getElementById(EL_ID_JOBNAMEIN).value = getNextName(DATATYPE_JOB);\n    addCSSRule(\"#\" + JOB_FG_COLPICK, \"background-color\", fgCol);\n    addCSSRule(\"#\" + JOB_BG_COLPICK, \"background-color\", bgCol);\n    addCSSRule(\"#\" + EL_ID_JOBNAMEIN, \"color\", fgCol);\n    addCSSRule(\"#\" + EL_ID_JOBNAMEIN, \"background-color\", bgCol);\n\n    jobSaveBtn_el.disabled = false;\n    updateRefsToElements();\n  };\n\n\n  newClientFormSave = function() {\n    createClientOrJobFromOb({\n      name: document.getElementById(EL_ID_CLIENTNAMEIN).value,\n      color: getStyle(colPickClientFG_el, \"background-color\"),\n      bgcolor: getStyle(colPickClientBG_el, \"background-color\")\n    }, DATATYPE_CLIENT);\n    drawPage();\n  };\n\n\n  newJobFormSave = function() {\n    createClientOrJobFromOb({\n      name: document.getElementById(EL_ID_JOBNAMEIN).value,\n      color: getStyle(colPickJobFG_el, \"background-color\"),\n      bgcolor: getStyle(colPickJobBG_el, \"background-color\")\n    }, DATATYPE_JOB);\n    drawPage();\n  };\n\n\n\n\n\n  /* ---------------------------------------------------------------------------\n\n\t--------------------------------------------------------------------------- */\n\n\n  navClick = function(e) {\n    selectPage(arguments[0]);\n  };\n\n\n  updateSavedWorkItem = function(workItem_el) {\n    var\n    dayOfYear = workItem_el.getAttribute(\"dayOfYear\"),\n    itemNum = workItem_el.getAttribute(\"itemNum\");\n\n  };\n\n\n  updateSelected = function(e) {\n    logMsg(\"updateSelected()\");\n    // logMsg(\"\\te: \" + e);\n    // logMsg(\"\\tthis: \" + this);\n    // logMsg(\"\\tthis.id: \" + this.id);\n    var\n    day_ar, workItem_ar, day_ob,\n    select_selector = \"#\" + this.id,\n    // select_selector = \"#\" + e.target.id,\n    option_selector = this.value,\n    // option_selector = e.target.value,\n    pageType = dataRetrieveObject(\"prefs\").pagetype,\n    workItem_el = this.parentNode,\n    // workItem_el = document.getElementById(e.target.id).parentNode,\n    day_el = this.parentNode.parentNode,\n    // day_el = document.getElementById(e.target.id).parentNode.parentNode,\n    dayNum = day_el.dayNum;\n\n    switch (pageType) {\n      case PAGETYPE_TIMESHEETS:\n      case PAGETYPE_JOBSANDCLIENTS:\n        if (this.id.toUpperCase().indexOf(CLIENT_STR.toUpperCase()) !=-1) {\n        // if (e.target.id.toUpperCase().indexOf(CLIENT_STR.toUpperCase()) !=-1) {\n          addCSSRule(select_selector, \"color\", dataRetrieveObject(CLIENT_STR)[option_selector].color);\n          addCSSRule(select_selector, \"background-color\", dataRetrieveObject(CLIENT_STR)[option_selector].bgcolor);\n        } else {\n          addCSSRule(select_selector, \"color\", dataRetrieveObject(JOB_STR)[option_selector].color);\n          addCSSRule(select_selector, \"background-color\", dataRetrieveObject(JOB_STR)[option_selector].bgcolor);\n        }\n        break;\n      case PAGETYPE_CONFIG:\n        break;\n      default:\n        break;\n    }\n    if (pageType === PAGETYPE_TIMESHEETS) {\n      day_ar = dataRetrieveObject(\"day\");\n      day_ob = day_ar[dayNum];\n      if (day_ob === undefined) {\n        day_ob = { work: [] };\n      }\n      workItem_ar = day_ob.work;\n      // TODO this test data should be shown on the page\n      workItem_ar.push({\n        time: \"02:30\",\n        client: \"test client\",\n        job: \"test job\",\n        jobNotes: \"painting the edges\",\n        money: -50,\n        moneyNotes: \"bought canvas REceipt no.11234\"\n      });\n      day_ar[dayNum] = day_ob;\n      dataStoreObject(\"day\", day_ar);\n    }\n/*    if (e.target.id === EL_ID_SELECTCLIENT) {\n\n    } else if (e.target.id === EL_ID_SELECTJOB) {\n\n    }*/\n  };\n\n\n\n\n\n\t/* ---------------------------------------------------------------------------\n\t\tBEGIN...\n\t--------------------------------------------------------------------------- */\n\n  doSetup();\n\n  return;\n\n\n// 'this' would be undefined because of \"use strict\",\n// calling the function with .call(this) fixes it\n}).call(this);\n"]}